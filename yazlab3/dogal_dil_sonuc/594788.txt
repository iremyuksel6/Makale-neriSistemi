object model direct implic direct import spatial concept use mani field geograph inform systemsgi imag interpret also frequent use select condit spatial queri previou work model direct relat predic spatial object convers paper model direct new kind spatial object use concept vector point angl basic approach model direct unit vector novel view direct sever obviou advantag model spatial object direct object attribut oper set secondli new spatial data type orient spatial object open spatial object defin abstract object level final object view direct make direct reason easi also reduc need larg number infer rule featur import spatial queri process optim applic direct model demonstr geograph queri exampl b introduct 11 model direct direct common spatial concept use everywher daili life peopl commun geograph space exampl give rout descript direct necessari convey inform direct also frequent use select condit spatial queries11 use similar access imag databases18 exampl queri use armi battlefield visualization10 anyth ridg list swamp front tankand let move north tree first exampl refer viewerbas orient second defin either intrins orient tankobjectbas viewer third exampl refer absolut direct respect tree order process queri involv direct constraint select criteria spatial databas system provid way user formal direct common mean handl direct model direct spatial relationship objects4 20 8 26 3 16 9 6 22 15 paper formal direct differ perspect spatial object basic approach model direct unit vector orient set direct spatial object direct attribut oper richer set predic oper direct orient defin second new spatial data type orient spatial object unbound spatial object easili defin abstract object level object view direct also make easi perform direct reason use simpl vector algebra also reduc larg number infer rule commonli need use process optim spatial queri contain direct constraint model direct three frame refer absolut object viewerbas orient discuss philosoph issu whether direct objectent strictest sens absolut direct north south east west defin use coordin system wrt earth thu consid object right object view rel direct eg left front need thought direct defin respect coordin system attach object issu need explor 12 relat work contribut research work direct model carri sever area geograph inform system imag analysi studi captur semant direct relat spatial reason direct 3 4 6 two major direct refer frame use model direct 2d space conebas model16 projectionbas model4 6 frank1 compar two model found projectionbas refer frame better mani aspect common way model direct extend object object minimum bound rectanglembr direct relat obtain appli allen 2 interv relat along x axi case 169 differ relations3 distinguish work base mbr propos pictur index pictori databases18 26 work align boundari box object major axis14 make possibl satisfi differ refer frames9 hand freska 5 propos altern method semiinterv formal onedimension tempor relat base incomplet knowledg object goyal egenhof 8 introduc directionrel matrix repres cardin direct base projectionbas frame partit space around refer object record direct tile target object fall model still limit model line object limit 2d space littl work done direct 3d space 7 previou work model direct spatial relationship spatial object seem natur map direct relationship use geograph space model method limit oper direct limit orienteddirect object unbound object repres spatial data model paper model direct spatial object unit vector novel view direct sever advantag binari boolean relationship view model spatial object direct object attribut oper set implement oper use vector algebra make richer set predic oper direct feasibl secondli new spatial data type orient object unbound object defin abstract object level object view direct also make direct reason easi basic vector algebra suffici inferenc new direct special new qualit rule need reduc complex direct reason involv appropri quantit inform use spatial queri process optim spatial databas discuss direct object formal proof applic appear 24 algebra equival class direct object defin algebra unifi differ method directon qualit reason appear previou work4 issu outsid scope paper focuss defin basic concept implic treat direct object 13 scope outlin paper organ paper follow section 2 defin mathemat framework propos new adt direct orient new spatial data type hierarchi also propos section section 3 orient spatial object defin use orient object applic spatial queri discuss open geometri applic illustr section4 final paper conclud discuss recommend futur work 2 basic concept 21 point vector angl basic concept use point vector angl illustr figur 1 point posit space describ use coordin coordin system characterist distinguish one point anoth posit vector contrast vector u v point p q differ angl vector v figur 1 diagram point vector angl magnitud direct fix posit space angl two vector repres direct deviat one vector angl mean smaller one two vector like diagram 1 paper denot point capit letter p denot vector lower case letter arrow v simplic use cartesian coordin system repres point vector paper cartesian coordin system 3d righthand rectangular coordin system three axe x z perpendicular intersect origin point p space repres order tripl x rectangular compon p x z axe respect let u vector basi vector coordin system vector v defin linear combin basi vector u z b c number operand oper definit u z u z theta theta b jajjbj sin u u unit vector perpendicular b scale u z number z point away p distanc jaj along direct tabl 1 oper vector point tabl summar repres oper point vector p two point angl vector b u z u z see subtract oper appli point pair result vector oper addit subtract scale multipl dot productfi cross producttheta avail vector operand definit given term compon cartesian coordin system one oper avail point vector actual produc anoth point associ commut distribut properti oper examin futur work toward integr vector object queri languag 22 direct orient direct defin unit vector ie vector magnitud equal 1 tabl 2 defin oper direct oper definit composit d2 deviat revers gamma1 theta 1 1 among 2 among 2 tabl 2 oper direct oper direct classifi three categori first categori contain oper produc new direct composit revers oper categori composit oper actual achiev vectoraddit result vector scale magnitud unit vector repres new direct revers oper produc revers direct vector second categori oper calcul deviat two direct oper deviat calcul cosin angl two direct henc give deviat one direct pair vector orthogon dotproduct return zero ie 90 0 deviat last categori oper test relationship among direct oper among belong categori figur 2 1 1 2 see later section three categori d2 figur 2 oper direct oper make model direct concis flexibl orient model spatial object consist point origin n pairwis orthogon direct n dimens embed space origin point n direct form cartesian coordin system 3d space three direct may label backfront leftright belowabov direct orient formal defin orient oper 3d space follow definit work well long vector d1 parallel vector d2 parallel case handl user defin manner 3 plane orient quadrupl hop front right abovei op point front right three orthogon direct two oper front right right aboven right aboven right abovefi rotationmatrix exampl rotat matrix rotat orient along axi angl tabl 3 give illustr oper front right front right rightn aboven front right tabl 3 oper orient abstract data type model direct summari discuss definit adt vector direct orient given tabl 4 c like syntax use column label attribut declar member variabl class repres oper column declar interfac oper class vector class three member variabl real type variabl repres three coeffici vector written linear combin basi vector coordin system constructor construct vector object given three real argument five vector oper declar member oper function direct defin subclass vector class construct either vector order tripl besid inherit attribut oper vector class direct also add new oper among orient class four member variabl form cartesian coordin system translat rotat declar member oper function orient class 23 frame refer absolut objectviewerbas direct section deal pointbas object simplic three differ perspect system defin absolut directionseg north south objectbas directionseg left adt attribut repres oper vector xcomp float vectorfloat float float constructor zcomp float vector oper vector oper scale float oper dotproduct vector vector oper theta vector directionfloat float float constructor directionvector constructor direct inherit vector direct oper compositiondirect subclass vector constraint unit magnitud direct oper float oper deviationdirect boolean betweendirect direct boolean amongdirect direct direct orient constructor right direct orient oper rotaterotatematrix tabl 4 abstract data type direct orient viewerbas direct absolut direct absolut direct embed space defin relationship among object base locat embed space simplic ignor elev earth curvatur use projectionbas model map space 2d local coordin system north east right 1 model absolut direct two way constant direct object direct predic constant direct object creat frequent ask direct eg east west north south ne se sw tabl 5 illustr defin constant direct term coordin local embed space unit vector denot order paira b repres vector u north unit vector 10 01 10 01 1 direct east north west south tabl 5 constant absolut direct introduc constant direct object provid much flexibl describ decid di rection use oper deviat calcul much deviat one direct anoth direct also produc new direct given deviat specif constant direct use layout facil second also provid correspond direct predic make conveni user 1 global view extend ellipsoid coordin system13 specifi direct relat two object east w est south north northwest northeast southw est southeast two object assum centroid p 1 p 2 repres relationship p 1 east predic predic true equat hold predic defin similarli constant direct predic give precis direct calcul one angl match case sometim user may interest approxim direct direct rang north northwest oper make approxim direct predic possibl want test whether p 1 north northwest p 2 use oper c notat north objectbas direct objectbas direct direct target object respect orient refer object refer object orient object target object may may orient figur 3 person desk orient object person behind desk desk behind person also use ob repres orient object b right ob three direct bs orient use direct oper revers direct bs behind left describ gammao right respect flag left desk desk right flag figur 3 viewerobjectbas direct given target point object refer point object b direct rel b calcul use deviat oper direct object first direct object ba construct vector gamma b direct point object respect point object bs orient decid deviat direct object ba three direct front right ob bs orient vector dotproduct meta oper direct deviat oper tabl 6 illustr calcul objectbas direct first column consist direct predic remain three column condit need satisfi predic direct predic ba front ba right ba front behind right left frontb right right right right among frontbaboveb leftb right right right right tabl objectbas orient predic return true three correspond condit hold first six row illustr calcul exact direct front left etc row 1 dotproduct vector ba direct ob front greater zero dotproduct vector ba two direct orient ob zero mean front b direct predic precis direct check wherea two categori predic direct rang check second categori direct predic test locat region two direct oper use c notat exampl relationship fronta rightb repres predic right valu true ba front ba right greater zero ba equal zero predic categori direct 2d space third categori predic consist eight direct predic test among three direct 3d space repres predic use oper among seen tabl use direct object ba check direct predic convert calcul direct deviat easili perform dotproduct oper viewerbas direct viewerbas direct refer direct relationship measur viewer per spectiv figur 3 flag left desk viewer perspect three relat compon system target object refer object b viewer viewer hisher orient wherea object b may may orient object given three compon estim direct object rel object b viewer perspect way similar use objectbas system similar predic wrt viewer defin calcul dotproduct vector ba three direct refer orient refer orient viewer orient v henc three dotproduct need calcul front right similar tabl obtain tabl 7 direct predic front right right right tabl 7 viewerbas orient viewerbas direct system viewer may chang hisher orient positionunlik object still use oper rotat translat orient easili gener new orient viewerbas direct heavili use rout navig rout instruct given term absolut direct ie north south etc fact sinc mani peopl idea absolut direct particularli area new rout instruct absolut direct littl mean direct would much easier understand instruct given viewerbas direct mani web rout server mapsonu use mani viewerbas direct possibl rout instruct figur 4 exampl rout map start comput scienc build univers minnesota um apart st paul campu turnbyturn instruct given tabl 8 seen tabl viewerbas direct use everi turn make easi user follow descript intuit como avs como av washington av knapp av e245 raymond av univers avenu us52 figur 4 rout plan go total mile start head south union st se start union st se mpl mn1 less 1 mi turn left onto washington ave se 00 3 14 mi turn left onto raymond ave 19 4 11 mi continu onto n cleveland ave 30 end less 1 mi end point2051 knapp ave stpaul tabl 8 turnbyturn direct 24 new spatial data type hierarchi work done model space spatial geometri hierarchi open gi consortium12 propos spatial object hierarchi incorpor 2d spatial adt sql illustr figur 5 hierarchi consist p oint curv surfac class geometrycollect basic oper confin topolog metric oper sinc data type model bound shape object hierarchi limit model object exampl map river road build directionsorient exampl except print map orient north better visual flexibl spatial queri allow queri state left minnesota ask nongeograph may use geograph concept like north west etc spatial queri minnesota north part usa answer compar locat minnesota center usa direct center without necess get inform boundari usa ogi hierarchi spatial object model bound object north part usa repres polygon need accur boundari inform actual littl effect queri new spatial data type hierarchi propos figur 6 hierarchi includ orient object unboundedopen object could defin use direct orient object discuss multilinestr multipolygon linear line multipoint multicurv multisurfac polygon linestr curv point spatialreferencesystem geometri geometrycollect surfac figur 5 spatial data type hierarchy12 new spatial hierarchi map road defin orient object new spatial data type hierarchi figur 6 illustr extend spatial data type hierarchi consist shape object vector orienteddirect object spatial data type oper embed extend queri languag implement spatial queri languag vector object orient spatial surfac curv solid direct geometri orient open geometri open line open rectangl orient direct line orient solid point close geometri point classic type figur extend spatial data type hierarchi mani new oper avail extend spatial object model vector object shape object affin transform perform addit oper make gi applic easi exampl urban plan need interact placementorient facil locationbas queri explor use affin oper use oper also improv viewer flexibl look earth space instead viewer view direct perform rotat transform later section new spatial data type discuss detail applic geograph space also describ 3 defin orienteddirect spatial object mani object geograph space intrins directionsorient addit locat shape build river road discuss model map orient object provid user flexibl queri specif also allow user littl knowledg geograph space queri direct intuit base orient rout exampl given figur 4 turnbyturn direct tabl 8 mostli use viewerbas direct make inform meaning nongeograph user sinc inform orient start address first direct instruct base absolut direct south know orient exit build use viewerbas direct instead sinc case viewer orient align build exit orient instruct may turn right onto union street se easi user follow tabl 9 show queri answer refer object andor viewer model orient object queri list swamp front tank list farm field suitabl tank movement left lake view viewer 1 let move back littl far next intersect road tabl 9 queri need orient inform introduc orient class spatial object hierarchi make easi formal orient object addit attribut locat shape geometr shape object orient object attribut orient instanc object class orient oper avail orient object includ topolog oper direct orient oper adt orient object specifi oracle8025 first defin direct object type orient object oracl 80 follow assum geometri spatial type defin ogis12 could point line polygon etc x number number z number member function compositionadirect directiontyp return directiontyp member function revers return directiontyp member function deviationadirect directiontyp return number member function betweenadirect directiontyp bdirect directiontyp return number pragma restrict referencesdefault wnd op pointtyp d1 directiontyp d2 directiontyp d3 directiontyp member function translateavector vectortyp return orientationtyp member function rotatedegre number return orientationtyp pragma restrict referencesdefault wnd orientedobject object shape geometri orient orientationtyp member function leftobj geometri return number function defin similarili pragma restrict referencesdefault wnd name varchar220 orient orientationtyp member function leftobj1 geometri obj2 geometri return number function defin similarili pragma restrict referencesdefault wnd use data type solv spatial queri involv orient object exampl show write first two queri tabl 9 use oracl 80 first queri contain objectbas direct second one focus viewerbas direct first databas schema creat consist four tabl farmf ield landcov tank v iewer queri perform databas schema extent geometri extent geometri extent orientedobject list swamp front tank select lname lextent landcov l tank ffl explanationfront objectbas direct predic respect orient object tank landcov partit space base landcov type search partit lie front tank check type exampl possibl type includ swamp water hill list farm field suitabl tank movement left lake view viewer1 select fname fextent farmfield f landcov l viewer v vleftfext lextent1 ffl explan farm field suitabl tank movement crop grow insid soft low type field farmf ield tabl identifi properti left viewerbas direct predic respect orient viewer databas search farmfield left lake viewer1 perspect list satisfi field suitabl tank movement 4 open geometri open object mean geometri whose boundari partial defin extend beyond data window infinit think queri exampl first queri given map minnesota data window what length mississippi river question gi system answer length mississippi river insid minnesota b least length mississippi river insid minnesota dont know exactli sinc mississippi river extend outsid minnesota comput exact length river given minnesota map prefer answer b model river close object return answer precis howev model river open object answer b obtain accur 41 categori open geometri tabl categor open object base two factor extent object knowledg object figur 7 give exampl categori open object knowledg open object within window beyond window extent openg complet none finit openi complet complet infinit openp partial partial tabl 10 defin open object object finit boundari well defin within data window close object type openg refer object finit boundari extend beyond data window portion object within data window fulli known portion outsid data window partial known type open object use gi applic exampl consid map minnesota data window mississippi river fall categori openg openi refer object infinit boundari complet knowledg object either within data window outsid even though seem littl interest geograph scienc sinc earth finit surfac categori use model direct extend object discuss later section moreov openi openg similar close openi openg openp data window figur 7 exampl open shape topolog properti type openp refer object incomplet inform deal kind object scope discuss paper focu categori openg openi use term open object place differ two unnecessari differenti 42 geometr topolog oper open object subsect examin effect open object geometr topolog oper tabl 11 tabl 12 give result basic geometr topolog oper respect close repres close object open refer open object first column small tabl contain first argument type first row contain second argument type exampl differenceclos open two argument differ open object result could either close objectif two open object extend space open object intersect close open union close open differ close open close close close close close open close close close open open open close close open open open open open close tabl 11 domain rang geometr oper open object etdoc close open within close open close boolean boolean close boolean boolean boolean boolean open boolean dont know open fals dont know tabl 12 domain rang logic oper open object etdoc stand one figur 8 illustr four case oper differ open shape involv pattern part repres differ two object worth mention sinc open shape e f extend region difference f close shape ab cd xy f data window figur 8 oper differ open shape tabl 12 combin oper result one tabl etdoc repres one oper set fequal touch disjoint overlap crossesg result oper could either boolean dont know dont know special valu properti similar null valu databas use observ topolog oper involv close object alway boolean result 43 defin open line open rectangl exampl open spatial object open line open plane open space common way defin 3d cartesian geometri term equat parametr equat 17 ct line point axc0 3d space would conveni correspond object class user could describ abstract level use describ space direct object could use purpos defin open line open rectangl region use direct point tabl 13 show formal open object exampl figur 9 c e b figur 9 exampl open shape sever subtyp type open line could 1end openfigur 9a need start point direct defin could 2end openfigur 9b need intermedi point direct describ open rectangl also three subtyp 1side open rectangl 9c describ two vertic rectangl one direct perpendicular edg connect two vertic 2side open rectangl describ use two 1end open line start vertex rectangl also 3side open rectangl could defin type subtyp descript exampl open line openline11end open line startpoint direct openline22end open line intermediatepoint direct b openrect11sid open rectangl vertex 1 vertex 2 direct direct perpendicular segment form two vertic c open rectangl openrect22sid open region two 1end open line vertex openrect33sid open rectangl 2end open line direct e tabl 13 defin open object 2end open line direct obviou extend open cube easi abstract data type open line open rectangl adt open object given tabl 14 use c notat entir open object class defin subclass geometri geometr topolog oper avail open object includ openunion openintersect opendiffer openwithin openequ opentouch opendi joint openoverlap overcross definit oper overload open object accord tabl 11 tabl 12 show attribut constructor open object class illustr repres spatial object figur 9 adt attribut constructor exampl figur 9 line tabl 14 abstract data type open line open rectangl 44 model direct nonpoint object use open object use open shape model direct extend object convert calcul direct relationship calcul topolog relationship object given two object ro want decid direct target object relat refer object ro use approach 8 first obtain mbr object ro partit space around object ro nine direct tile base mbr object ro rectangl abcd figur 10 repres direct tile spatial object tabl 150000000000001111111111111111 ro figur 10 object ro rectangl represent figur 10 rectangleabc tabl 15 direct tile eight nine direct tile open rectangl nw ne se sw 2side open rectan gle n w e 1side open rectangl order test direct object relat object ro test direct tile fall calcul convert overlap relationship object direct tile exampl direct relationship test similarli notic tabl 12 topolog oper involv close object produc boolean valu union tile overlap region target object locat wrt object ro exampl figur 10 north northwest west object ro paper model direct new kind spatial object use concept vector point angl basic approach model direct unit vector novel object view direct sever obviou advantag allow user defin orient spatial object also give richer set predic oper direct orient new spatial data type orient spatial object unbound spatial object defin well final direct reason use spatial queri process optim implement simpli basic vector algebra benefit new viewpoint obviou promis futur work would integr vector abstract data type extens queri languag evalu effici context variou gi applications21 23 would also like explor use vector model valu spatial attribut windveloc magnet field earth etc acknowledg work sponsor part armi high perform comput research center auspic depart armi armi research laboratori cooper agreement number daah049520003contract number daah0495c0008 content necessarili reflect posit polici govern offici endors infer work also support part nsf grant 9631539 thank christian mccarthi help improv readabl paper r qualit spatial reason cardin direct exampl maintain knowledg tempor interv hierarch reason direct relat qualit spatial reason cardin direct tempor reason base semiinterv use orient inform qualit spatial reason basic mean spatial relat comput evalu 3d space directionrel matrix represent direct relat extend spatial object variou view spatial preposit compos conceptu structur spoken natur languag virtual realiti environ introduct spatial databas system open gi consortium inc open gi consortium inc observ point view extens symbol project qualit represent spatial knowledg twodimension space algorithm determin direct relationship arbitrarilyshap polygon plane modern mathemat analysi use 2d c mathemat element comput graphic ccam connectivityclust access method network network comput equival class direct object applic first cours databas system primenumberbas matrix strategi effici icon index symbol pictur tr