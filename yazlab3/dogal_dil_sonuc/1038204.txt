select view materi data warehous data warehous store materi view data one sourc purpos effici implement decisionsupport olap queri one import decis design data warehous select materi view maintain warehous goal select appropri set view minim total queri respons time cost maintain select view given limit amount resourc eg materi time storag space etc articl develop theoret framework gener problem select view data warehous present polynomialtim heurist select view optim total queri respons time diskspac constraint import special case gener data warehous scenario viz 1 view graph queryview uniqu evalu eg multiplequeri optim use gener global evalu plan queri 2 view graph view comput one relat view eg data cube present proof show algorithm guarante provid solut fairli close within constant factor ratio optim solut extend heurist gener andor view graph final address detail viewselect problem mainten cost constraint present provabl competit heurist b introduct data warehous repositori integr inform avail queri analysi ik93 wid95 figur 1 illustr architectur typic warehous 96 inform store warehous form view refer materi view deriv data sourc order keep materi view consist data sourc view increment maintain zgmhw95 gm95 mainten view incur known view mainten updat cost paper concentr problem select appropri set materi view one import design decis design data warehous given storag space constraint problem select set deriv view minim total queri respons time cost maintain select view refer problem viewselect problem relat work problem follow hru96 present analyz algorithm select view special case data cube wrapper wrapper wrapper metadata store manag view manag view sourc queri processor integr monitor monitor wrapper monitor wrapper data warehous view specifi administr fig 1 typic data warehous architectur gupta et al ghru96 extend result select view index data cube work ignor updat cost rss96 look problem augment given set materi view addit set view may reduc total mainten cost rest paper organ follow next section develop theoret framework viewselect problem follow two section present analyz heurist special case section 5 present algorithm gener viewselect problem data warehous final conclud section 6 viewselect problem formul 21 andor view graph subsect develop notion andor view graph one input viewselect problem start defin notion express dag queri view definit 21 express adagan express adag anddag queri view v direct acycl graph base relat sink outgo edg node v sourc incom edg nodeview u outgo edg node view requir comput u depend indic draw semicircl call arc edg arc oper 1 cost associ cost incur comput u v 1 evalu cost node u express adag sum cost associ descend arc 2 1 oper associ arc actual kari function involv oper like join union aggreg etc b c b c e f b fig 2 express adag b express aodag definit 22 express aodag express aodag view queri v direct acycl graph v sourc base relat sink nonsink node associ one arc bind subset outgo edg previou definit arc oper cost associ one arc node depict multipl way comput node 2 definit 23 andor view graph graph g call andor view graph view queri subgraph g g express aodag v node u andor view graph follow paramet associ f u fre quenci queri u u space occupi u g u frequenc updat u exampl graph figur 2b andor view graph subset view f 2 note andor view graph view u comput view v view v comput v 1 also comput 22 construct andor view graph given set queri support warehous construct andor view graph queri follow first construct expressionao dag queri q set andor view graph g set queri construct merg express aodag node andor view graph g repres view could select materi view consid materi queri q construct express aodag consist altern use way evalu q given base relat presenc queriesview roussopoulo rou82 consid exactli problem object analysi identifi possibl use way produc result view given view definit base relat 23 viewselect problem given andor view graph g quantiti avail space view select problem select set view subset node g minim sum total queri respons time total mainten cost constraint total space occupi less formal let qu denot cost answer queri u also node g use set materi view given view graph g evalu cost cheapest embed express adag u g whose sink belong set l l set sink g without loss gener assum sink g alway avail comput repres base tabl sourc thu qu oe cost answer queri u directli sourc let u u mainten cost view u presenc set materi view set sink l given andor view graph g quantiti wish select set viewsnod constraint viewselect problem nphard even special case andor graph arc bind one edg updat frequenc zero straightforward reduct minimum set cover 24 benefit set select view let c arbitrari set view view graph g benefit c respect alreadi select set view denot bc defin g function defin benefit c per unit space respect bc sc sc space occupi view c also bc oe call absolut benefit set c monoton properti benefit function b said satisfi monoton properti respect disjoint set view monoton properti benefit function import greedi heurist deliv competit within constant factor optim solut given instanc andor view graph optim solut partit disjoint subset view om benefit function satisfi monoton properti wrt guid greedi heurist select stage optim set view type includ greedi heurist guarante deliv solut whose benefit least 63 optim benefit show later 3 view graph section consid special case viewselect problem andor view graph assum arc bind outgo edg node case depict simpli scenario view uniqu way comput call graph g view graph node comput children arc oper cost associ view graph set queri merg express adag queri 31 motiv gener viewselect problem approxim simplifi problem select view view graph given set queri support warehous instead contruct andor view graph section 22 could run multiplequeri optim sel88 cm82 gener global plan essenti view graph queri global plan take advantag common subexpress among queri 32 select view view graph subsect present heurist solv viewselect problem view graph without updat cost later extend special case view graph updat cost note viewselect problem view graph known npcomplet problem given view graph g without updat quantiti find set view minim quantiti g constraint total space occupi view algorithm 31 greedi algorithm given g andor view graph space constraint begin set structur select far let c view maximum benefit per unit space respect return end greedi algorithm present simpl greedi heurist select view stage select view maximum benefit per unit space stage see algorithm 31 run time greedi algorithm number node graph k number stage use algorithm observ 1 view graph without updat benefit function b satisfi monoton properti respect arbitrari set theorem 31 view graph g without updat quantiti greedi algorithm produc solut use unit space r size largest view g also absolut benefit least time optim benefit achiev use much space use proof easi see space use greedi algorithm solut sm optim solut use k unit space absolut benefit b consid stage greedi algorithm alreadi chosen set g l occupi l unit space increment benefit 1 absolut benefit g l thu sure absolut benefit set g l least b therefor benefit set respect g l bog l least use observ 1 easi show contradict exist view bo k benefit per unit space respect g l set c select algorithm least least b gamma distribut benefit c unit space equal purpos analysi get lj b gamma sc true set c select stage set equat viz b ka multipli j th equat ad equat get absolut benefit greedyinterchang algorithm present anoth heurist call greedyinterchang algorithm start solut produc greedi algorithm algorithm 31 improv solut interchang view alreadi select view select 2 iter perform interchang solut improv interchang see algorithm 32 unfortun much prove competit solut produc greedi interchang algorithm except obvious least good greedi algorithm moreov run time greedi interchang algorithm unbound believ greedi interchang algorithm practic would perform much better greedi algorithm view occupi differ amount space one view may addedremov algorithm 32 greedyinterchang algorithm given g andor view graph space constraint assum view occupi amount space begin run greedi algorithm let solut return repeat pair view c absolut benefit greater return end 33 incorpor updat cost unfortun benefit function may satisfi monoton properti updat cost see inform consid view c 1 help maintain anoth view c 2 henc benefit might sum benefit individu howev benefit function satisfi monoton properti special case shown follow lemma lemma 1 view graph benefit function b satisfi monoton properti respect set consist singl view updat frequenc g v view v less queri frequenc f v proof suffic prove bv oe bv view v set view let set necessarili proper ancestor v view graph g let let set ancestor v descend set bv oe note qx oegamma view graph ancestor x v therefor get bv bv alreadi select v reduc queri cost node therefor bv last term right hand side due reduct updat cost node result inclus v u x x2ma qv oe let md set descend v let qmd x2md qx oe use u get qv oe theorem 32 consid view graph g view updat frequenc less queri frequenc graph g greedi algorithm produc solut whose absolut benefit least 1 gamma 1e time optim benefit achiev use much space use 34 view graph index section gener viewselect problem view graph introduc index nodeview presenc index cost comput depend upon index use execut oper index built upon correspond view index materi correspond view alreadi materi thu select index without view benefit henc benefit function may satisfi monoton properti arbitrari set structur 3 assum index materi never comput answer user queri need introduc slightli differ cost model view graph index view graph index may multipl edg node u v possibl one index v instead associ cost arc associ label edg u v cost thought cost incur access relat mani time requir comput u v use th index addit kari monoton increas cost function associ everi arc bind k edg consid node u k outgo edg node let kari cost function associ arc bind outgo edg f cost comput u children use th index respect ft edg u v j label problem given quantiti view graph g index associ edg label cost function associ arc describ assum updat find set structur minim quantiti g constraint total space occupi structur innerlevel greedi algorithm innerlevel greedi algorithm work stage stage select subset c consist either view index select greedi manner singl index whose view alreadi select one previou stage 3 structur view index cost access v without index algorithm 33 innerlevel greedi algorithm given g view graph index space constraint begin structur select far contain view index view v index select greedi manner construct ig let ic index v whose benefit per unit space wrt index ij view v return end stage thought consist two phase first phase view v construct set ig initi contain view one one index ad ig order increment benefit benefit per unit space ig respect set structur select till stage reach maximum ig maximum benefit per unit space respect chosen c second phase index whose benefit per unit space maximum respect select benefit per unit space select index compar c better one select addit see algorithm 33 run time innerlevel greedi algorithm ok total number structur given view graph k maximum number structur fit unit space worst case observ 2 view graph index without updat benefit function b satisfi monoton properti respect arbitrari set structur consist view index theorem 33 view graph index given quantiti innerlevel greedi algorithm algorithm 33 produc solut use 2s unit space also absolut benefit least 1 gamma 1e 063 0467 optim benefit achiev use much space use assum structur occupi unit space proof easi see sm 2s let j let optim solut absolut benefit b consid stage innerlevel greedi algorithm alreadi chosen set g l occupi l unit space increment benefit 1 2 3 l absolut benefit set og l least b therefor benefit set respect g l bog l least contain view split disjoint set consist view index monoton properti b wrt set easi show contradict exist least one k benefit per unit space set c select innerlevel greedi algorithm stage least 063 time follow result theorem 41 perform guarante simpl greedi algorithm skip tediou detail 063 distribut benefit c unit space equal purpos analysi get lj k sc true set c select stage set equat viz b k multipli j th equat ad equat get ab absolut benefit graph section consid andor view graph arc bind exactli one edg call andor view graph g view graph node comput one children 41 motiv specif model data warehous data cube data cube databas critic valu eg sale organ sever dimens ex ampl sale automobil organ model color etc queri system usual ask breakdown sale dimen sion therefor associ aggreg view call cube v ff subset ff dimens view v ff essenti result select ff group ff sql queri base tabl aggreg view v ff comput view v fi iff ff fi data cube andor view graph view graph view zero way construct view way involv one view henc result develop section view graph appli data cube olap databas updat assum updat cost throughout section 42 view select view graph subsect present algorithm solv viewselect problem view graph without updat cost gener problem consid harinarayan et al hru96 select cube data cube prove greedi algorithm algorithm 31 propos perform perform guarante even set view graph variant problem known kmedian also studi differ context facil locat cfn77 problem given view graph g quantiti find set view minim quantiti g constraint total space occupi view assum updat observ 3 view graph without updat benefit function b satisfi monoton properti respect arbitrari set theorem 41 view graph g without updat given quantiti greedi algorithm produc solut use unit space r size largest view g also absolut benefit least 1 gamma 1e time optim benefit achiev use much space use recent feig fei96 show minimum setcov problem approxim within factor number element use polynomi time algorithm unless natur reduct minimum setcov problem problem view select view graph reduct show polynomi time algorithm viewselect problem view graph guarante solut better 63 input unless greedi interchang algorithm cornuejol et al cfn77 show similar facil locat problem extens experi case run time greedi interchang littl less 15 time run time greedi algorithm return much better solut return greedi algorithm 43 view graph index case view graph gener viewselect problem view graph introduc index nodeview view graph g index edg node u v label associ cost comput u v use th index 0 cost comput u v problem given quantiti view graph g index find set structur minim quantiti g constraint total space occupi structur view index assum updat observ 4 view graph index without updat benefit function b satisfi monoton properti respect disjoint set structur consist view index theorem 42 innerlevel greedi algorithm produc solut use 2s unit space also absolut benefit least 1gamma1 063 0467 optim benefit achiev use much space use assum structur occupi unit space 5 view select andor view graph section tri gener result develop previou section viewselect problem gener andor view graph present aogreedi algorithm could take exponenti time worst case perform guarante 63 also present multilevel greedi algorithm gener innerlevel greedi algrorithm algorithm 33 give differ formul viewselect problem andor graph sake simplifi descript algorithm definit 51 queryview graph queryview graph g bipartit graph q e q set queri support warehous subset powerset v set view edg q oe iff queri q answer use view set oe cost associ edg cost incur answer q use oe also frequenc f q associ queri q 2 q assum set ae 2 set base tabl q ae 2 e q 2 q 5 note arbitrari andor view graph convert equival queryview problem view select queryview graph given quantiti queryview graph select set view v minim total queri respons time 6 constraint total space occupi view 5 queryview graph look upon graph queri q 2 q comput set view oe q oe 2 e 6 though ignor updat cost incorpor ad possibl addit node addit edg fi defin later 51 aogreedi algorithm queryview graph defin intersect graph f graph set vertic edg respect edg ff fi 2 set view ff fi intersect aogreedi algorithm work stage follow stage algorithm pick connect subgraph h f whose correspond set view vh union set view correspond vertic h offer maximum benefit per unit space stage set view vh ad set view alreadi select previou stage algorithm halt space occupi select view exce omit proof follow theorem due space constraint observ 5 optim solut viewselect problem queri view graph g form theorem 51 queryview graph without updat quantiti aogreedi algorithm produc solut use 2s unit space also absolut benefit least 1 gamma 1e time optim benefit achiev use much space use queryview graph e correspond view graph aogreedi algorithm behav exactli greedi algorithm algorithm 31 take polynomi time view graph 52 multilevel greedi algorithm section gener innerlevel greedi algorithm algorithm 33 multipl innerlevel greedi select queryview graph tri modifi aogreedi algorithm queryview graph attempt improv run time expens perform guarante consid queryview graph e intersect graph f view v v 2 oe node oe f 7 v exist run aogreedi algorithm g let 0 set obtain remov v element f 0 correspond intersect graph select set view u whose benefit per unit space close optim k connect compon f 0 select set view u greedi manner initi set u contain v stage select set view j correspond subgraph compon f maximum benefit per unit space set view j ad set u maintain continu ad view u till total benefit per unit space u improv difficult show benefit per unit space u least 63 benefit per unit space vh set view whose benefit per unit space 7 techniqu develop easili gener case fi l 1 connect compon satisfi properti v vertex oe g maximum among connect subgraph f algorithm continu inter pick new set u ad set alreadi select view space occupi exce algorithm could still take exponenti time need consid possibl subgraph f could appli techniqu recurs graph f select set view u whose benefit within 63 benefit optim set view f appli techniqu recurs r time yield rlevel greedi algorithm omit proof follow theorem theorem 52 queryview graph g given quantiti rlevel greedi algorithm deliv solut use 2s unit space also benefit least 1 gamma 1e 063 r optim benefit achiev use much space use assum view occupi unit space rlevel greedi algorithm take okn 2r time exclud time taken final level k maximum number view fit unit space given instanc one could estim valu r r th level graph f small constants graph last level would take constant amount time view graph index equival queryview graph q e element oe 2 consist singl view one index 8 henc first stage graph obtain consist node repres singl index queryview graph 1level inner greedi algorithm behav exactli innerlevel greedi algorithm algorithm 33 view graph index 6 conclus futur direct paper develop theoret framework gener problem select view data warehous present competit polynomialtim heurist import special case problem occur practic present proof show algorithm guarante provid solut within constant factor optim still lot question remain unansw need consider attent noteworthi among 1 competit polynomialtim heurist special case like andor tree binari andor view tree even without updat optim updat cost heurist optim total queri benefit constraint total mainten time 2 prove neg result approxim view select problem 8 assumpt index never comput answer queri believ techniqu develop paper would offer signific insight greedi heurist natur viewselect problem data warehous hope viewselect problem would invok substanti interest databas theori commun acknowledg would like express thank advisor prof jeff ullman constant encourag insight suggest r locat bank account optim float analyt studi exact approxim algorithm person commun process multipl queri databas system threshold ln n approxim set cover index select olap mainten materi view prob lem implement data cube effici rdbvm develop data warehous logic access path schema databas materi view mainten integr constraint check trade space time multipl queri optim system prototyp warehous view mainten research problem data wareh view mainten wareh environ tr ctr michael lawrenc multiobject genet algorithm materi view select olap data warehous proceed 8th annual confer genet evolutionari comput juli 0812 2006 seattl washington usa