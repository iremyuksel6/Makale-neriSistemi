firstord queri finit structur real investig properti finit relat structur real express firstord sentenc whose predic relat structur plu arbitrari polynomi inequ whose quantifi rang whole set real constraint program terminolog correspond boolean real polynomi constraint queri finit structur fact quantifi rang real seem crucial howev observ sentenc firstord theori real evalu let quantifi rang finit set real number without chang truth valu inspir observ show polynomi use linear queri express uniformli finit structur sentenc quantifi rang finit domain structur word linear constraint program finit structur reduc ordinari queri evalu usual finit model theori databas moreov gener queri taken consider show reduc even prove queri express sentenc use polynomi inequ simpl form x b introduct paper motiv two field comput scienc heavili reli logic relat databas constraint program look latter perspect former classic relat databas theori 1 databas model relat structur domain structur fix univers u possibl data element string natur number typic infinit relat structur contrast alway finit model finit tabl hold data consequ activ domain databas consist data element actual occur one relat finit well boolean queri map databas fix relat signatur true fals basic way express queri firstord sentenc relat sig natur exampl databas contain inform children hobbi queri parent least hobbi children express sentenc 8p8c8hchild p c hobbyc sinc domain databas u quantifi sentenc express queri natur rang whole infinit u thu entir obviou natur interpret queri alway effect comput firstord queri inde comput follow immedi result aylamazyan gilula stolboushkin schwartz 4 simplic hereaft refer four russian show order obtain result queri suffic let quantifi rang activ domain augment finit set q addit data element q number quantifi variabl formula express queri intuit behind result data element outsid activ domain given databas alik respect databas altern choos let quantifi rang activ domain thu obtain semant quit differ natur interpret exampl consid databas singl unari relat symbol sentenc 8xp x alway fals natur interpret activedomain interpret alway true fact obviou queri express natur interpret also express activedomain interpreta tion hull su 11 establish implic inde hold convers implic hold well sinc activedomain interpret easili simul natur interpret use bound quantif recent year much attent paid constraint program languag eg 5 particular 1990 kanellaki kuper revesz demonstr idea constraint program also appli databas queri languag introduc framework con straint queri languag 12 import instanc framework real polynomi constraint univers u data element field r real number databas relat structur r databas relat need longer finit suffic defin finit boolean combin polynomi inequ word kari relat structur must semialgebra subset r k 6 basic way queri real polynomi constraint databas firstord sentenc contain polynomi inequ addit predic symbol relat signatur exampl databas hold set point r 2 queri point lie common circl express quantifi natur interpret rang whole r order evalu sentenc databas replac predic symbol formula polynomi definit correspond databas relat obtain sentenc pure firstord theori real wellknown theori decid 15 truth valu obtain sentenc yield result queri real polynomi constraint queri effect comput finit relat semialgebra finit relat databas real form import special case real polynomi constraint databas exampl want model databas hold finit number rectangl either choos store full extent rectangl result infinit set point rectangl repres term linear inequ obviou way choos store corner point rectangl result finit relat present paper investig whether result four russian hull su mention begin introduc tion carri classic firstord queri relat databas polynomi constraint queri finit databas real deed classic case one give altern activedomain semant constraint sentenc ask whether without loss express power note howev activedomain quantif defi natur constraint program mean reason intent defin potenti finit rang valu henc obviou result mention might carri nonetheless found natur analog four russian theorem abl establish verbatim analog hullsu theorem case linear polynomi use often case practic result might paraphras say finit structur firstord linear constraint program reduc ordinari queri evalu usual finit model theori databas develop base upon follow observ consid prenex normal form sentenc firstord theori real finit set 0 real number exist sequenc 0 1 finit set real sentenc evalu let quantifi rang rather whole r without chang sentenc truth valu take 0 activ domain given finit databas real get analog real case four russian theorem reader familiar collinss method quantifi elimin realclos field cylindr algebra decomposit cad 3 8 surpris observ deed follow less directli obviou adapt cad construct howev give altern selfcontain proof first principl abstract away pure algorithm aspect cad construct focus logic behind importantli proof provid us basi show case linear polynomi construct sequenc depart activ domain 0 simul use linear constraint formula result obtain analog real case hullsu theorem final section paper look queri gener ie distinguish isomorph databas gener natur criterion context classic relat databas 2 7 perhap littl less databas real work 14 propos altern spatial gener criterion base geometr intu ition nevertheless remain interest investig classic gener queri express use linear constraint sentenc sentenc contain polynomi inequ alway express gener queri moment sentenc even contain simpl inequ form x alreadi nongener furthermor exampl due gurevich 1 exercis 1727 show gener queri express simpl inequ without word simpl inequ though inher nongener view isol help express gener queri natur question ask whether gener linear polynomi inequ help even answer question neg thu provid partial rectif kuper origin intuit 13 incorrect state gurevich exampl mention real formula let r field real number real formula firstord formula built atom formula form p 0 p multivari polynomi real coeffici use logic connect quantifi obviou manner among x tupl real number satisfact phi r substitut x denot r defin standard way usual formula without free variabl call sentenc exampl 21 formula phia b c j 9x b c condit like easili express term condit form p 0 p 0gammap 0 r r 6j phi5 3 1 real formula prenex normal q either 9 8 quantifierfre k1 n subset r say phia satisfi evalu true let quantifi q rang rather whole r exampl 22 let phi sentenc main result section state follow theorem 23 let phix prenex normal form real formula finit subset r exist sequenc k finit subset r tupl k r exampl 24 trivial illustr let formula 9x 2 x r 2 remaind section give simpl proof theorem 23 introduc variou auxiliari notion reli heavili later section first defin follow natur equival relat r definit 25 two point b r n call equival respect phi denot j polynomi occur phi sign posit zero neg b extend equival relat induct lower dimens equival class dimens cylindr equival class next lower dimens definit 26 let n assum j alreadi defin r i1 ff fi convers fi ff b fi j ff ff fi real note lemma 27 j finit index r proof downward induct case set equival class r i1 lie ie intersect line fa ff j ff 2 rg clearli inject map equival class c r set fa j 2 cg sinc j finit index r i1 finit number possibl valu henc j finit index r well relev equival relat defin demonstr follow lemma use follow stand formula q i1 x lemma 28 let k n let b equival point r r r lemma proven straightforward induct omit notion domain sequenc defin next crucial technic lemma follow definit directli impli theorem 23 definit 29 let k finit subset r sequenc finit subset r call domain sequenc respect phi k sinc j finit index know domain sequenc alway exist lemma 210 let k sequenc wrt phi let proof downward induct case n note concentr case case q lar denot implic left right assum r exist i1 2 r r accord definit 29 exist 0 lemma 28 sinc r also r thu conclud implic right left straightforward theorem 23 immedi follow case lemma reader may notic never reli fact polynomi inequ p 0 occur real formula p realli polynomi theorem hold firstord languag real function observ substanti claim made introduct proof abstract away pure algorithm aspect collinss cad construct focus logic behind cours depart cad construct one get effect comput version theorem 23 give altern construct linear case section 4 3 queri real databas fix relat signatur oe consist finit number relat symbol associ ariti ff real databas b structur type oe r domain assign relat oe finit relat b rank ff r activ domain b denot adomb finit set real number appear one relat b queri map databas type oe true fals basic way express queri firstord formula look like real mula import addit featur use predic form sp relat symbol oe ariti p polynomi phix queri formula b databas satisfact defin standard way par ticular phi sentenc express queri yield true input databas b iff b exampl 31 assum 2 queri point lie common circl express 9x 0 9y 0 9r8x queri point whose coordin greater equal 1 express 1 note quantifi queri formula natur interpret rang whole r phi queri sentenc b databas produc real sentenc phi b natur way follow let atom subformula phi relat symbol oe know b finit relat consist say tupl g replac phi obviou b r assum queri sentenc phi prenex normal b databas subset r say phi satisfi b evalu true b let quantifi q rang rather whole r given preced discuss follow theorem follow readili materi previou section theorem 32 let phi queri sentenc let b databas adomb 1 domain sequenc respect phi b theorem analog real case four russian theorem 4 mention introduct 4 linear case section focu linear queri express queri sentenc occur polynomi linear prove linear queri express linear queri sentenc quantifi rang activ domain input databas thereto introduc particular way construct domain sequenc activ domain databas base gaussian elimin show construct simul uniform ie databaseindepend way linear queri formula embark point notion equival point respect given real formula phi definit 25 26 depend set polynomi occur phi also talk equival respect given set polynomi let pi set linear polynomi polynomi p form c p defin sequenc linear polynomi induct follow c q word pi set linear polynomi obtain pi i1 gaussian elimin equival point r respect pi character term polynomi pi follow proposit 41 let 1 n let j b respect pi polynomi pi sign posit zero neg b proof sketch downward induct case accord definit 26 j b ff fi ff j b fi convers simplic ignor part present sketch equival induct ff fi polynomi pi i1 sign ff b fi sim pliciti ignor sketch polynomi equival ff fi p 2 pi i1 seen equival pac p definit pi say p 2 pi sign b let phi linear queri sentenc q 1 prenex normal form let b databas recal definit real describ previou section note sinc phi linear phi b linear well fix pi set polynomi occur phi b consid sequenc pi defin observ lemma 42 let 1 n pi finit union set form number set coeffici c set depend particular databas b proof consid case consist polynomi occur phi b element pi classifi two differ kind alreadi occur phi form e p polynomi occur phi e 2 adomb latter case pgamma may assum occur possibl omit argument assumpt without loss gener henc lemma hold n case n follow easili induct posit defin particular domain sequenc respect phi b base sequenc definit 43 linear sequenc b respect phi sequenc 0 induct defin follow 0 equal adomb 1 0 proposit 44 linear sequenc b respect phi domain sequenc respect proof accord definit 29 must show consid definit term 0 43 distinguish follow possibl ff 1 2 ff 3 maxim element e e 1 ff e 2 minim element ff e 2 obviou ff 0 2 moreov way defin clear polynomi pi sign ff ff 0 henc proposit 41 proposit follow one final lemma abl state prove main result section lemma 45 0 n exist finit set p linear polynomi databas b ith member linear sequenc b respect phi equal z independ b proof induct case trivial sinc definit term 0 definit 43 clearli consist four polynomi clearli form p 00 induct igamma1 form p 000 combin express use tediou straightforward substitut process obtain desir form theorem 46 linear queri sentenc phi linear queri sentenc psi databas b b psi adom denot quantifi psi rang activ domain databas proof let linear sequenc b respect phi theorem 32 proposit 44 know b write latter explicitli b case 8 similar lemma 45 know 1 written fpi pg equival 9y rang adomb replac similar manner obtain desir sentenc psi 5 gener queri two databas b b 0 relat signatur oe call isomorph relat symbol oe queri yield result isomorph databas call gener exampl assum oe consist singl binari relat symbol databas type oe view finit direct graph whose node real number cours queri express languag l pure firstord sentenc oe ie contain polynomi inequ gener exampl gener queri graph connect number edg even languag l consist queri sentenc inequ simpl queri easili express point introduct howev gener queri express l l abl prove similar gain express move l full linear queri sentenc theorem 51 linear queri sentenc phi express gener queri queri sentenc psi l databas b theorem 46 adom denot quantifi rang activ domain know theorem 46 activedomain interpret without loss gener proof sketch first observ lemma 52 let p linear polynomi exist real formula involv simpl inequ form x disjunct conjunct negat natur number 1 1 asid would like reader note possibl special theorem 46 queri sentenc use differ construct domain sequenc suffici larg real number 0 tupl set fa true lemma proven note applic multivari polynomi p view applic anoth univari polynomi particular suffici larg sign latter applic determin sign lead coeffici difficulti overcom univari polynomi depend particular howev seen depend essenti way order omit detail use gener phi exploit lemma prove theorem follow defin psi queri sentenc obtain replac polynomi inequ p 0 occur phi correspond formula p provid lemma let b databas let size adomb let 0 suffici larg let ae orderpreserv biject adomb fa g psi first equival hold phi gener second equival obviou lemma definit psi third equival hold ae orderpreserv psi 2 l queri sentenc l distinguish databas isomorph via orderpreserv biject conclud gener queri express l like even cardin relat connect graph express linear queri either non express l address length grumbach su 9 grumbach su tollu 10 also obtain inexpress result linear queri use complex argu ment particular show context ration q rather real r linear queri complex class ac 0 even cardin connect acknowledg grate bart kuijper care read earlier draft materi present paper r foundat databas univers data retriev languag geometr reason logic algebra constraint logic program select search geometri algebriqu reell comput queri relat data base quantifi elimin real close field cylindr algebra decom posit finit represent databas linear constraint databas domain independ relat calculu constraint queri languag express power relat calculu arithmet con straint tr ctr leonid libkin collaps result constraint queri structur small degre inform process letter v86 n5 p277281 15 june gabriel kuper jianwen su represent independ languag planar spatial databas euclidean distanc journal comput system scienc v73 n6 p845874 septemb 2007 michael benedikt martin grohe leonid libkin luc segoufin reachabl connect queri constraint databas proceed nineteenth acm sigmodsigactsigart symposium principl databas system p104115 may 1518 2000 dalla texa unit state michael benedikt martin grohe leonid libkin luc segoufin reachabl connect queri constraint databas journal comput system scienc v66 n1 p169206 01 februari michael benedikt leonid libkin relat queri interpret structur journal acm jacm v47 n4 p644680 juli 2000 evgeni dantsin thoma eiter georg gottlob andrei voronkov complex express power logic program acm comput survey csur v33 n3 p374425 septemb 2001