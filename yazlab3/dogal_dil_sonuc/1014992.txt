probabilist symbol model check prism hybrid approach paper present effici symbol techniqu probabilist model check implement prism tool analysi probabilist model discretetim markov chain continuoustim markov chain markov decis process use specif probabilist tempor logic pctl csl motiv success model checker smv use bdd binari decis diagram develop implement pctl csl model check base mtbdd multitermin bdd bdd exist work direct hinder gener poor perform mtbddbase numer comput often substanti slower explicit method use spars matric focu paper novel hybrid techniqu combin aspect symbol explicit approach overcom perform problem typic exampl achiev dramat improv pure symbol approach addit thank compact model represent use mtbdd verifi system order magnitud larger spars matric almost match even beat speed b introduct design analysi softwar hardwar system often desir even necessari includ probabilist aspect system behaviour exampl includ repres unreli unpredict behaviour faulttoler system deriv ecient algorithm use electron coin ip decis make model arriv departur call wireless cell probabilist model check refer rang techniqu calcul likelihood occurr certain event execut system exhibit behaviour one rst construct probabilist model system properti shutdown occur probabl 001 less video frame deliv within 5m probabl 097 greater express probabilist tempor logic model check algorithm support part epsrc grant grm04617 mathfit studentship david parker jp katoen p steven ed 8th intern confer tool algorithm construct analysi system tacas02 volum 2280 lnc page 5266 2002 c springerverlag berlin heidelberg 2002 marta kwiatkowska gethin norman david parker develop automat verifi whether model satis properti motiv success symbol model checker smv 28 use bdd binari decis diagram 11 develop symbol probabilist model checker nonprobabilist set model check involv analys properti state transit system manipul set state entiti repres natur bdd often compactli 13 probabilist case sinc probabl transit matric probabl vector requir bdd alon sucient henc also use mtbdd multitermin binari decis diagram 17 3 natur extens bdd repres realvalu function symbol probabilist model check consid number peopl 5 21 4 26 19 23 7 25 27 shown feasibl use mtbdd construct comput reachabl state space extrem larg structur probabilist model case often also possibl verifi qualit properti model check reduc reachabilitybas analysi exampl 19 system 10 state veri model check quantit properti hand involv numer comput case 27 mtbdd success appli system state often howev turn comput slow infeas way comparison also implement equival numer comput routin explicitli use spars matric case nd spars matric order magnitud faster present novel hybrid approach use extens mtbdd data structur borrow idea spars matrix techniqu overcom perform problem includ experiment data demonstr use hybrid approach achiev speed order magnitud faster mtbdd fact almost match speed spars matric whilst maintain consider space save outlin paper follow section 2 give overview probabilist model check introduc probabilist model tempor logic consid section 3 describ tool prism implement model check move discuss implement section 4 introduc mtbdd data structur explain use repres analys probabilist model identifi number perform problem implement section 5 describ overcom limit section 6 present experiment result analys success techniqu section 7 conclud paper model check section brie summaris three probabilist model two tempor logic prism support simplest probabilist model discretetim markov chain dtmc speci probabl ps 0 make transit state target state 0 proba probabilist symbol model check prism hybrid approach 3 biliti reach target state given state must sum 1 ie decis process mdp extend dtmc allow probabilist nondeterminist behaviour formal state nondeterminist choic number discret probabl distribut state nondetermin enabl model asynchron parallel composit probabilist system permit underspec certain aspect system continuoustim markov chain ctmc hand speci rate rs 0 make transit state 0 interpret probabl move 0 within time unit posit real valu 1 e rss 0 probabilist specic formal includ pctl 20 10 8 probabilist extens tempor logic ctl applic context mdp dtmc logic csl 7 specic languag ctmc base ctl pctl allow us express properti form schedul process probabl event occur least p p way illustr consid asynchron random leader elect protocol itai rodeh 24 give rise mdp algorithm processor asynchron ring make random choic base coin toss attempt elect leader use atom proposit leader label state leader elect exampl properti would wish verifi express pctl follow p1 leader fair schedul leader eventu elect probabl 1 fair schedul probabl elect leader within k discret time step 05 specic languag csl includ mean express transient steadyst perform measur ctmc transient properti describ system xed realvalu time instant wherea steadyst properti refer behaviour system long run exampl consid queue system atom proposit full label state queue full csl allow us express properti probabl queue becom full within time unit 001 long run chanc queue full least 098 model check algorithm pctl introduc 20 10 extend 8 4 includ fair algorithm csl rst propos 7 sinc improv 6 25 model check algorithm logic reduc combin reachabilitybas comput manip ulat set state numer comput former correspond nding state satisfi formula studi probabl exactli 0 1 latter correspond calcul probabl remain state dtmc entail solut linear equat system 4 marta kwiatkowska gethin norman david parker modul parser parser hybrid engin spars engin engin result statesprob cudd mtbdd properti system descript prism kernel fig 1 prism system architectur mdp solv linear optimis problem ctmc either solut linear equat system standard techniqu known uniformis numer problem typic larg applic direct method instead iter techniqu approxim solut speci accuraci use 3 tool prism tool develop univers birmingham support model check describ previou section tool take input descript system written prism system descript languag probabilist variant reactiv modul 1 rst construct model descript comput set reachabl state prism accept specic either logic pctl csl depend model type perform model check determin state system satisfi specic reachabilitybas comput perform use bdd numer analysi howev choic three engin one use pure mtbdd one base convent spars matric third use hybrid approach present paper figur 1 show structur tool figur 2 show screenshot graphic user interfac prism written combin java c use cudd 32 publicli avail bddmtbdd librari develop univers colorado boulder highlevel part tool user interfac parser written java engin librari written c tool sourc code along inform system descript languag case studi avail prism web page 31 4 mtbdd implement describ implement tool fundament data structur prism mtbdd bdd mtbdd use repres three support model dtmc mdp ctmc furthermor algorithm construct analysi model implement probabilist symbol model check prism hybrid approach 5 fig 2 prism graphic user interfac use data structur section summaris done discuss perform introduct mtbdd xn set distinct total order boolean variabl mtbdd direct acycl graph vertex set vn partit nontermin termin vertic nontermin vertex vn label variabl var v 2 fx two children label real number val v impos boolean variabl order onto graph requir child w nontermin vertex v either termin nontermin satis var v varw mtbdd repres function fm ir valu fm determin travers root vertex follow edg vertex v thenv elsev varv 1 0 respect note bdd mere mtbdd restrict label termin vertic 1 0 mtbdd ecient store reduc form vertic v w ident ie elsew one store furthermor vertex v satisif elsev remov incom edg redirect uniqu child one import factor mtbdd practic point view size number vertic heavili depend order boolean variabl although worst case size mtbdd represent exponenti problem deriv optim order given mtbdd npcomplet problem appli heurist minimis 6 marta kwiatkowska gethin norman david parker graph size mtbdd provid extrem compact storag realvalu function mtbdd represent probabilist model incept 17 3 mtbdd use encod realvalu vector matric mtbdd variabl real vector v length 2 n simpli map real ir henc decid upon encod term fx exampl standard binari encod mtbdd repres v similar fashion consid squar matrix size 2 n 2 n map ir take boolean variabl rang row indic fy rang column dice repres mtbdd fx g dtmc ctmc describ matric henc also straightforward repres mtbdd case mdp complex sinc need encod nondeterminist choic maximum number nondeterminist choic state bound 2 k integ k view mdp function ir ad k extra boolean variabl encod third index repres mdp mtbdd figur 3 show exampl ctmc rate matrix ctmc includ one state unreach explain section 5 figur 4 give mtbdd repres ctmc tabl explain con struction clariti notat mtbdd omit edg lead directli zero termin vertex fig 3 ctmc rate matrix transit x1 x2 y1 y2 x1 y1 x2 y2 r fig 4 mtbdd repres ctmc figur 3 probabilist symbol model check prism hybrid approach 7 observ figur 4 row column variabl order altern one common variabl order heurist minimis mtbdd size achiev compact mtbdd represent probabilist system ever must also consid actual encod row column indic boolean variabl well known rule thumb tri preserv structur entiti repres 23 practic accomplish perform direct translat highlevel descript model case prism system descript languag mtbdd present scheme 19 fast lead compact encod probabilist system result variabl order encod unreach state well reachabl state henc reachabl analysi via simpl bdd xpoint calcul must perform identifi experiment data present section 6 reason space includ statist two typic exampl rstli mdp model coin protocol aspn herlihi random consensu algorithm 2 parameteris n number process addit paramet k xed 4 secondli ctmc model kanban manufactur system 16 parameteris n number pallet system figur 8 give memori requir store model compar mtbdd spars column signic save memori achiev use symbol scheme describ explicit storag method exampl demonstr result see prism web page 31 probabilist model check mtbdd implement entir model check procedur pctl csl mtbdd bdd saw section 2 essenti reduc combin reachabilitybas comput numer calcul former perform bdd form basi nonprobabilist symbol model check proven success 13 28 latter involv iter numer method base matrixvector multipl oper ecient mtbdd algorithm introduc 3 17 fact altern direct method gaussian elimin simplex could appli problem shown unsuit mtbdd implement 3 26 reli modifi model represent oper individu row column element slow lead loss regular subsequ explos mtbdd size result implement mtbdd summaris fol low clear distinct two dierent aspect model check reachabilitybas comput sucient model check qualit properti implement ecient bdd shown 19 27 numer comput requir check quantit properti unpredict problem focu found number case studi mtbbd outperform explicit techniqu numer comput one exampl coin 8 marta kwiatkowska gethin norman david parker protocol introduc previous includ result model top half figur 9 compar column mtbdd spars would imposs even store spars matrix larger exampl assum reason amount memori found pattern hold sever mdp case studi consid exampl illustr found prism web site 31 includ byzantin agreement protocol ieee 1394 firewir root content protocol second class model name ctmc nd symbol implement numer iter method far ecient despit compact mtbdd represent model process gener slow infeas ineci caus mtbdd represent iter vector becom larg vector repres compactli mtbdd main requir limit number distinct element howev gener perform numer analysi iter vector quickli acquir almost mani distinct valu state system studi figur 9 show contrast perform mtbdd kanban ctmc coin protocol mdp spars matrix base implement much faster 5 hybrid approach present method overcom ineci mtbdd outlin previou section recal spars matrix techniqu yield extrem fast numer comput sinc iter vector store full array remain constant size singl matrixvector multipl carri travers spars matrix extract nonzero entri need exactli comput new iter vector unfortun sinc probabilist model also store explicitli applic larg exampl often limit memori constraint approach taken use hybrid two techniqu mtbdd spars matric store transit matrix mtbddlike data structur use full array iter vector perform matrixvector multipl henc iter method use two data structur key dierenc hybrid approach need extract nonzero matrix entri mtbdd rather spars matrix clariti present focus case ctmc solv linear equat system iter method comput steadyst probabl also appli techniqu dtmc mdp model restrict certain iter method name power jacobi jor matrix entri extract order perform iter mean proceed via recurs travers mtbdd matter enumer entri essenti random order rather rowbyrow columnbycolumn spars matrix probabilist symbol model check prism hybrid approach 9 sinc matrix indic encod standard binari represent integ trivial keep track row column index travers note whether els edg taken point sum appropri power 2 unfortun number problem naiv approach resolv make number modic mtbdd data structur modifi mtbdd data structur first recal section 4 get ecient mtbdd represent transit matrix must contain unreach state perform matrixvector multipl describ mtbdd would requir vector array store entri state includ unreach number unreach state potenti larg case order magnitud larger reachabl portion put unaccept limit size problem handl solut adopt augment mtbdd vertex label integ oset use comput actual indic matrix element term reachabl state recurs travers figur 5 illustr idea exampl section 4 includ unreach state left modi mtbdd repres transit matrix r ctmc tabl right explain travers process work row correspond singl matrix entri transit rst column describ path taken mtbdd next four column give vertex oset along path last column give result matrix entri figur 6 give actual travers algorithm would call follow traverserecroot 0 0 root toplevel vertex mtbdd path oset transit fig 5 modi mtbdd repres ctmc figur 5 key idea indic comput sum oset vertex oset ad leav edg vertex note row column indic comput independ row oset x vertic column oset vertic exampl consid last line tabl take path mtbdd lead 7 termin vertex use oset level x 1 x 2 2 exit via edg row index 2 column index 1 obtain marta kwiatkowska gethin norman david parker traverserecv row col v nonzero termin vertex found matrix element row elseif v row vertex traverserecelsev row col elseif v row vertex traverserecelsev row col traverserecthenv row col endif fig 6 hybrid travers algorithm matrix entri 2 7 note refer state 3 figur 4 chang state 2 figur 5 sinc three reachabl state two point consid convers mtbdd figur new form figur 5 first note vertic mtbdd reach along sever dierent path share vertic correspond repeat submatric overal matrix consid matrix figur 3 mtbdd represent figur 4 bottomleft topright quadrant matrix ident sinc row column unreach state lled zero ect fact x 2 vertex mtbdd two incom edg two ident submatric howev share pattern reachabl state mean potenti clash oset label vertex resolv ad extra copi vertex necessari label dierent oset note addit two vertic right hand side figur 5 eectiv modi condit two mtbdd vertic merg requir level ident children also oset label note transform mtbbd use mani iter requir discard henc need abl travers data structur manipul way second point make convers involv skip level mtbdd vertex ident children omit save space caus potenti problem must care detect travers fact solut adopt perform check initi convers replac skip extra vertic allow us ignor issu entir travers make process faster exampl figur 5 note extra x 2 vertex left hand side except rule allow edg skip vertex directli zero termin vertex sinc interest nonzero entri probabilist symbol model check prism hybrid approach 11 optimis approach optimis method consider via form cach mtbdd exploit structur model analys give signic space save achiev ident vertic repres ident submatric merg store travers howev share vertic visit sever time mani time submatrix occur overal matrix entri submatrix comput everi time store reus result comput achiev signic speedup travers time rather store result cach would need search frequent simpli attach inform directli mtbdd ver tice select subset vertic build explicit spars matrix represent associ submatric attach mtbdd obviou tradeo addit space requir store data result improv speed space requir time improv depend mani vertic one attach matric experi good polici replac vertic one fairli low level mtbdd figur 7 demonstr techniqu run exampl replac vertic x 2 level matric repres practic nd cach improv travers speed order magnitud next section give experiment result implement includ techniqu describ 0 2fig 7 modi mtbdd label explicit submatric 6 result section present experiment result obtain prism tool compar perform three implement discuss paper pure mtbdd spars matric hybrid approach focus problem iter numer comput figur 8 give storag requir coin protocol kanban model introduc earlier compar size mtbdd spars matrix modi mtbdd use hybrid approach without optimis section 4 observ signic advantag mtbdd spars matric note even store oset inform extra vertic explicit submatric hybrid approach remain memori ecient 12 marta kwiatkowska gethin norman david parker model n state memori kb mtbdd spars hybrid hybrid opt coin 4 43136 285 2265 567 698 protocol 6 2376448 612 173424 933 314 kanban 4 454475 957 48414 171 231 system 5 2546432 123 296588 219 337 6 11261376 154 1399955 272 486 fig 8 storag requir coin protocol kanban exampl model n state iter time per iter sec mtbdd spars hybrid hybrid opt coin 4 43136 6133 0173 0034 007 0039 protocol 6 2376448 12679 101 1741 558 302 kanban 4 454475 466 0436 609 0502 system 5 2546432 663 276 334 3150 fig 9 model check time coin protocol kanban exampl furthermor time ad inform mtbdd case negligl compar model check figur 9 present model check time two case studi coin protocol verifi quantit pctl properti requir solut linear optimis problem kanban system model check quantit csl properti requir comput steadyst probabl via solut linear equat system use jor iter method experi run 440 mhz sun ultra 10 workstat 1 gb memori iter method termin rel error subsequ iter vector less 10 6 remark section 4 coin protocol model mani mdp model ecient mtbdd problem tri address hybrid approach typi kanban exampl mtbdd alon ineci use techniqu present paper abl consid larger model spars matric furthermor use optimis version almost match speed spars matric ctmc case studi consid queue network workstat cluster conrm result detail found prism web page 31 probabilist symbol model check prism hybrid approach 13 relat work awar three probabilist model check tool probveru 21 mtbddbase model checker support dtmc subset pctl tool emc 2 22 support model check ctmc csl specic use spars matric tool describ 18 use abstract renement perform model check subset pctl mdp number sparsematrix base dtmc ctmc tool marca 33 allow logic specic support steadyst transient analysi area research close link work kroneck approach 30 techniqu analysi larg structur ctmc dtmc basic idea matrix full system dene kroneck algebra express smaller matric correspond subcompon overal system necessari store small matric structur kroneck express iter solut method appli matrix form approach storag requir matrix rel small ingeni techniqu must develop minimis time overhead requir numer solut tool support kroneck base method includ apnn 9 smart 14 particular smart incorpor matrix diagram 15 data structur develop ecient implement kroneck techniqu matrix diagram approach much common hybrid method present paper particular method use decisiondiagram like data structur store matric full array store vector key dierenc matrix diagram tie kroneck represent requir work extract transit matrix entri addit travers data structur comput matrix element requir multipl entri smaller matric anoth import dierenc kroneck matrix diagram approach permit use ecient iter method gaussseidel approach present support henc although less work per iter may requir iter use method addit gaussseidel implement singl iter vector wherea method jacobi jor requir two one issu unit kroneck approach matrix diagram method limit factor space requir store iter vector howev compact matrix represent memori proport number state requir numer solut buchholz kemper consid interest techniqu 12 use pdg probabilist decis graph attempt store iter vector structur way done matrix investig requir discov potenti approach 14 marta kwiatkowska gethin norman david parker 7 conclus introduc prism tool build analys probabilist system support three type model dtmc mdp ctmc two probabilist logic pctl csl well mtbdd spars matrix base model check engin prism includ novel hybrid engin combin symbol explicit approach shown larg probabilist system construct analys use mtbdd often numer comput ineci hybrid approach address perform problem allow veric accept speed much larger system would feasibl use spars matric detail avail 29 one problem current techniqu present support power jacobi jor iter method plan extend work allow rapidli converg altern gaussseidel krylov method use develop prism ongo activ near futur intend consid extens pctl express expect time long run averag properti csl includ reward expand prism input languag allow process algebra term develop model check engin prism work parallel distribut set r reactiv modul fast random consensu use share memori algebra decis diagram applic algorithm veri symbol model check probabilist process model check continuoustim markov chain transient analysi approxim symbol model check continuoustim markov chain model check probabilist branch time logic fair toolbox function quantit analysi ded model check probabilist nondeterminist system compact represent probabl distribut analysi superpos gspn symbol model check 10 20 state beyond smart simul markovian analys reliabl time data structur ecient kroneck solut gspn use kroneck oper solut gener stocast petri net reachabl analysi probabilist system success symbol model check concurr probabilist process use mtbdd kroneck represent logic reason time probabl probveru probabilist symbol model check markov chain model checker multi termin binari decis diagram repres analys continu time markov chain symmetri break distribut network faster symbol ctmc model check symbol model check concurr probabilist system use mtbdd simplex autom veri symbol model check implement symbol model check probabilist system stochast structur parallel synchronis model distribut algorithm prism web page cudd colorado univers decis diagram packag marca markov chain analys tr ctr g ciardo r l jone iii miner r siminiceanu logic stochast model smart perform evalu v63 n6 p578608 june 2006 annabel mciver carrol morgan abstract refin probabilist system acm sigmetr perform evalu review v32 n4 p4147 march 2005 christel baier frank ciesinski marcu grer probmela verif markov decis process acm sigmetr perform evalu review v32 n4 p2227 march 2005 christel baier frank ciesinski marcu groesser quantit analysi distribut random protocol proceed 10th intern workshop formal method industri critic system p27 septemb 0506 2005 lisbon portug christel baier boudewijn r haverkort holger hermann joostpiet katoen model check meet perform evalu acm sigmetr perform evalu review v32 n4 p1015 march 2005 gianfranco ciardo andrew miner implicit data structur logic stochast system analysi acm sigmetr perform evalu review v32 n4 p49 march 2005 marta kwiatkowska gethin norman david parker jeremi sproston perform analysi probabilist time automata use digit clock formal method system design v29 n1 p3378 juli 2006 hkan l youn reid g simmon statist probabilist model check focu timebound properti inform comput v204 n9 p13681409 septemb 2006