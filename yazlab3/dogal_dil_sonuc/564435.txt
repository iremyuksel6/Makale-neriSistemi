robust tempor spectral model queri melodi queri melodi problem retriev music perform melodi retriev real perform complic due larg number variat perform melodi presenc color accompani nois describ simpl yet effect probabilist model task describ gener model rich enough captur spectral tempor variat music perform allow tractabl melodi retriev previou studi music retriev melodi perform either symbol eg midi data monophon singl instrument perform perform experi retriev live studio record opera contain lead vocalist rich instrument accompani result show probabilist approach propos effect scale massiv dataset b introduct natur way search music audio databas song look short audio segment contain melodi song exist system base textual inform titl song name compos howev peopl often rememb name compos song titl easili recal fragment soloist melodi task queri melodi attempt autom music retriev task rst discuss context queri hum 11 13 14 work focu convert hum melodi symbol midi format midi acronym music instrument digit inter face symbol format repres music permiss make digit hard copi part work person classroom use grant without fee provid copi made distribut profit commerci advantag copi bear notic full citat first page copi otherwis republish post server redistribut list requir prior specif permiss andor fee sigir02 august 1115 2002 tamper finland queri convert symbol format challeng search music perform approxim match queri research far conduct music store midi format 12 monophon ie singl vocal instrument record see instanc 9 7 refer therein paper suggest method queri melodi queri pose symbol form monophon melodi databas consist real polyphon record deal real polyphon record need address sever complic factor ideal melodi repres sequenc note pair frequenc tempor durat real record two major sourc diculti aris rst high variabl actual durat note melodi perform faster slower one dictat music score type variat often refer tempo vari abil furthermor tempo vari within singl perform instanc perform start slow tempo gradual increas second complic factor high variabl spectrum due mani factor dierenc tone color timbr dierent singersinstru intent variat lead vocalist eg vibrato dynam spectral mask lead vocal accompani vocal orchestra propos tackl diculti use gener probabilist approach model tempor spectral variat associ note hidden tempo variabl tempo variabl captur tempor variat durat note enabl ecient com putat hidden tempo sequenc model rst order markov process addit also describ simpl probabilist spectral distribut model robust mask nois accompani instrument singer spectral distribut model variant harmon likelihood model pitch detect 16 combin tempor spectral probabilist compon obtain joint model thought dynam bayesian network 8 represent enabl ecient align retriev use dynam program probabilist approach relat sever recent work employ hidden markov model hmm music process raphael 15 use melodi inform pitch durat note build hmm score follow applic similar approach taken durey clement 9 use pitch inform note build hmm melodi retriev howev approach design evalu monophon music databas work polyphon music process address task music segment textur 6 polyphon pitch track 18 genr classic 17 10 believ approach describ paper step toward eectiv retriev procedur massiv music dataset 2 problem set set given melodi task retriev music perform contain request melodi nd locat within retriev perfor manc melodi sequenc note note pair pitch valu durat valu goal retriev melodi audio signal repres real perform formal let r denot posit real number let frequenc valu hz let f l fh diapason diapason singer instrument rang pitch frequenc use singer instrument instanc tenor singer typic employ diapason 110hz 530hz let denot set possibl frequenc note welltemp western music tune system possibl pitch note diapason melodi describ formal sequenc pitch p 2 k sequenc durat 2 r k preden time unit eg second sampl perform melodi discret time sampl audio perform formal entir dene given melodi play sing use pitch p1 rst d1 second play sing pitch p2 next d2 second forth realiti melodi impos rigid framework actual frequenc content given note vari type instrument play perform exampl variat vibrato timbr eect accompani also greatli uenc spectral distribut play note use pitch p like see local concentr energi close multipl frequenc p power spectrum signal howev may spectral region high level energi address problem later section anoth sourc variat local scale durat note instruct melodi perform typic use tempo scale durat move one tempo anoth thu use dierent time scale play note therefor also need model variat tempo describ tempo sequenc sequenc scale factor 2 actual durat note denot e scale seemingli allow dierent scale factor dierent note add degre freedom make melodi durat valu redund howev typic tempo sequenc chang rapidli thu ect inform origin durat scale factor tabl 1 show two exampl sequenc pitchdurationtempo triplet p gener actual pitchdur pair p e rallentando 12 12 125 13 13 tabl 1 exampl scale factor sequenc rst sequenc scale factor gradual increas thu tempo decreas rallentando second exampl scale factor decreas tempo increas accelerando order describ gener actual perform audio signal p e introduc one vari abl 2 r k start time sampl number note perform dene e j consecut block signal sampl let block sampl gener note power spectrum vari signicantli perform perform accord variou factor spectral envelop soloist pitch accompani instrument sinc goal locat retriev melodi dataset may contain thousand per formanc resort simpl spectral model explicitli model variabl use approxim likelihood block spectrum given pitch 3 melodi signal gener model pose problem probabilist framework need describ likelihood perform given melodi cast tempo sequenc hidden random variabl thu likelihood written simplic assum tempo sequenc depend melodi assumpt natur alway hold found empir type correl ingnor short piec perfor manc assumpt ident e equ 1 rewritten need specifi prior distribut tempo posterior distribut signal given pitch actual durat note p ojp e 31 model chose model tempo sequenc rst order markov process see sequel choic one hand allow ecient align retriev hand found empir rich enough fore likelihood given use lognorm distribut model condit probabl scale paramet varianc prior distribut rst scale factor p m1 also assum lognorm around zero varianc log 2 n 0 experi paramet determin manual accord music knowledg paramet also learn midi le 32 spectral distribut model section describ spectral distribut model exist quit model spectral distribut sing voic harmon instrument howev model rather gener model typic assum music signal contamin white nois whose energi statist independ signal see instanc 16 refer therein contrast assum lead instrument soloist accompani orchestra choru energi accompani typic highli correl energi soloist put anoth way dynam accompani match dynam soloist instanc soloist sing pianissimo choru follow pianissimo voic therefor develop simpl model whose paramet ecient estim cope correl energi lead soloist accompani fig 1 show spectrum one frame perform signal databas harmon design dash line clear gure larg concentr energi design harmon residu en ergi outsid harmon certainli nonneglig clearli lower energi harmon thu assumpt although simplist seem captur larg extent characterist spectrum sing accompani use denit block sec 2 likelihood signal given sequenc pitch durat decompos product likelihood valu individu block therefor core model approach probabilist model spectral distribut whole block given underli pitch frequenc soloist start point similar model present 16 assum note pitch p attain high energi frequenc multipl p name p h integ h frequenc often refer harmon sinc signal band limit need consid nite set harmon h h 2 f1 2 hg practic purpos set h 20 enabl fast paramet estim procedur let f denot observ energi block frequenc let denot energi soloist frequenc harmon model assum figur 1 spectrum singl frame along impuls train design harmon soloist burst energi center harmon pitch frequenc p h model weight sum ah volum gain harmon whose index h residu spectrum frequenc denot n equal describ probabilist model lead follow loglikelihood score log denot 2norm deriv equat assum spectrum ith block f compris two compon rst compon energi soloist dene equ 2 second compon gener mask nois encompass signal energi due accompani aect entir spectrum denot nois energi frequenc energi spectrum frequenc therefor model impos anoth simplifi assumpt set nois multivari normal random variabl assum nois valu frequenc statist independ equal varianc thu nois densiti function v varianc l number spectral point comput discret fourier transform chose get good spectral resolut take log densiti function get log gain valu ah free paramet need estim spectrum assum nois level rel small compar burst energi harmon pitch frequenc set valu ah f p h also know nois varianc v paramet use simpl maximum likelihood ml estim easili found follow maximum likelihood estim v found take deriv log fjv respect v log fjv rearrang equ 4 nois valu frequenc written use equat along valu set ah maximum likelihood estim v equ 6 get log log sinc stochast ingredi spectral model accompani nois nois likelihood also constitut likelihood spectrum summar overview approach retriev given melodi p want nd audio signal repres perform melodi use probabilist framework cast problem problem nding signal portion whose likelihood given melodi p ojp high search strategi follow nd best align signal melodi describ next section score align procedur devis also mean retriev rank segment signal accord likelihood score return segment achiev high likelihood score 4 align retriev align melodi signal perform nd ing best assign tempo sequenc formal look scale factor attain highest likelihood score although number possibl sequenc scale factor grow exponenti sequenc length problem nding ecient solv use dynam program describ scale factor rst note melodi let rst sampl signal let discret set possibl scale factor valu 2 let set possibl sequenc scale factor scale factor note 1 initi 2 recurs 3 termin figur 2 align algorithm actual end time note let joint likelihood pseudo code comput recurs shown fig 2 like sequenc scale factor obtain algorithm save intermedi valu maxim express recurs step complex algorithm okt jm j 2 k number note number sampl digit signal jm j number possibl tempo valu maxim durat note use precomput likelihood valu reduc time complex factor thu run time algorithm reduc okt jm j 2 import clarifi precomput complet determin singl pitch valu frame calcul probabl frame given possibl pitch diapason mention primari goal retriev segment signal repres melodi given queri theoret need assign segment likelihood score howev margin probabl rather expens comput thu approxim probabl joint probabl signal like sequenc scale factor use likelihood score align procedur retriev score 5 experiment result evalu algorithm collect 50 dierent melodi famou opera aria queri melodi databas real record record consist 832 perform opera aria perform 40 dierent tenor singer full orchestr accompani perform one minut data extract seven audio cd 2 3 5 1 4 save wav mat perform 90 percent digit record dddadd yet perform digit remast old analog record aad spectral distribut model hsn hin avgp cov oerr avgp cov oerr melodi length tabl 2 retriev result introduc addit complex retriev task due vari level nois melodi experi extract midi le half midi le download internet 1 rest midi le perform midi keyboard save midi le compar three dierent tempobas approach retriev rst method simpli use origin durat given queri without scale refer simplist approach fix tempo ft model second approach use singl scale factor durat given melodi howev scale factor determin independ signal maxim signal likelihood refer model local fix tempo lft model third retriev method variabl tempo model introduc paper therefor refer method variabl tempo model take prex subset melodi use queri evalu three dierent length melodi 5 second 15 second 25 second assess qualiti spectral distribut model describ sec 32 implement spectral distribut model describ 16 model assum harmon signal contamin nois whose mean energi independ energi harmon refer model harmon scale nois hsn model model 16 harmon independ nois hin model evalu perform method use three evalu measur oneerror coverag averag precis explain measur introduc follow notat let n number perform databas let number melodi search mention experi 50 melodi index denot set perform contain melodi probabilist model discuss paper induc natur order perform melodi let r j denot rank perform index j respect melodi base denit httpwwwmusicscorefreeservecouk httpwwwclassicalmidigothereukcom give formal denit perform measur use evalu oneerror oneerror measur mani time toprank perform contain melodi pose queri thu goal system return singl perform contain melodi oneerror measur mani time retriev perform contain melodi formal denit oneerror predic hold 0 otherwis coverag oneerror evalu perform system respect toprank perform goal coverag measur assess perform system possibl perform melodi inform coverag measur number excess non relev perform need scan retriev relev perform formal coverag dene averag precis measur suce evalu perform retriev system one achiev good low coverag suer high oneerror rate vice versa order assess rank perform whole use frequent use averag precis mea sure formal averag precis dene addit also use precis versu recal graph illustr overal perform dierent approach discuss paper precisionrecal graph show level precis dierent recal valu graph present paper noninterpol calcul base precis recal valu achiev integ posit rank list tabl 2 report result respect perform measur describ ft lft vt mod el tempo model conduct experi two spectral distribut model hin hsn clear tabl variabl tempo model harmon scale nois spectral distribut outperform rest model achiev superior result moreov perform variabl tempo model consist improv durat queri increas contrast fix tempo exhibit improv durat queri increas local fix tempo show moder improv use fteen second long queri instead second long queri improv durat grow twenti second reason explan phenomena amount variabl short queri natur limit thu leverag gain accur tempo model take account variabl tempo rather small thu queri recal precis precis recal precis figur 3 precisionrecal curv compar perform three tempo model queri consist second top fteen second middl twenti second bottom precis recal precis recal precis figur 4 precisionrecal curv compar perform tempo model three differ queri length durat grow power variabl tempo model better exploit local fix tempo captur averag tempo perform clearli fail captur chang tempo sinc chanc tempo chang grow durat queri averag tempo stop good approxim see improv retriev qualiti fig 3 give precisionrecal graph compar three tempo model graph compar ft lft vt dierent queri durat vt model clearli outperform ft lft model longer queri wider gap perform fig 4 compar precisionrecal graph model function queri durat graph show precisionrecal curv 5 15 25 second queri see vt model consist improv increas queri durat use global xed tempo ft clearli inadequ result poor perform precis never higher 035 even low level call perform lft model reason precis 05 achiev recal valu 05 howev full power approach util use vt model achiev averag precis 092 recal 075 seem vt model reach overal perform serv basi larg scale music retriev system lastli nal saniti check conjectur robust vt model use vt lft model three long melodi queri one minut appli retriev align process let profession musician listen segment brows segment spectogram exampl spectogram segment vt model given fig 5 exampl perform energi accompani higher energi lead tenor nonetheless listen experi veri system abl properli segment align melodi pose queri although perceptu listen test subject experi indic vt model also provid accur align segment 6 discuss paper present robust probabilist model queri melodi propos approach simpl implement found work well polyphoni rich record variou type accompani probabilist model develop focus two main sourc variabl rst variat actual durat note real record tempo variabl second variabl spectrum mainli due spectral mask lead vocal accompani vocal orchestra work assum pitch inform queri accur durat alter perform assumpt reason queri pose use symbol input mechan midi keyboard howev easier conveni mechan hum whistl melodi task often call queri hum addit tempo variabl spectral mask queri hum system also need take account imperfect pitch hum melodi inde frequenc time figur 5 illustr align segment vt model pitch note melodi overlay solid line much work queri hum devot music retriev use noisi pitch inform major work queri hum though focus search noisi queri symbol databas sinc main thrust research search real polyphon record complement research queri hum supplement numer system search databas plan extend algorithm combin front end hum queri addit start conduct research supervis method music genr classic believ combin highli accur genr classic robust retriev align abl provid eec tive tool search brows profession amateur acknowledg would like thank moria koman help creat queri use experi leo kon torovitch use comment manuscript 7 r best opera le 40 tenor nessun dorma young domingo model reason persist causat melodi spot use hidden markov model overview audio inform retriev queri hum music inform retriev audio databas search monophon pattern within polyphon sourc new zealand digit librari melodi index automat segment acoust music signal use hidden markov model speech enhanc harmon model via map pitch track ing audio inform retriev air tool pitch track use joint bayesian estim multipl frame paramet tr model reason persist causat queri hum overview audio inform retriev automat segment acoust music signal use hidden markov model ctr keiichiro hoashi kazunori matsumoto naomi inou person user profil contentbas music retriev base relev feedback proceed eleventh acm intern confer multimedia novemb 0208 2003 berkeley ca usa fangfei kuo mankwan look new known music music retriev melodi style proceed 4th acmieeec joint confer digit librari june 0711 2004 tuscon az usa olivi gillet gal richard drum loop retriev spoken queri journal intellig inform system v24 n2 p159177 may 2005