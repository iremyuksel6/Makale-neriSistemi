code gener fixedpoint dsp paper examin problem codegener digit signal processor dsp make two major contribut first import class dsp architectur propos optim algorithm task regist alloc instruct schedul express tree optim guarante suffici condit deriv structur represent processor instruct set architectur isa second develop heurist case basic block direct acycl graph dag b introduct digit signal processor dsp receiv increas attent recent due role design modern embed system like video card cellular telephon multimedia commun devic dsp larg use system generalpurpos architectur capabl meet domain specif constraint case portabl devic exampl power consumpt cost may make usag generalpurpos processor prohibit true highperform arithmet process requir implement dedic function low cost case specif commun preliminari version part paper present araujo malik 1995 1995 acmiee intern symposiumon system synthesi franc septemb 1315 1995 araujo et al 1996 1996 acmiee design autom confer june 37 author address g araujo institut comput univers campina unicamp cxpostal 6176 campina sp 13081970 brazil malik depart electr engin princeton univers olden st princeton nj 08544 usa permiss make digit hard copi part work person classroom use grant without fee provid copi made distribut profit direct commerci advantag copi show notic first page initi screen display along full citat copyright compon work own other acm must honor abstract credit permit copi otherwis republish post server redistribut list use compon work work requir prior specif permiss andor fee permiss may request public dept acm inc 1515 broadway new york ny 10036 usa fax 1 212 8690481 permissionsacmorg comput graphic applic increas usag processor reveal new set code gener problem effici handl tradit compil techniqu techniqu make implicit assumpt regular natur target architectur microarchitectur rare case dsp irregular microarchitectur basi effici comput special function due hard onchip memori constraint hard realtim perform requir code gener processor meet high qualiti standard sinc exist compil techniqu task vast major code written directli assembl languag research part project direct toward develop compil techniqu capabl gener qualiti code processor httpeeprincetoneduspam implement techniqu form compil infrastructur use work call spam compil larg bodi work done code gener gener purpos pro cessor code gener gener hard problem instruct select express subsum direct acycl graph dag cover npcomplet problem garey johnson 1979 bruno sethi 1976 sethi 1975 show problem optim code gener dag npcomplet even singl regist machin remain npcomplet express share term subexpress share term aho et al 1977a effici solut restrict class dag propos prabhala 1980 code gener express tree number solut n number node tree algorithm offer solut case stack machin bruno sethi 1975 regist machin sethi ullman 1970 aho johnson 1976 appel supowit 1987 machin special instruct aho et al 1977b form basi code gener singl issu order execut generalpurpos architectur problem gener code dsp embed processor receiv much attent though probabl due small size program run architectur enabl assembl program increas complex embed system program system without support highlevel languag becom impract mani problem associ code gener dsp processor first brought light lee lee 1988 lee 1989 comprehens analysi architectur featur processor code gener dsp processor studi past recent number interest work tackl import problem marwedel 1993 propos treebas map techniqu compil algorithm microcod architectur liem et al 1994 use treebas approach algorithm match instruct select regist organ class regist alloc base leftfirst algo rithm datapath rout techniqu also propos lanner et al 1994 perform effici regist alloc wess 1990 propos usag normal form schedul dsp architectur offer combin approach regist alloc instruct select use concept trelli diagram wess 1992 kolson et al 1996 recent propos interest exact approach regist alloc loop embed processor overview current code gener fixedpoint dsp delta 3 research work code gener dsp processor embed processor gener found marwedel goosen 1995 paper propos optim two phase algorithm perform instruct select regist alloc instruct schedul express tree polynomi time class dsp architectur model describ section 2 programm highlyencod instruct set architectur isa fixedpoint dsp processor formal speak class extens machin model discuss coffman sethi 1983 first pass section 3 perform instruct select regist alloc simultan use ahojohnson algorithm aho johnson 1976 second pass describ section 4 algorithm take optim cover express tree n node schedul instruct memori spill requir memori spill oper content particular regist save memori due lack avail regist oper reload memori oper finish observ memori store oper requir architectur topolog consid memori spill propos algorithm use concept regist transfer graph rtg structur represent datapath annot isa inform show rtg machin acycl optim code guarante program express tree written machin case dsp said acycl datapath sinc dag code gener npcomplet develop heurist case acycl datapath section 5 use rtg concept section 6 show result appli idea benchmark program section 7 summar major contribut suggest open problem 2 architectur model dsp processor irregular architectur compar gener purpos counterpart section analyz main architectur featur distinguish dsp gener purpos processor respect basic block code gener purpos section give detail extens analysi featur comprehens analysi dsp architectur found lee 1988lee 1989 lapsley et al 1996 dsp classifi accord type data use fixedpoint dsp floatingpoint dsp applic run fixedpoint dsp user respons scale result integ oper automat done floatingpoint dsp float point unit extrem costli term silicon area clock cycl reason larg number system base dsp use fixedpoint dsp case acronym dsp assum mean fixedpoint dsp dsp onchip data memori base fast static ram onchip nonvolatil program rom unlik gener purpos architectur dsp design cach virtual memori system sinc data program stream usual fit avail onchip memori onchip memori fast cach miss issu dsp design memoryregist architectur texa instrument 1990 order achiev bandwidth requir appli cation dsp architectur provid multipl memori bank motorola 1990 sinc perform import factor dsp applic dsp instruct usual design fetch singl machin cycl order achiev instruct encod minim number bit requir architectur texa instrument 1990 done mean data memori page instruct need carri offset data within current page order access goal design dsp datapath implement function unit speed costli oper frequent occur processor applic domain common exampl unit multipli accumul mac due design requir dsp design frequent constrain interconnect regist function unit two main reason first desir function usual requir particular datapath topol ogi second broad interconnect translat datapath buse andor mux result increas cost instruct perform degrad larg number dsp heterogen regist architectur architectur contain multipl regist file instruct requir operand store result comput differ regist file henc name het erogen generalpurpos architectur instruct usual restrict regist use provid come regist file henc operand regist homogen consider simplifi code gener prob lem sinc decoupl task instruct select regist alloc due properti say generalpurpos architectur homogen regist architectur exampl 1 exampl dsp architectur ti tms320c25 digit signal processor dsp texa instrument 1990 consid target architectur rest paper processor part ti tms320 famili processor make larg number commerci dsp processor use today tms320 famili compos fixedpoint processor tms320c1xc2xc5xc54x heterogen architectur also number floatingpoint homogen architectur dsp tms320c3xc4x tms320c25 processor contain isa special memoryregist registerregist instruct three separ registerfil p contain singl regist 3 optim instruct select regist alloc homogen regist architectur select instruct connect whatsoev type regist instruct use select instruct heterogen regist architectur usual requir alloc regist specif registerfil operand particular instruct strong bind instruct select regist alloc indic task must perform togeth araujo malik 1995 consid exampl intermedi represent ir pattern figur 1 correspond subset instruct tms320c25 isa figur 1 instruct associ treepattern whose node compos oper plusminusmul regist apt constant const memori refer code gener fixedpoint dsp delta 5 add apac mpi mpyk p pac sacl const spac lac lack const fig 1 ir pattern tms320c25 processor instruct operand destin cost three address form add 1 apac ap 1 spac ap 1 gamma p lack k k 1 k pac p 1 p tabl 1 partial isa tms320c25 processor treepattern repres use threeaddress form tabl 1 threeaddress standard compil represent instruct destin instruct two operand henc name three address oper perform present refer squar bracket associ memori posit tabl 1 also list cost associ instruct notic instruct implicitli defin regist use exampl instruct apac take operand regist p alway comput result back observ also oper transfer data datapath like lac load regist memori posit pac move regist p regist repres singl node correspond sourc regist transfer oper associ cost case cost move data sourc regist destin regist sinc regist dsp architectur scarc resourc final code qualiti sensit cost rout data datapath 31 problem definit optim instruct select combin regist alloc problem determin best cover express tree cost pattern match depend number cycl associ instruct also number cycl requir move operand locat 6 delta guido araujo sharad malik current locat instruct requir 32 problem solut solut problem use variat ahojohnson algorithm aho johnson 1976 node keep possibl cost match node also possibl cost result match node move result origin comput reachabl locat datapath treegrammar parser use way implement codegener aho et al 1989 fraser et al 1993 tjiang 1993 combin dynam program effici treepattern match algorithm hoffman odonnel 1992 optim instruct select implement combin instruct select regist alloc use oliv tjiang 1993 codegener gener oliv base techniqu propos iburg fraser et al 1993 take input set grammar rule treepattern describ prefix linear format ir pattern tabl 1 convert oliv descript figur 2 rewrit instruct threeaddress represent format notic instruct destin regist associ grammar nontermin repres lower case letter figur 2 fig 2 partial oliv specif tms320c25 processor instruct number name right part specif rule 1 3 4 5 correspond instruct take two operand store final result particular regist p respect rule 6 describ immedi load regist rule 7 10 associ data transfer instruct bring cost move data datapath total cost match point sake simplic repres figur 2 pattern correspond commut oper exampl instruct add specifi two differ way plusam plusma nevertheless consid remaind paper commut form oper pattern avail whenev requir consid instruct schedul associ spill point algorithm propos optim follow fact algorithm variat provabl optim ahojohnson dynam program algorithm aho johnson 1976 code gener fixedpoint dsp delta 7 4 schedul optim instruct select regist alloc express tree enough produc optim code optim code instruct must schedul way memori spill introduc notic memori posit alloc previou phase consid spill result optim select memoryregist instruct isa presenc resourc conflict aho johnson 1976 show use dynam program optim code gener linear time wide class architectur schedul propos base strong normal form theorem theorem guarante optim code schedul express tree homogen regist architectur model alway transform strong normal form snf code sequenc snf form set code subsequ separ memori storag code subsequ determin strongli contigu sc schedul code sequenc sc schedul form follow everi select match child subtre 1 2 continu schedul instruct correspond subtre 1 follow instruct correspond 2 final instruct correspond pattern wess 1990 use snf heurist schedul instruct tms320c25 dsp 41 problem definit sc schedul effici way schedul instruct heterogen regist set architectur produc code sequenc whose qualiti extrem depend order subtre evalu consid exampl ir tree figur 3a express tree optim match use approach propos section 3 target isa take variabl memori posit 0 4 store result comput one variabl memori posit use 5 temporari storag code sequenc gener three differ schedul correspond threeaddress represent show figur 3bd memori posit 7 use whenev spill locat requir schedul code figur 3b left subtre node schedul first follow right subtre instruct correspond node oper opposit approach use obtain code figur 3c neither sc schedul figur 3b c sc schedul ever produc optim code obtain use nonsc schedul first schedul addit rest tree figur 3d notic schedul inde snf schedul sinc first subtre correspond 2 contigu schedul follow storag oper memori posit 5 anoth code sequenc result sc schedul rest tree figur 3 verifi appropri snf schedul minim spill exampl tree figur 3a schedul use leftfirst result oper theta 1 first store p move regist use rout result posit 5 still contain live result result 0 case codegener emit code spill valu memori recov mpi m0 p m0 lac m3 m3 add m2 pac p add m2 sacl m7 m7 sacl m5 m5 lt m1 m1 lac m3 m3 mpi m5 p m5 mpi m0 p m0 add m2 sacl m5 m5 pac p lt m4 m4 mpi m5 p m5 mpi m0 p m0 spac p lac m7 m7 pac p sacl m6 m6 spac p lt m7 m7 spac p sacl m6 m6 b c fig 3 match ir tree tms320c25 b snf leftfirst schedul c snf rightfirst schedul optim schedul later would requir schedul first store 2 load result 0 problem like one illustr common dsp architectur obviou question rais exist guarante snf schedul spill requir prove schedul exist certain condit depend exclus isa target processor let us defin problem formal given optim cover express tree heterogen regist architectur determin instruct schedul introduc spill code 42 problem solut section divid follow section 421 state prove suffici condit heterogen regist architectur satisfi order enabl spill free schedul section 422 introduc concept regist transfer graph rtg show impact code gener task final code gener fixedpoint dsp delta 9 prove exist optim linear time schedul algorithm class dsp architectur acycl rtg let express tree unari binari oper let function map node set rm set n regist set memori locat let u root express tree v 1 children u consid alloc perform regist lv 1 assign v 1 respect 2 subtre root v 1 figur 4 term express tree alloc express tree use interchang context distinguish tree alloc 421 alloc deadlock definit 1 express tree contain alloc deadlock iff follow condit true lv 1 c exist node w 1 w 2 w 2 lw 1 definit visual figur 4 situat two sibl subtre 1 2 contain least one node alloc regist regist assign root sibl tree use definit possibl propos follow result fig 4 alloc deadlock express tree theorem 1 let express tree spill free schedul contain least one subtre alloc deadlock proof assum node u u free alloc deadlock valid schedul exist accord definit 1 u alloc deadlock case snf schedul exist subtre 1 schedul first follow subtre case happen sinc nonunari oper express tree take two operand simultan locat b c fig 5 tree without alloc deadlock c exist lw 2 case possibl schedul 1 first follow 2 instruct correspond node u valid schedul schedul 1 finish regist r 1 live therefor sinc regist r 1 exist resourc conflict occur subtre schedul figur 5a exist lw 1 symmetr previou case schedul 2 first follow 1 instruct correspond u figur 5b exist case trivial sc schedul result spill free schedul figur 5c sinc condit appli node u valid schedul free memori spill code contradict initi assumpt corollari 1 let express tree subtre contain alloc deadlock must spill free schedul moreov schedul comput use proof theorem 1 proof directli theorem 422 rtg model theorem definit 2 rtg direct label graph node repres locat datapath architectur data store edg rtg node r node r j label instruct isa take operand locat r store result locat r j node rtg repres two type storag regist file singl regist regist file node repres set locat type store multipl operand datapath singl regist simpli singl regist regist file unitari capac regist file node distinguish singl regist node mean doubl circl uniqu memori describ rtg arrow use instead repres memori oper incom outgo arrow point rtg node r associ code gener fixedpoint dsp delta 11 load store oper memori notic rtg label graph edg label correspond instruct requir oper word instruct p q take one operand r store result r j edg r r j least two label p q say architectur rtg acycl contain cycl consequ regist transfer cycl acycl rtg go memori 1 exampl 2 consid exampl partial oliv descript figur 2 rtg figur 6 form descript number parenthesi right side figur 2 use label edg graph isa instruct target processor repres descript figur 2 therefor edg rtg figur 6 label notic rtg tms320c25 architectur acycl dsp processor also acycl rtg like processor tms320c1xc2xc5x fujitsu fdsp4 paper propos solut code gener acycl rtg architectur unfortun known dsp like adsp2100 motorola 56000 cyclic rtg nevertheless shown later code gener processor also benefit result work p123 fig 6 tms320c25 architectur acycl rtg theorem 2 architectur rtg acycl express tree exist schedul free memori spill proof let express tree root u v 1 children lv 2 let 1 2 subtre root node let p k subtre root p k result oper p k store memori ie lp k dark area figur 7 subtre form remov node subtre p k show rtg acycl optim schedul alway determin properli order schedul p k eg p 1 address two case assum alloc deadlock therefor corollari 1 optim schedul b consid alloc deadlock present caus regist r 1 r 2 shown figur 7 assum also exist path r 2 r 1 processor rtg observ node 2 figur 7 alloc r 1 eg w 2 path goe w 2 ancestor v 2 alloc 1 observ selfloop consid rtg cycl wp fig 7 rtg theorem necessarili pass node alloc memori eg p 2 come fact path r 1 r 2 travers memori given rtg acycl contain path r 2 r 1 notic one recurs schedul subtre p 2 p 4 2 root alloc memori correspond emit advanc instruct store result done memori locat live remain subtre q 2 contain instruct use r 1 node remain schedul subtre 1 therefor tree 1 fug schedul use corollari 1 spill requir notic result obtain one first recurs schedul subtre p 1 white area figur follow appli corollari 1 schedul subtre q 1 fug base proof theorem 2 algorithm design comput best schedul express tree acycl rtg architectur design algorithm name optschedul theorem 3 algorithm optschedul optim run time n number node subject tree proof first part trivial sinc optschedul implement proof theorem 2 also theorem 2 algorithm divid set disjoint subtre recurs schedul therefor everi node visit henc algorithm run time remark 1 rtg acycl particular architectur optim sequenti code guarante express tree compil program run architectur unfortun true architectur code gener fixedpoint dsp delta 13 acycl rtg nevertheless express tree architectur also benefit work observ corollari 1 express tree free alloc deadlock optim schedul valid express tree gener architectur matter architectur acycl rtg consid exampl path ad p rtg figur 6 creat cycl architectur rtg go memori hand express tree use new path free alloc deadlock therefor still optim schedul express tree could identifi simpl modif instruct select algorithm question mani tree exist typic program still open though 5 heurist dag instruct select express dag requir dag cover known npcomplet garey johnson 1979 practic solut problem heurist propos divid dag compon tree select appropri set tree howev dismantel dag compon tree uniqu sever way done tradit heurist employ case homogen regist architectur disconnect multipl fanout node dag aho et al 1988 divid dag compon tree requir disconnect break edg dag code gener task break dag edg node u v impli alloc temporari storag save result oper u consum oper v storag locat tradit memori gener locat datapath key idea propos heurist use architectur inform rtg select compon tree dag result code minim spill consid exampl dag figur 8 notic two differ approach use decompos dag compon tree depend edg e 1 e 2 select break repres broken edg line segment travers subject edg one see figur 8b one extra instruct gener dismantel heurist base break edg e 2 instead e 1 incident code figur 8a also best sequenti code one gener subject dag observ architectur descript tabl 1 multipl oper request operand memori result addit oper alway produc result accumul notic also figur 6 bring data regist one go figur 8 one see result addit oper store must move order use operand multipl oper move data one go memori suppos memori posit select store temporari result 5 henc break dag edg e 1 one assign advanc memori oper appear edg instruct select phase code gener notic exist registertransf path alway goe memori whenev data move properti target datapath similarli registertransf 14 delta guido araujo sharad malik lac m2 m2 lac m2 m2 add m3 sacl m5 m5 sacl m5 m5 mpi m5 p m5 add m4 add m4 mpi m5 p m5 b fig 8 break edg e 1 break edg e 2 path p must also pass memori notic also edg e 2 broken pattern plusam instruct add 4 use match addit 4 result 2 accumul case instruct lac 5 figur 8b issu order bring data 5 back accumul ad new instruct final code 1 1 1 2 fig 9 express dag partial regist alloc perform natur pseudonatur edg identifi correspond lemma code gener fixedpoint dsp delta 15 51 problem solut heurist propos address problem describ divid four phase first phase section 511 partial regist alloc done datapath oper clearli alloc code gener task perform dag second phase section 512 architectur inform employ identifi special edg dag broken without introduc loss optim subsequ tree map stage third phase section 52 edg mark disconnect dag final compon tree schedul optim code gener compon tree section 52 511 partial regist alloc gener properti heterogen regist architectur result specif oper alway store well defin datapath locat impli total regist alloc data rout datapath locat requir instruct take exampl oper add mul target processor notic implicitli defin primari storag resourc use oper result case observ tabl 1 regist alloc task requir determin regist p respect use store immedi result oper add mul thu partial alloc perform well advanc even task break edg express dag take place observ possibl oper alway use regist file store immedi result consid exampl express dag figur 9 notic partial regist alloc immedi perform regist p 512 natur edg saw figur 8 edg specif properti origin target architectur allow us disconnect dag without compromis optim edg term natur edg defin follow definit 3 instruct select match edg u v alway produc sequenc data transfer oper datapath pass memori edg u v refer natur edg b r fig 10 natur edg identifi singl line segment u v natur b u v natur r selfloop rtg given express dag target architectur acycl rtg shown number edg natur edg order let us state set lemma let r 1 r 2 pair regist datapath acycl rtg architectur also let function map node set datapath locat r r set regist datapath set memori posit lemma 1 let r 1 r 2 regist architectur rtg exist path r 1 r 2 therefor edg u v natur edg proof given path regist r 1 r 2 travers whenev instruct select perform edg u v memori oper alway select instruct select u v therefor u v natur edg figur 10a lemma 2 edg u v natur edg selfloop exist regist node r rtg represent target architectur figur 10b proof architectur acycl rtg loop rtg selfloop travers memori thu regist r selfloop rtg loop start r go memori therefor memori oper select whenev instruct select perform edg u v henc u v natur edg notic task break natur edg introduc new oper dag name impli instruct select phase memori oper natur select due constraint architectur datapath topolog result potenti optim lost break natur edg exampl 3 consid one lemma rtg figur 6 observ express dag figur 9 natur edg identifi 1 lemma 1 see r 1 r 2 everi edg u v natur edg 2 consid lemma 2 first take situat r rtg figur 6 observ regist p selfloop sinc rtg acycl dag edg u v natur edg consid case r regist figur 6 contain selfloop thu noth said regard edg 513 pseudonatur edg follow two lemma show dag edg sometim interact one edg set two edg must result storag memori edg set call pseudonatur edg lemma 3 consid oper v operand node u w figur 11a partial regist alloc oper w v pseudonatur edg proof notic binari oper v take operand simultan regist consid two situat code gener fixedpoint dsp delta 17 w b r r fig 11 select pseudonatur edg identifi doubl line segment one edg use loop rtg b one edg goe memori node r selfloop architectur rtg one edg eg could match instruct take one operand r hand instruct match edg ie w v make use regist contain rtg loop selfloop goe r back r similarli lemma 2 match w v introduc sequenc transfer oper necessarili goe memori make w v u v pseudonatur edg b selfloop node r exist architectur rtg edg natur edg accord lemma 2 lemma 4 consid oper v operand node u w figur 11b let partial regist alloc node rtg path pair node one path go memori u v w v pseudonatur edg proof proof trivial follow fact sinc oper v take operand regist r j time use two path rtg bring data regist r j sinc one path r j r go memori path pass memori base lemma need decid edg u v w v disconnect dag loss optim might occur depend edg select select pseudonatur edg identifi use doubl line segment distinguish natur edg unlik natur edg break pseudonatur edg might result compromis optim code gener compon tree howev good chanc might happen actual practic exampl 4 consid lemma 3 4 rtg figur 6 observ express dag figur 9 pseudonatur edg identifi lemma 3 satisfi case r 4 case r one path exist rtg p go memori rule 14 exampl 3 4 appli express dag figur 9 result mark edg figur 9 side number correspond rule use exampl 3 4 52 dismantel algorithm task dismantel express dag may potenti introduc cyclic read write raw depend result tree compon lead imposs schedul similar problem also encount aho et al 1977a liao et al 1995 author studi problem schedul worm graph deriv dag singleregist architectur consid exampl b fig 12 cyclic raw depend b constrain tree schedul reconverg path node u v compon tree 1 2 figur 12a dismantel dag figur 12a requir least one edg multipl fanout node u 2 disconnect assum edg select edg break case node u v tree 1 collaps singl compon tree 3 dismantel dag tree 3 4 edg two node broken raw edg introduc dash line figur 12 order guarante origin datadepend preserv schedul case result raw edg form cycl compon tree 3 4 result infeas schedul compon tree notic dismantel also possibl edg 2 w broken instead figur 12b occur raw edg u 2 brought result compon tree 3 consequ potenti optim tree schedul algorithm optschedul guarante anymor sinc satisfi constraint impos new raw edg insid 3 possibl solut problem modifi tree schedul algorithm satisfi raw constraint insert tree unfortun difficult task effici solut seem exist henc dismantl dag avoid insert raw edg compon tree two situat analyz conclud edg reconverg path disconnect order guarante proper schedul code gener fixedpoint dsp delta 19 oper insid compon tree compon tree algorithm dismantl dag disconnect edg use mani natur pseudonatur edg possibl design algorithm call dismantl dismantl algorithm start first break natur edg sinc break edg add cost total cost final code dismantl proce identifi reconverg path travers path dag look edg mark pseudonatur edg pseudonatur edg use break exist reconverg path edg broken otherwis outgo edg start reconverg path correspond multipl fanout node broken edg mark black dot figur 13 point reconverg path express dag disconnect addit edg broken node end one outgo edg edg also mark black dot result dag appli algorithm dismantl shown figur 13 decompos origin dag five express tree final express tree schedul code gener express tree fig 13 result compon tree dismantel 6 experiment result dspstone zivojnov et al 1994 benchmark design evalu code qualiti gener compil differ dsp processor dspstone divid three benchmark suit applic dspkernel ckernel applic benchmark consist program adpcm wellknown speech encod algorithm dspkernel benchmark consist number code fragment cover often use dsp algorithm ckernel suit aim test typic c program statement dspstone project support number major dsp manufactur analog devic att motorola nec texa instrument use benchmark experiment evalu schedul algorithm tree origin leftfirst rightfirst optschedul real updat 5 5 5 3 dot product 8 8 8 6 iir one biquad tabl 2 number cycl comput express tree use rightleft leftright optschedul 61 express tree appli algorithm optschedul express tree extract program dspkernel benchmark metric use compar code number cycl take comput express tree observ tabl 2 algorithm optschedul produc best code compar two sc schedul expect sinc prove opti maliti notic although sc schedul sometim produc optim code also gener bad qualiti code case express tree 6 also verifi express tree gener differ code qualiti differ sc schedul use structur express tree dictat best sc schedul structur function way programm write code 62 dag type distribut express dag classifi tree leaf dag full dag leaf dag dag leaf node outdegre greater one classifi dag full dag neither tree leaf dag one see tabl 3 classif reveal basic block analyz 56 tree dsp kernel basic block tree leaf dag dag real updat dot product iir one biquad 1 convolut lm tabl 3 type dag found typic digit signal process algorithm code gener fixedpoint dsp delta 21 dag dag handwritten standard dismantl origin type code heurist heurist complex updat f matrix 1x3 l 5 5 0 5 0 iir one biquad f 15 17 13 convolut lm f 7 9 28 8 14 tabl 4 experi dag leaf dag l full dag 38 leaf dag 6 full dag set benchmark tabl 3 notic major basic block found program tree leaf dag anoth experi perform time use dspstone applic benchmark adpcm basic block analyz determin frequenc tree leaf dag dag case 94 basic block program found tree 3 leaf dag 3 full dag although dynam count basic block requir order provid inform impact execut time one reason argu larg portion program execut time spent process express tree thu treebas code gener suitabl applic domain 63 express dag tabl 4 list seri express dag extract program dspkernel benchmark select largest dag found kernel purpos comparison handwritten code handwritten assembl code assembl refer code dspkernel program avail dspstone benchmark suit zivojnov et al 1994 compil code gener dag result number cycl singl loop execut report tabl 4 compil code also gener use standard heurist dismantl dag break edg multipl fanout node column standard heurist tabl 4 show number processor cycl overhead respect handwritten code notic overhead due dag dismantel techniqu averag overhead compar compil dismantl heurist assembl refer code 7 leaf node treat way heurist simpli duplic differ node one outgo edg consequ heurist perform case leaf dag averag overhead dismantl heurist case full dag higher 11 case leaf dag 4 discrep due exist memoryregist immedi instruct processor isa zero cost multipl fanout operand memori refer constant valu although heurist gain may seem small everi byte matter sinc dsp restrict onchip memori size make gener high 22 delta guido araujo sharad malik qualiti code import goal compil 7 conclus increas demand wireless multimedia system expect usag dsp continu grow inspit research compil techniqu dsp receiv adequ attent devic continu offer new research challeng origin need high qualiti code low cost power consumpt propos optim instruct select regist alloc instruct schedul algorithm express tree class heterogen regist dsp architectur acycl rtg extend propos heurist case basic block dag approach base concept natur pseudonatur edg seek use architectur inform help task dismantel express dag forest tree question gener good code architectur cyclic rtg remain open though mention express tree gener architectur also benefit optim provid free alloc deadlock interest question follow mani express tree properti gener program run architectur work way order answer question acknowledg research support part brazilian council research develop cnpq contract 204033870 institut comput unicamp brazil r code gener use tree match dynam program optim code gener express tree code gener express common subexpress code gener machineswith multireg ister oper gener sethiullman algorithm regist alloc optim code gener embed memori nonhomogen regist architectur use registertransf path code gener heterogen memoryregist architectur code gener oneregist machin instruct set evalu arithmet express journal acm engin simpl comput intract pattern match tree data rout paradigm effici datapath synthesi code gener dsp processor fundament architectur featur programm dsp architectur part programm dsp architectur part ii instruct select use binat cover marwedel goosen effici comput express common subexpress complet regist alloc problem gener optim code arithmet express journal acm 17 digit signal process applic tms320 famili oliv twig optim code gener signal flow comput automat instruct code gener base trelli diagram circuit system tr compil principl techniqu tool gener sethiullman algorithm regist alloc code gener use tree match dynam program digit signal process applic tms320 famili vol 2 optim code gener embed memori nonhomogen regist architectur instruct select use binat cover code size optim optim regist assign loop embed code gener use registertransf path code gener heterogen memoryregist architectur data rout treebas map algorithm predefin structur gener optim code arithmet express gener optim code stack machin optim code gener express tree code gener oneregist machin code gener express common subexpress effici comput express common subexpress pattern match tree instruct set evalu arithmet express codegener machin multiregist oper code gener embed processor comput intract ctr jeonghun cho yunheung paek david whalley fast memori bank assign fixedpoint digit signal processor acm transact design autom electron system toda v9 n1 p5274 januari 2004 jeonghun cho yunheung paek david whalley effici regist memori assign nonorthogon architectur via graph color mst algorithm acm sigplan notic v37 n7 juli 2002 alain pegatoquet emmanuel gresset michel auguin luc bianco rapid develop optim dsp code high level descript softwar estim proceed 36th acmiee confer design autom p823826 june 2125 1999 new orlean louisiana unit state shuvra bhattacharyya praveen k murthi cbp paramet modul character approach dsp softwar optim journal vlsi signal process system v38 n2 p131146 septemb 2004 minwook ahn jooyeon lee yunheung paek optimist coalesc heterogen regist architectur acm sigplan notic v42 n7 juli 2007