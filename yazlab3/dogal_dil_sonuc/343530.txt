tokentempl logic program intellig web search present gener framework inform extract web page base special wrapper languag call tokentempl use tokentempl conjunct logic program abl reason web page content search collect fact deriv new fact variou web page give formal definit semant logic program extend tokentempl defin gener answercomplet calculu extend program method techniqu use build intellig mediat web inform system b introduct last year becam appear increas need intellig worldwideweb inform system exist inform system mainli document search engin eg alta vista yahoo webcrawl base index techniqu therefor provid web user list document refer set fact realli search system overwhelm user hundr web page candid exhaust highli inconveni work check candid extract relev inform manual left user problem get even wors user take comparison content web page want follow web link one candid web page seem promis manag candid page keep track promis link observ build intellig web inform system assum www web page larg relat databas whose data relat made avail definit applic special extract descript tokentempl web page librari descript may offer variou gener way retriev fact one web page one basic problem confront provid mean access extract inform offer arbitrari web page task well known process inform extract ie gener task ie locat specif piec text natur languag document context web page last year mani techniqu develop solv problem 1 6 10 11 15 21 30 wrapper mediat fulfil gener process retriev integr inform heterogen data sourc one inform system focu work special class wrapper extract inform web page map relat represent fundament interest offer wide varieti possibl integr variou field like relat databas spreadsheet applic logic program call inform extract process factretriev due logic program extract inform repres ground atom articl present gener framework fact retriev base special wrapper languag call tokentempl gener aim develop descript languag ie semistructur document like web page languag incorpor concept featur structur 25 regular express unifi cation recurs code call defin templat extract fact web page contribut logic program key idea use logic program intellig web brows follow normal user guid domain specif knowledg search web manual extract inform compar found fact obviou user process involv infer mechan like reason content web page deduc relat web page use domain specif background knowledgetherefor use deduct base set rule eg page visit extract fact use logic program conjunct tokentempl reason content web page search collect relev fact deriv new fact variou web page logic program paradigm allow us model background knowledg guid web search applic extract templat furthermor extract fact union addit program claus correspond concept deduct databas therefor provid possibl deriv new fact sever web page context wrapper mediat 30 tokentempl use construct special wrapper retriev fact web page logic program offer power basi construct mediat normal retriev inform reason depend search task fulfil deduc fact initi new sub search process merg tokentempl logic program gain mighti infer mechan allow us search web deduct method emphas well defin theoret background integr given theori reason 2 26 logic calculi wherea tokentempl interpret theori articl organ follow section 2 describ languag token templat factretriev web page section 3 integr token templat logic program underli calculu explain section 4 describ logic program techniqu use enhanc factretriev process deduct techniqu practic applic develop method logicrobot search privat advertis briefli present section 5 relat approach conclus given section 6 2 wrapper languag web document section describ inform extract languag tokentempl assum reader familiar concept featur structur 25 unif 21 fact retriev split process factretriev sever step wherea first step preprocess web page analyz transform web page shown figur 1 list token explain detail section 22 exist system section 5 done lexic analyz flex 17 definit flex grammar build token extend term notat want emphas bound special lexic analyz gener tool like flex arbitrari tool use long meet definit token figur 1 advertis web page method allow us appli techniqu htmldocument also kind semistructur text document construct arbitrari token wrapper languag flexibl use differ context sourc code transform web document match extract process take place extract templat built token special oper appli token document accord success match extract templat relev inform extract mean unif techniqu map relat represent explain basic element web wrapper languag token 22 token token describ group symbol document exampl text pentium 90 may written list token tokentypehtmltagb tokentypewordtxtpentium tokentypewhitespacevalblank tokentypeintval90 tokentypehtml endtagb call featur structur simpl acycl featur structur token featur name type featur valu consist anoth featur featur valu may consist constant variabl write variabl capit letter constant quot start capit letter furthermor choos term notat featur structur token differ propos carpent 4 code featur fixed00110011001100110000000000000000000000111111111111111111111100000000000000000000001111111111111111111111 token type tag html graph notat extend term notat tokenhrefxtypehtmltaga figur 2 token notat argument posit instead extend argument annot term notat offer us flexibl handl featur figur 2 show graph notat token extend term notat follow denot token extend term notat simpli token 23 token match follow let us assum arbitrari web page transform token list given key idea recogn token token sequenc token list therefor need techniqu match token descript token featur structur special unif featur unif defin 23 purpos need modifi version unif tokenunif token let 1 2 featurevalu set token 1 2 let set featur 1 2 common term 0 defin follow 0 token 1 2 tokenunifi iff follow two condit hold 1 unifi 0 gener unifi mgu 1 2 mgu 2 wrt usual definit 16 13 1 2 hold call 1 2 tokenunifi written 1 6 tt 2 tokenunifi 2 mgu unif motiv direct unif 1 interpret left token pattern match right token allow us set featur constraint easi way simpli ad featur left token hand match whole class token decreas featur set left token consist type featur exampl tokentypeword intx hrefhttpwwwbmwd eas notat introduc altern notat k token type k featur type valu k given k kf featur valu k n number featur k call notat termpattern defin transform v termpattern v transform term pattern correspond token exampl us token transform exchang functor termpattern type k token add argument argument defin basic match oper termpattern token termpattern token extend term notat termpattern k match token k iff vt k tokenunifi termmatch defin follow exampl demonstr termmatch oper consid three exampl mention follow modif word tokentypeword txtpentium wordintx 6 tokentypewordtxtpentium htmlhrefi tokentypehtml taga hrefhttpwwwbmwd 6 bernd thoma 24 token pattern interpret token special represent text piec definit termmatch allow us recogn certain piec text extract process unif mean found substitut contain extract inform yet abl match sequenc token token web page therefor defin syntax tokenpattern build languag defin templat inform extract web document languag tokenpattern built similar concept regular express differ variou iter oper defin token besid basic oper defin greedi moder oper two oper class determin enumer order match greedi oper moder oper exampl tokenpattern like word match zero arbitrari mani token type word first match tri match mani token type word possibl greedi wherea pattern word tri first attempt match less token possibl moder make sens pattern part larger conjunct pattern anoth advantag given use unif fact allow us later describ concept recurs tokentempl recogn context sensit languag figur 24 give inform definit 2 semant tokenpattern assum token document given match tokenpattern p p return set tripl ms rs ms match token sequenc rs rest sequenc mgu token unif appli match process emphas comput match stop found one success match though achiev use oper exampl let us closer look sourc code advertis web page shown figur 4 correspond tokenpattern p given 5 tokenpattern extract item name offer object item descript descript item small exampl set match consist set two tupl leav match sequenc ms rest sequenc rs interest substitut 25 tokentempl tokentempl defin relat token document extract variabl tokenpattern extract variabl variabl use tokenpattern interest due instanti wrt substitut obtain success match pattern semant match sequenc list contain exactli one element d1 rs without first element dn denot nth element sequenc p1 match pattern p1 never first match p1 empti match sequenc enumer p1 match pattern p1 never first empti match sequenc match p1 enumer p1 match pattern p1 arbitrarili often least use decreas enumer order match accord length start longest possibl match p1 match pattern p1 arbitrarili often least use increas enumer order match accord length start shortest possibl match p1 match pattern p1 arbitrarili often use decreas enumer order match accord length start longest possibl match p1 match pattern p1 arbitrarili often use increas enumer order match accord length start shortest possibl match tn oper match exactli one token exist hold token exclud match timesn match exactli n token match arbitrari token oncep1 oper cut set match token p1 first match p1 use interest first match altern match defin p1 unif x match sequenc p1 success p1 success ms p1 unifi x p1 p2 p1 p2 match success pattern succe match sequenc p1 p2 concaten ms p1 ms p2 p1 p2 p succe one pattern p1 p2 success match match sequenc p either match sequenc p1 p2 oper higher prioriti oper eg b c b c extend token pattern tokentempl t1 tn see section 251 function c1 cn see section 251 figur 3 languag tokenpattern img srcimgbmpprivgif pentium 90 48 mb ram soundblast awe 64 dm 650 tel 06743 1582 figur 4 html sourc code onlin advertis htmltag img htmltag figur 5 tokenpattern advertis inform extract extract variabl hold extract inform obtain match process tokenpattern token document definit 3 tokentempl let p tokenpattern arbitrari token document p appli substitut v tokentempl r defin follow templat definit written templat rd r call templat name v extract tupel v call extract variabl exampl consid case want extract link web page therefor defin follow tokentempl templat linkd link desc first sub pattern ignor token long next token type html meet requir featur tag href follow subexpress match substitut found link desc hold extract inform altern match check exampl express read token rest express templat match 251 extend tokentempl abl match sophist syntact structur extend tokentempl three major concept templat altern code call recurs templat altern gain readabl templat definit enhanc use oper instead use oper tokenpattern like templat templat tdv altern defin two templat templat templat templat 1 2 name fact influenc calcul extract tupl easili construct set union 1 2 code call power extens tokenpattern languag integr functionprocedur call within match process name extens code call code call may arbitrari boolean calcul procedur invok instanti tokenpattern variabl unbound variabl instanti calcul procedur follow exampl demonstr use code call databas interfac function db check extract name found databas success return true instanti birth birthday person otherwis match fail exampl leav tokenpattern recognit extract variabl simpli name p 1 templat persond name especi use logic program code call match process guid inform extract addit deduc knowledg exampl achiev given background theori fact extract preceed subpattern templat call recurs templat recogn hierarch syntact structur text document eg tabl embed tabl obviou use recurs techniqu quit often subpattern use templat definit therefor extend tokenpattern templat call templat call may interpret inclus tokenpattern associ templat call exampl first exampl templat match html tabl row exist 3 column first two text column third contain price inform term set squar bracket function templat call repeat applic pattern caus sub pattern give us tabl entri second templat demonstr recurs templat call match correct group parenthesisesfor detail descript tokentempl languag reader refer 27 templat tabl rowd medium label p rice text colmedium text collabel price colp rice html endtag tr templat correct parend word word correct paren word paren close 3 logic program tokentempl section explain tokentempl merg logic program lp basic idea integr tokentempl lp extend logic program set tokentempl extend lp interpret special program claus result logic program answer queri content one web document intuit tokentempl provid set fact use logic program extend lp offer possibl deriv new fact base extract fact www implement point view token templat predic may logic program modul implement download web page token match theoret point view consid templat set axiomat theori calcul theori perform background reason follow refer normal logic program talk logic program section 31 describ tokentempl interpret context first order predic logic extens calculu templat theori lead calculu defin section 32 section 41 42 give small exampl use tokentempl logic program assum reader familiar field logic program 16 theori reason 2 26 31 templat theori context first order predic logic pl1 interpret set tokentempl axiomat theori tokentempl theori set templat ground atom obtain appli templat exampl consid templat set ftd v pg assum p arbitrari tokenpattern v extract tupel templat theori given ftdvpg ftd v pg interpret tokentempl associ set ground unit claus given set tokentempl formal definit follow definit 4 emplat theori interpret tt model let set tokentempl g tokentempl theori defin follow let p normal logic program signatur also signatur interpret tt interpret iff herbrand interpret interpret also herbrand interpret tt interpret tt model p iff let x claus wrt x logic consequ p p exampl consid tokentempl advertis tokenpattern given figur 5 extract variabl item descript exampl web sourc code shown figur 1 correspond templat theori templat advertis set 32 tt calculu far shown formula logic consequ logic program templat theori state calcul check formula logic consequ extend logic program therefor defin calculu extend logic program instead defin particular calculu show sound answercomplet calculu normal logic program serv calculu extend logic program k sound answercomplet calculu normal logic program deriv defin k let p normal logic program set tokentempl tt templat theori queri 9 q calcul substitut tt deriv p p tt q iff q deriv p tt calculu k tt deriv call tt calculu theorem 1 sound let k calculu tt deriv relat defin k let set tokentempl templatetheori q queri normal program p let substitut calcul tt theorem 2 complet let k calculu tt deriv relat defin k let set tokentempl templatetheori q queri normal program p let correct answer q calcul answer substitut sound complet let k calculu tt deriv relat defin k let set templat templat theori q queri normal program p let calcul substitut q soundcomplet prove p tt logic consequ consequ exampl figur 6 exampl deriv base sldcalculu 12 shown calcul templat theori done theori box 2 may arbitrari calcul procedur implement techniqu need tokentempl furthermor theori boxha decid templat predic like institutehttpwwwuni koblenzdezp satisfi calcul theori let us closer look logic program p given figur 6 bunihttpwwwunikoblenzd given web page contain inform univers axz bxi instituteyzp institut x depart z exist web page describ x abl extract depart name z given logic program templat definit find sld deriv assum templat theori empti exampl show model knowledg web page logic program combin tokentempl allow us queri web page factretriev goal templat p theori appli templat give answer templat institutedocumentzp tokenpattern figur 4 deduct techniqu intellig web search logic program deduct gener offer wide varieti guid web search factretriev process intellig method infer process section describ techniqu 41 deduct web databas assum know two web page shoe supplier whose product descript want use fact deduct databas addit interest inform produc product address telephon number retriev addit web page therefor defin two tokentempl price list address simplifi notat leav exact tokenpattern definit instead follow small deduct databas allow us ask articl deriv new fact provid us inform product produc achiev two rule articl product extract articl offer web page deriv new fact articl produc 14 bernd thoma templat price listdocu articl price templat addressdocu web page 0 abc schuhe web page 0 schuhland articlesuppli web pagesuppli document price listdocu articl price producerurl pattern productsuppli articlesuppli exampl exampl queri demonstr use deduct web databas select product articl name doc marten cost less 100 rice 100 select product offer least two supplier 42 optim web retriev follow exampl show queri optim techniqu propos levi 19 implement use extend logic program avoid fetch senseless web page start factretriev process know certain fail levi suggest use sourc descript fact retriev www might offer great speed due network load fetch web document often time intens context extend logic program easili appli method definit rule whose bodi liter defin constraint head argument express knowledg content web page follow exampl illustr method rice 20000 p rice 40000 rice 40000 p rice templat carswebpag p rice countri assum interest american car cost 50000 dollar queri prod retriev accord offer addit constraint price countri given bodi rule offer irrelev web page german car offer left simpl method provid logic program paradigm free abl guid search fact retriev world wide web base knowledg represent techniqu 3 abl speed search relev inform 43 conceptu reason mani inform system lack abil use conceptu background knowledg includ relat topic interest search consid case user interest comput system cost less 1000 dm obviou system know common comput type descript eg ibm toshiba compaq pentium notebook laptop conceptu relat knowledg assist system perform success search one way repres knowledg concept descript languag gener mean knowledg represent techniqu last year show logic well suit analyt tool repres reason repres knowledg mani formal implement use logic program system exampl prolog exampl simpl relat use repres conceptu hierarchi guid search inform consid follow small knowledg base anotebook comput adesktop comput ax notebook notebookx relevantq z az q relevantq z ay q relevanti z assum gener queri search comput less 100 dm split sub queri like relevantcomput x small exampl knowledg base queri comput set answer addit infer queri inform use two differ way 1 deriv conceptu inform use search new web page eg queri standard search engin element search keyword return candid page extend logic program appli extract fact 2 inform extract process enhanc deriv inform reduc constraint special token featur tokentempl appli consid case singl keyword q use token pattern constrain match process eg wordtxtq reduc constrained construct gener disjunct pattern ad simpl termpattern wherea featur valu consist deduc knowledg eg wordtxtq mean includ search sub concept eg comput instanc eg 0 thinkpad 0 queri concept 5 logicrobot section give short overview applic implement use describ method techniqu brief explan domain depend search engin onlin advertis newspap given 51 problem often web page organ chain link user follow final reach page interest inform user want retriev split mani page case user visit mani page final reach intend page collect data manual exhaust time consum work furthermor difficult user take comparison inform offer variou web page therefor automat tool follow link collect data provid possibl compar retriev inform need free user annoy work call web inform system base logic program tokentempl logi crobot similar physic robot navig autonoumasli environ web accord abil analyz reason web page content incorpor knowledg base abl percept environ name what web page due underlyinglog program use ai techniqu eg knowledg represent default reason etc act collect fact follow promis link problem focus build logicrobot web vendor offer privat advertis offer column forc user follow 80 100 link see advertis cours userfriendli eleg way would offer web form user specifi column column search either enter specif name keyword column name descript item search price constraint like less greater equal final pattern telephon number restrict geograph area search figur 7 depict three main templat use extract inform advertis similar shown figur 4 logicrobot web interfac special task present figur 8 sampl result page given figur 9 templat pricepric wordvaluevb wordvaluefp wordvaluedm intvaluep fcfloatppriceg floatvaluep fprice templat telefont wordvaluetel punctvalu punctvalu punct op int templat product descriptionarticledesc htmltagimg htmltagb figur 7 templat use telefon number price advertis product extract figur 8 logicrobot web interfac 52 implement note logicrobot search advertis base logic program librari txw3 28 implement techniqu present paper use eclipseprolog 8 eclips support modular logic program modular architectur logicrobot two main modul first modul contain need tokentempl definit second prolog program implement appropri templat call evalu price constraint control oper prolog modul execut cgi mechan commun local http daemon via stdinstdout port addit server program network softwar need setup search engin base extend logic program 5 templat definit approx 200 line prolog code implement logicrobot test carri applic promis exampl queri answer time contain fetch token extract compar beneath 2 minut 100 web page advertis figur 1 think promis way domain specif search tool easili extend ai method offer flexibl fast configur mean declar definit eg use prolog import concept logicrobot appli variou inform domain world wide web 6 relat work conclus present tokentempl languag ie semistructur document especi web page show wrapper languag merg logic program gave formal definit extens arbitrari answer complet first order logic calculu templat theori conjunct area logic program deduct databas use wrapper techniqu obtain infer new deduct deriv fact base inform extract www furthermor method use build intellig web inform system like logicrobot gain close relat area like deduct databas knowledg represent logic program base ai method also show alreadi develop queri optim techniqu section 42 easili integr approach method success integr use heterogen inform system glue 20 access web data integr analyt reason process among heterogen data sourc eg relat databas spreadsheet etc addit theoret work also implement logic program librari txw3 provid languag tokentempl variou logic modul program logicrobot www sever web inform system develop last year one class applic call softbot domain specif autom search tool www search autonom relev web page user request inform similar concept logicrobot exist system like ahoy 24 shopbot use either tailor extract techniqu ahoy domain specif extract techniqu base highli restrict assumpt syntact structur web page shopbot system follow concept gener figur 9 queri result page purpos extract languag like tokentempl tokentempl applic kind semistructur text document henc restrict specif domain system like im 18 w3q 14 also provid mean queri web inform sourc though levi et al also choos relat data model reason data show sever techniqu sourc descript construct queri plan leav problem inform extract undiscuss work show solut extract fact reason extend logic program w3q system use special web queri languag similar relat databas queri languag sql w3q use enhanc standard sql command eg addit extern unix program call html relat command though addit construct kit inform extrac tion process given seem focus detect hyper link descript concept databas view web page also introduc inform recurs view provid wherea extend logic program offer abil heterogen inform system like disco 29 glue 20 herm 22 infomast 9 tsimmi 5 use special mediat techniqu access web inform sourc among data sourc system use mediat model languag interfac special data sourc wrapper system herm exampl base declar logic mediat languag therefor similar approach use extend logic program mediat tokentempl special wrapper lan guag advantag present approach simpli name system except tsimmi glue incorpor gener purpos wrapper languag text document addit work express power mediat languag use wrapper techniqu system interest differ templat base extract languag describ 11 6 underli languag use wrapper construct tool gruser et al 10 token templat incorpor mighti concept recurs code call concept allow recognit extract arbitrari hierarch syntact structur extend match process addit control procedur invok code call especi logic program use code call guid extract process manifold ai method gener note 1 sens featur set left token must subset featur set right token 2 see 27 detail formal definit r wrapper gener semistructur internet sourc theori reason connect calculi linear complet approach principl knowledg represent type featur structur extens firstord term tsimmi project integr heterogen inform sourc relat learn patternmatch rule inform extract scalabl comparisonshoppingag worldwid web intern comput limit icparc inform integr system wrapper gener toolkit specifi construct wrapper web acces data extract semistructur inform web linear resolut select function multidisciplinari survey queri system worldwid web wrapper induct inform ex traction foundat logic program queri heterogeneousinform sourc use sourc descript flexibl metawrapp interfac autonom distribut inform sourc herm reason mediat system introduct unificationbas approach grammar dynam refer sift case studi homepag domain record logic program autom deduct theori resolut txw3modul scale heterogen databas design disco mediat architectur futur inform system tr ctr steffen lang gunter grieser klau p jantk advanc elementari formal system theoret comput scienc v298 n1 p5170 4 april