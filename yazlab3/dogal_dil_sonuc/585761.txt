minim hierarch collis detect present novel bound volum hierarchi allow extrem small data structur size still perform collis detect fast classic hierarch algorithm case hierarch data structur variat axisalign bound box tree addit memori effici construct effici fastw also propos criterion use construct bv hierarchi formal establish previou heurist idea argument gener appli bound volum hierarchi well furthermor describ gener optim techniqu appli hierarch collis detect algorithmsfin describ sever box overlap test exploit special featur new bv hierarchi compar experiment among dop tree use benchmark suit realworld cad data b introduct fast exact collis detect polygon object undergo rigid motion core mani simul algorithm comput graphic particular virtual realiti applic virtual prototyp need exact collis detect interact speed complex arbitrari permiss make digit hard copi part work person classroom use grant without fee provid copi made distribut profit commerci advantag copi bear notic full citat first page copi otherwis republish post server redistribut list requir prior specif permiss andor fee vrst02 novemb 1113 2002 hong kong polygon soup fundament problem dynam simul rigid bodi simul natur interact object haptic render import vr system abl simul interact frame rate otherwis feel immers usabl vr system impair requir collis detect algorithm virtual prototyp realtim sit uation make assumpt put convex topolog manifolded cad data usual wellbehav make assumpt estim posit move object futur final polygon number high usual rang 10000 100000 polygon per object perform collis detect base hierarch bound volum depend two factor 1 tight bound volum bv influenc number bound volum test 2 simplic bound volum determin ecienc overlap test pair bv 11 algorithm sacrific tight fast overlap test hierarch data structur tree box axisalign object space leaf enclos exactli one polygon object unlik classic aabb tree howev two children box posit arbitrarili henc call data structur restrict box tree boxtre allow fast overlap test simultan travers tumbl boxtre 1 restrict place relat child parent box node tree need littl memori thu build store hierarchi larg model littl memori import number polygon render interact frame rate seem increas current even faster moor law would predict also propos ecient algorithm construct good boxtre import virtual prototyp manufactur industri want applic comput auxiliari deriv data startup time need store product data manag system algorithm boxtre construct loadtim geometri even high complex extend version paper found http webcsunibonndezachindexhtmlpubl order guid topdown construct bound volum hierarchi criterion need determin good split set polygon associ node paper present formal argument previou heurist deriv criterion yield good hierarchi respect collis detect idea argument gener applic hierarch collis detect data structur techniqu present paper appli axisalign bound volum dop well would probabl yield similar save memori comput cost sinc motiv techniqu valid bound volum hierarchi construct certain natur way also propos gener optim techniqu appli hierarch collis detect algorithm new bv hierarchi also use speed ray trace occlus cull within aabb rest paper organ follow section 2 give overview previou work new data structur algorithm introduc section 3 section 4 describ ecient comput box tree result present section 5 2 relat work bound volum tree seem ecient data structur tackl problem collis detect rigid bodi hierarch spatial decomposit bound volum data structur known comput geom tri geometr data base ray trace long time kd tree octre 18 rtree 4 obb tree 2 collis detect sphere tree explor 12 17 11 propos algorithm fast overlap test orient ie nonaxisparallel bound box obb also show obb tree converg rapidli shape object aabb tree downsid much expens boxbox intersect test addit heurist construct obb tree present 11 split across median longest side obb tree appli collis detect 14 21 aabb tree studi 20 19 15 data structur work quit ecient practic memori usag consider higher need hierarchi even sphere tree recent hierarch convex hull propos collis detect proxim queri show excel perform memori footprint data structur even larger previous cite one even increas optim techniqu author propos collis detect algorithm nonhierarch approach tri subdivid object space instanc voxel grid 16 delaunay triangul 9 particular nonhierarch approach seem promis collis detect deform object 1 13 8 regard name data structur would like point 3 present theoret result class bound volum hierarchi call boxtre howev data structur substanti dierent provid runtim result bound volum hierarchi also use area nearestneighbor search ray trace point kd tree 5 shown longestsid cut produc optim tree context nearestneighbor search howev seem rule appli collis detect 3 datastructureandalgorithm given two hierarch bv data structur two object follow gener algorithm scheme quickli discard set pair polygon intersect b overlap return b leav return intersect primit enclos b els children ai bj traverseaibj end almost hierarch collis detect algorithm implement travers scheme way allow quickli zoom pair close polygon characterist dierent hierarch collis detect algorithm lie type bv use overlap test pair node algorithm construct bv tree follow first introduc type bv present sever algorithm check overlap 31 restrict boxtre bv hierarchi node bv associ complet contain bv children usual parent bv made tight possibl binari aabb tree mean parent box touch child box 3 side averag tri quantifi observ aabb tree three repres object measur empti space node parent node 2 experi show half node volum empti space bound box parent bound box 10 consequ would wast memori comput collis detect store full box node therefor hierarchi never store box explicitli instead node store one plane perpendicular one three axe almost least possibl amount data need repres box sucient dierent parent box store plane use one float repres distanc one side parent box see figur 1 reason becom clear 3 addit axi must store 2 bit need distinguish two 2 node one side exclud calcul side construct perform split 3 one could pictur result hierarchi cross kd tree aabb tree split plane lower child c l cu upper child figur 1 child node obtain parent node split one side draw show case parent lower upper child coplanar split plane case whether node box lie lower side upper side plane upper lower defin local coordin axe object box hierarchi restrict side call restrict boxtre obvious restrict make node boxtre hierarchi slightli less tight regular aabb tree see hurt collis detect perform observ made aabb tree probabl also true hierarchi util kind axisalign bv dop section 4 describ detail algorithm construct restrict boxtre 32 box overlap test follow describ sever variat algorithm test overlap two restrict box exploit special properti restrict boxtre algorithm assum given two box b b 1 b 2 b 3 coordin frame box b respect object space 321 axi align sinc axisalign box oer probabl fastest overlap test idea first overlap test enclos b axisalign box l h r 3 test axisalign alreadi follow show done minim comput effort restrict boxtre alreadi know parent box b must overlap accord test propos notic need comput 3 valu l h one along axi 3 reus bs parent box notic need perform one oper deriv box parent box assum b deriv parent box split plane perpendicular axi b b 1 b 2 b 3 distanc c away correspond upper side parent box ie b lower child alreadi comput parent axisalign box denot l comput see figur 2 l l 0 l 0 similarli l x hx comput b upper child analog new valu along 2 axe addit save lot comput also save half comparison overlap test align box notic need compar 3 pair coordin instead 6 statu 3 chang exampl comparison along x axi done overlap hx l l x h l x xcoordin box note decis bx 7 0 made alreadi comput hx l x method need 12 float point oper 3 check overlap pair node restrict boxtre 322 lookup tabl sinc b fix complet travers two boxtre cs rang known begin travers would seem comput could possibl sped use lookup tabl begin travers comput 3x3 lookup tabl 1000 entri one tabl compon travers term form x replac c integ split axi see result discuss 323 separ axi test separ axi test sat dierent way look linear separ two convex polytop two convex bodi disjoint find separ plane equival find axi two bodi project onto axi yield two line inter val disjoint henc separ axi box 11 shown suce consid 15 axe appli test node restrict box tree 4 previous need comput line interv scratch instead modifi end 15 line interv dierent one parent let one candid separ axe assum b lower box see figur 2 lower box comput l analog upper box cours precomput 3x15 possibl product b advantag test precis ie fals posit one disadvantag test fact test axi align consid variant separ axi test special subset axe consid instead full set c c figur 2 one valu per axi need recomput overlap test figur 3 reduc version separ axi test seem good compromis number fals posit comput eort 9 axe perpendicular b edgeedg cross product total method need 82 flop worst case much higher method still less 200 flop worst case obb 5 324 sat lite seen section 9 candid axe obtain possibl cross product edg orient lend nice optim therefor natur choic subset 15 axe would set 6 axe consist three coordin axe b resp see figur 3 propos 19 call sat lite appli idea restrict boxtre show even comput eort save variant also view first variant execut two time first use bs coordin frame total oper count 24 33 optim section describ sever techniqu improv speed restrict boxtre hierarch collis detect gener first optim techniqu gener one appli algorithm hierarch collis detect overlap test pair node involv nodespecif comput perform independ node oppos pairspecif computa tion idea shift nodespecif comput one level travers assum cost node pair overlap test consist nodespecif part c1 overlaptestspecif part c2 cost pair b ca ab found overlap 4 pair children need check howev comput node specif comput alreadi still visit ab pass children pair reduc cost ca nodespecif comput appli one two hierarchi nodespecif cost hierarchi neglect dierenc even larger ie 9c1 5 worst case actual happen exactli half node pair visit simultan travers depend actual proport c1 c2 result dramat save case restrict boxtre first overlap test axi align techniqu reduc number float point oper 15 multipl 2 addit 5 comparison techniqu might alreadi implement collis detect code identifi gener optim techniqu hierarch collis detect usual keep one pointer parent first children save consider memori restrict boxtre node small memori footprint 4 construct boxtre perform hierarch collis detect depend travers algorithm also crucial qualiti hierarchi ie construct algorithm algorithm pursu topdown approach usual produc good hierarchi allow effici construct research pursu bottomup approach 3 insert method 10 4 41 gener criterion topdown construct bv hierarchi consist two step given set polygon first comput bv chosen type cover set polygon split set number subset usual two describ construct algorithm deriv gener criterion guid split process hierarchi produc good sens fast collis detect let cab expect cost node pair b condit alreadi determin collis detect need travers hierarchi assum binari tree unit cost overlap test express children b resp p probabl pair must visit condit pair b visit possibl locu anchor point figur 4 estim volum minkowski sum two bv deriv estim cost split set polygon associ node optim construct algorithm would need expand 1 leav 2 find minimum sinc interest find local criterion approxim cost function discard term correspond lower level hierarchi give deriv estim probabl p a1 b1 sake simplic assum follow aabb use bv howev similar argument hold kind convex bv event box intersect box b equival condit bs anchor point contain minkowski sum b situat depict figur 4becaus b1 child b know anchor point b1 must lie somewher minkowski sum abd insid b1 insid b know a1b1 abd arbitrari convex bv probabl overlap case aabb safe assum aspect ratio bv bound consequ bound volum minkowski sum estim volum minkowski sum two box yield sinc vola volb alreadi commit earlier step recurs construct equat 3 minim minim criterion construct restrict boxtre 42 algorithm accord criterion deriv recurs step tri split set polygon cost function 3 minim done tri find good split three coordin axe select best one along axi consid three case subset form lower box respect parent upper box one upper one lower box case first tri find good seed polygon two subset close possibl outer border perpendicular split axi second pass consid polygon turn assign subset whose volum increas least good split candid obtain three axe pick one least total volum subset algorithm criterion propos could also appli construct hierarchi util kind bv obb dop even convex hull suspect volum aabb would work fairli well estim volum respect bv also tri variant algorithm consid one axi three case along axi alway axi correspond longest side current box experi motiv recent result kd tree 5 result see section 5 current implement split plane children coplanar yet explor full potenti allow perpendicular split plane algorithm proven geometr robust sinc error propag therefor simpl epsilon guard comparison suce 43 complex certain assumpt complex construct boxtre n number polygon support experi see section 5 algorithm take constant number pass polygon associ node order split set polygon f pass linear number polygon bv hierarchi byte flop restr boxtre 321 9 12 restr boxtre 324 9 24 restr boxtre 323 9 82 sphere tree aabb tree 28 90 obb tree 64 243 tree 100 168 tabl 1 tabl summar amount memori per node need variou bv hierarchi number float point oper per node pair worst case collis detect number byte also includ one pointer children optim techniqu section 33 appli flop count reduc factor 2 boxtre sphere car lock headlight pgon 1000 time figur 5 plot show build time restrict boxtre variou object everi split produc two subset f2 let us assum f1 f2 n 1 depth boxtre let n time need build boxtre n polygon 5 result memori requir dierent hierarch data structur compar calcul memori footprint one node sinc binari tree n leav alway summar number byte per node dierent bv hierarchi tabl also compar number float point oper need one nodenod overlap test method describ three fast hierarch collis detect algorithm obb dop sphere tree follow result obtain pentiumiii 1 ghz 512 mb algorithm implement c top scene graph opensg compil gcc 304 time perform algorithm use set cad object vari complex see figur 6 plu synthet object like sphere toru benchmark perform follow scenario two ident object posit certain distanc start distanc comput center bound box two object object scale uniformli fit cube size 2 3 one perform full tumbl turn z xaxi fix larg number small step 5000 step collis queri done averag collis detect time complet revolut distanc comput decreas new averag collis detect time com pute compar dierent algorithm summar time averag time taken rang di full lite axi alignm pgon 1000 time millisec604020016120804 figur 7 comparison dierent overlap test pair boxtre node show sat lite test seem oer best perform tanc usual occur practic applic physicallybas simul figur 7 compar perform variou box overlap test present section 32 one cad object similar result obtain object suit although full separ axi test determin overlap box without fals posit seem comput eort worth least axisalign box 19 arriv similar conclus gener aabb tree experi seem sat lite oer best perform among three variant runtim comparison boxtre algorithm dop tree variou object found figur 8 seem boxtre oer inde good perform need much less memori result put restrict boxtre leagu dop tree 21 obb tree 11 sake breviti omit experi assess perform lookup tabl approach turn lookup tabl oer speedup 8 even slower nonlookup tabl version lower polygon complex setup time tabl reason might float point figur object test suit left right bodi car car headlight lock car door toru data courtesi vw bmw integ arithmet oper take almost number cycl current cpu shown section 4 boxtre built figur 5 reveal constant small boxtre construct startup time applic 6 conclus propos new hierarch bv data structur restrict boxtre need arguabl least possibl amount memori among bv tree perform fast dop tree use axisalign box node tree store explicitli instead store updat inform node use instanc factor 7 less memori obb tree order construct restrict boxtre develop new algorithm run n number polygon process 20000 polygon per second 1 ghz pentiumiii also propos better theoret foundat criterion guid construct algorithm split procedur basic idea appli bv hierarchi number algorithm develop fast collis detect util restrict boxtre gain ecienc special featur bv hierarchi benchmark shown one seem perform consist better other sever optim techniqu present increas perform new collis detect algorithm import one also appli hierarch collis detect algorithm significantli improv perform final use suit cad object comparison tree suggest perform restrict box tree fast case 61 futur work bv tree work excel rigid object still open issu extend data structur accommod deform object new bv hierarchi could also use queri ray trace occlus cull would interest evalu applic domain state bv tree binari tree howev 6 observ ariti might yield better per formanc paramet optim construct boxtre far approxim cost equat first order rather first level approxim higher order one could possibl arriv kind look ahead criterion construct algorithm could result better hierarchi 7 r tile kinet collis detect survey ray trace acceler techniqu boxtre hierarch represent surfac 3d accur fast proxim queri polyhedra use convex surfac de composit fast penetr depth estim elast bodi use deform distanc field automat creation object hierarchi ray trace hierarch structur rapid interfer detect approxim polyhedra sphere timecrit collis detect collis resolut cloth simul six degreesoffreedom haptic render use voxel sam pling collis detect anim use spheretre comput ge ometri introduct rapid collis detect dynam align doptre tr comput geometri introduct automat creation object hierarchi ray trace survey ray trace acceler techniqu rtree effici robust access method point rectangl obbtre six degreeoffreedom haptic render use voxel sampl effici collis detect use bound volum hierarchi kdop kd tree better cut longest side effici collis detect complex deform model use aabb tree realtim collis detect respons complex environ rapid collis detect dynam align doptre ctr jan klein gabriel zachmann timecrit collis detect use averagecas approach proceed acm symposium virtual realiti softwar technolog octob 0103 2003 osaka japan kavan carol osullivan ji ra effici collis detect spheric blend skin proceed 4th intern confer comput graphic interact techniqu australasia southeast asia novemb 29decemb 02 2006 kuala lumpur malaysia esther arkin gill barequet joseph b mitchel algorithm twobox cover proceed twentysecond annual symposium comput geometri june 0507 2006 sedona arizona usa