random algorithm multiprocessor page migrat page migrat problem manag global address share memori multiprocessor system physic page memori locat given processor memori refer page processor incur cost proport network distanc time page may migrat processor cost proport distanc time page size factor problem schedul movement onlin total cost memori refer within constant factor c best offlin schedul algorithm call ccompetit black sleator gave 3competit determinist onlin algorithm uniform network complet graph unit edg length tree arbitrari edg length good determinist algorithm known gener network arbitrari edg length random algorithm present migrat problem simpl better 3competit oblivi adversari algorithm uniform graph given approxim 228competit grow larg second power algorithm work graph arbitrari edg distanc also given algorithm approxim 262competit 1 plu golden ratio larg algorithm use random bit initi phase run determinist competit simpl coinflip algorithm also examin b introduct common design share memori multiprocessor system network processor local memori 9 14 19 design program abstract singl global memori address space support virtual memori system distribut one copi physic page memori among processor local memori processor p wish read write memori address locat page b first look see page b contain local memori memori access done immedi p determin processor q hold page b transmit memori request q network commun cost depend interconnect distanc p q processor q servic request transmit back p updat valu address given virtual page store multipl processor reduc commun overhead memori read introduc problem maintain consist among multipl copi write multiprocessor provid mechan maintain consist 5 therefor variou network design studi page migrat problem 4 5 17 aris writeabl page restrict singl copi suppos singl copi page b initi locat processor q page go access frequent processor p migrat page p q reduc commun overhead hand move full page memori incur larg amount commun overhead proport size page addit move page p may increas cost satisfi futur memori request pattern depart comput scienc yale univers new ct 065208285 research partial support nsf grant ccr9009753 preliminari version paper appear proceed dimac workshop onlin algorithm american mathemat societi februari 1991 j westbrook access chang problem design onlin algorithm schedul page migrat respons dynam chang access pattern formal instanc migrat problem consist edgeweight undirect graph g realvalu constant smaller 1 graph g describ interconnect network node contain processor assum node number 1 n one node g denot p contain page initi page resid node 1 constant correspond size page request node r refer processor r memori address page sequenc request gener node g new request r satisfi immedi cost ffi pr shortest distanc g p r satisfi request page move p new node p 0 cost delta ffi pp 0 definit distanc function ffi satisfi triangl inequ sinc g undirect ffi symmetr sequenc request optimum schedul page movement minim total cost request migrat gener onlin algorithm comput optimum schedul sinc lack knowledg futur request onlin algorithm call ccompetit request sequenc cost c time cost optimum offlin cost sequenc constant c recent much attent given competit analysi onlin algorithm 6 13 15 18 black sleator 5 formal studi page migrat problem context competit analysi consid two class network uniform network ie complet graph edg length 1 tree arbitrari edg length develop 3competit determinist algorithm two class addit show determinist algorithm could better 3competit even graph consist singl edg littl known determinist algorithm complet graph arbitrari edg weight problem seem quit hard best previou determinist bound gener case either 2n gamma 1 bound metric task system 6 1 2d given simpl algorithm move page request node request paper use random beat determinist lower bound give fast algorithm gener case random algorithm known prior work random onlin algorithm ccompetit oblivi adversari request sequenc expect cost c time cost optimum offlin cost sequenc constant c also definit random competit stronger adapt adversari given section 2 uniform network give simpl algorithm uniform 238 competit larg valu algorithm bare random sens use small number random bit initi phase run determinist bare random algorithm practic valu sinc random bit expens resourc gener problem includ tree develop basic algorithm variant construct choos differ probabl distribut consid two choic first use random coin flip request give algorithm 1 oecompetit larg oe golden ra tio approxim 162 show determinist reset strategi give 1 technic metric task bound hold slightli differ model see random page migrat 3 bare random algorithm competit ratio also tend 1 alway slightli larger competit ratio first algorithm lastli examin competit simpl coinflip algorithm show network 3competit adapt onlin adver sari coin flip algorithm memoryless henc storag network overhead need gener random number everi request appli result bendavid et al 2 coinflip algorithm 1 oecompetit algorithm mention prove exist 33oecompetit determinist algorithm gener network page migrat one sever problem aris manag data distribut environ black sleator 5 studi relat problem page replic one may make multipl copi readonli page karlin et al 11 studi snoopi cach memori manag given busbas interconnect network memori manag problem studi refer 1 12 15 migrat relat 1server excurs problem defin manass et al 13 migrat 1server excurs also relat kserver problem 3 7 13 practic issu applic page migrat discuss fulli 4 5 17 subsequ work present chrobak et al found 212dcompetit algorithm singl edg tree topolog 8 show bound tight 2 competit analysi lower bound let oe sequenc quest cost algorithm oe denot aoe denot opt offlin algorithm achiev optimum cost oe follow 6 13 say determinist algorithm ccompetit constant b request sequenc oe random algorithm competit algorithm defin respect adversari follow 215 consid three kind adversari random onlin algorithm ccompetit oblivi weak adversari constant b graph finit request sequenc oe expect random choic made onlin algorithm natur extens determinist competit model situat random choic algorithm affect choic request typic use ccompetit abbrevi ccompetit oblivi adversari adapt adversari intend state explicitli adapt adversari gener request sequenc onlin choos request base actual move made onlin algorithm adapt adversari function take input sequenc k gamma 1 request correspond action onlin algorithm output k th request maximum number request adversari valu sinc output depend random choic onlin algorithm random onlin algorithm adapt adversari togeth gener probabl distribut request sequenc oe two way charg adversari request sequenc adapt offlin adversari aoe simpli opto optimum offlin cost 4 j westbrook oe adapt onlin adversari cost incur oe auxiliari onlin algorithm onlin algorithm ccompetit adapt adversari exist constant b adapt adversari model situat random choic algorithm may affect futur request sequenc adapt onlin adversari entir intuit cost measur seem somewhat unnatur adversari use prove theorem determinist algorithm black sleator show simpl case two processor link singl edg length 1 determinist algorithm better 3competit addit chrobak et al 8 give exampl 4processor network everi determinist algorithm competit ratio slightli larger 3 1 theorem 2 determinist lower bound also appli random algorithm face adapt offlin adversari result paper demonstr oblivi adversari random algorithm beat determinist lower bound consid case singl edg one show given page factor random algorithm better 2 1 competit oblivi adversari 8 suspect howev lower bound higher complic graph section 5 show random algorithm 3competit adapt onlin adversari one appli techniqu 10 16 show algorithm better lower bound follow consid simpl case two processor link singl edg length 1 adapt adversari strategi watch onlin algorithm alway gener request processor contain onlin algorithm page thu onlin algorithm request prior gener first request adapt onlin adversari simul onlin algorithm possibl random choic use strategi gener probabl distribut request sequenc oe length simul adversari comput expect number request processor expect total cost page migrat b paid onlin algorithm b m2 adversari initi place page processor often request never move expect cost adversari expect cost onlin algorithm least 3m2 m2 adversari alway move keep page processor contain onlin algorithm page case adversari pay b onlin algorithm pay thu either case onlin algorithm guarante better 3competit discuss show migrat problem oblivi adapt onlin adapt offlin adversari strictli differenti power first natur onlin problem known true 3 uniform graph section describ analyz random algorithm uniform design uniform graph uniform graph common import network topolog 5 model ffi v v cost move page node u node v 1 random page migrat 5 describ algorithm remark graph singl edg two node problem ident twoitem list updat problem reingold et al 10 16 gave simpl random algorithm listupd problem uniform parallel processor node v graph given associ counter c v take valu 0 k gamma 1 optimum valu k depend see later choos k let vector counter valu n node graph k n vector let c th vector let u denot determinist algorithm begin initi counter vector request node r follow 1 page request satisfi cost 1 2 counter r c r increment 3 c r valu k page move node r alreadi c r reset 0 prior process request uniform algorithm choos determinist algorithm u uniformli random run random choic made initi node counter uniformli random use thetan log theorem 31 uniform c k competit oblivi adversari k maximum counter valu c k maximum 1 2d proof show e uniformo c k delta opto finit request sequenc oe analyz expect cost uniform imagin ensembl differ determinist algorithm u run simultan request sequenc expect cost uniform total cost ensembl divid use follow observ time algorithm ensembl distinct counter vector follow easi induct number request observ impli time number algorithm ensembl valu c v exactli mk equival time run algorithm uniform pr c proof use techniqu compar simultan run u opt request sequenc oe action u opt partit two kind event togeth account cost algorithm first kind event servic request u opt event may involv u move page second kind event opt move page th event let denot node u page opt denot node opt page defin potenti function phi ae event actual cost opt amort cost u defin actual cost event u plu chang potenti function potenti phi alway nonneg phi u begin page node impli standard amort analysi argument total actual cost u bound sum amort cost event prove theorem show event sum amort cost algorithm ensembl less mc k time actual cost opt 6 j westbrook 1 event request two subcas request node opt case opt pay 0 must show amort cost algorithm u also zero actual amort cost u also 0 otherwis u pay 1 sinc c opt increment potenti decreas 1 counter reach k page move opt cost decreas potenti thu amort cost alway 0 ii request node r 6 opt cost opt 1 algorithm u pay 1 request mk algorithm ensembl c r reach k page move r cost p 6 opt prior move chang potenti worst case prior move potenti increas algorithm howev move opt c 1 therefor total cost event ensembl bound sum divid give expect amort cost uniform bound c k time cost opt 2 event opt move page new node r actual cost opt actual cost algorithm u 0 consid cost due chang potenti potenti decreas least r 6 p opt bound k gamma c r worst case r initi exactli mk algorithm total cost ensembl event sum divid give expect cost uniform c k time cost opt complet proof theorem 31 given valu choos k minim maximum 1 tabl 1 show best competit ratio uniform valu 10 valu found set solv k term best integ approxim valu taken tend infin best competit ratio decreas tend 228 note valu better determinist lower bound 3 possibl slightli improv upon valu small use random reset techniqu employ 16 next theorem show analysi tight theorem 32 uniform algorithm better c k competit c k defin theorem 31 random page migrat 7 best k comp ratio 9 23 233 tabl best competit ratio uniform proof consid two processor label 1 2 connect singl edg length 1 initi page locat processor 1 two kind bad request sequenc oe page request processor 1 2 respect k denot k consecut request processor sequenc oe satisfi cost oe b satisfi cost 1 expect cost uniform oe simpli expect time page migrat 2 determin expect valu counter 2 plu cost migrat uniform guarante move page eventu sinc k request therefor oe b uniform move page 2 first request probabl 1k case remaind sequenc look ident oe henc adversari gener arbitrarili long request sequenc repeat oe oe b uniform algorithm better c k competit 4 gener graph section consid migrat problem undirect graph arbitrari edg distanc recal even arbitrari edg length shortest distanc function ffi remain symmetr still satisfi triangl inequ one reason gener case seem harder uniform case gener graph may contain cluster processor close rel far cluster situat model collect localarea network tie togeth widearea network even though singl processor cluster access page especi often cluster whole may gener mani request page may advantag move page node cluster hand uniform case cluster processor access page equal often easi situat onlin algorithm handl sinc opt must pay 1 per request fig 1 markov chain transit matrix entri contain probabl transit counter valu counter valu j follow request 1 previou best known determinist competit ratio gener graph given gener metric task system algorithm 6 technic result hold differ model lookahead1 model algorithm allow move page see next request actual servic lookahead0 model request must servic immedi seen easili check algorithm lookahead1 model use deriv algorithm lookahead0 model competit ratio 2 time wors origin algorithm furthermor bound converg grow larg one also show strategi move page last request node yield competit ratio 2d 2 thu even graph singl triangl best known determinist algorithm larg 5 competit random algorithm gener case simpl enough practic beat determinist lower bound gener algorithm g maintain singl counter valu c 1 request page 1 counter decrement one regardless request 2 counter reach 0 page move locat current request move counter reset accord reset distribut probabl reset counter valu distribut fix advanc independ request sequenc 0g interest distribut k exist ie infinit counter valu form markov chain state correspond counter valu 1 k state mean page move access state transit occur everi access transit matrix correspond markov chain shown figur 1 note probabl given state depend number request process natur request ae denot steadi state probabl state given reset distribut let cr denot expect valu counter immedi follow reset let cs denot expect valu counter steadi state definit abbrevi notat cr distribut clear steadi state probabl ae given eigenvector transit random page migrat 9 matrix correspond eigenvalu 1 one may verifi steadi state cr impli ff ja cr prior start run algorithm counter initi accord steadi state distribut ie counter initi probabl ae lemma 41 let gd gener algorithm reset distribut gd c competit c maximum 2 cr cs proof partit action cost two event request gd opt satisfi page movement opt given oe fix sequenc event determin ensembl determinist onlin algorithm correspond possibl random choic made throughout process oe time fraction algorithm ensembl counter valu given steadi state probabl ae averag cost algorithm ensembl give expect cost one run g oe calcul expect amort cost per oper g directli let random variabl x amort cost th event total amort cost linear expect expect total amort cost prove theorem bound e x term cost opt time event let opt node opt page g node g page let c valu counter g c depend upon previou random choic opt fix oe use potenti function note page node analyz expect amort cost event 1 event request node r let see figur 2 cost opt 0 actual cost g 2 counter decrement henc amort cost g triangl inequ therefor amort cost g satisfi request 0 probabl ae 1 counter valu 1 prior request becom 0 request satisfi g move page node r cost 2 reset counter accord potenti chang j westbrook r opt fig 2 diagram proof lemma 41 c 0 valu counter reset expect chang potenti determin expect valu counter reset cr henc expect amort cost move appli triangl inequ bound cr combin cost satisfi request expect move cost case total expect amort cost g bound cr c time cost opt 2 event opt move page node opt new node opt 0 let actual cost opt 0 actual cost g 0 consid cost due chang potenti let 1 ffi gopt 2 ffi gopt 0 actual potenti chang c actual counter valu expect potenti chang determin steadi state expect valu counter cs sinc expect potenti chang bound 0 cs c time cost opt lemma 42 gener algorithm gd better c competit c defin lemma 41 proof theorem 32 consid two processor connect edg length 1 two request sequenc oe expect cost gd oe cs initi expect time page migrat 2 plu cost migrat therefor cs oe b gd move page 2 first request probabl ae 1 case cost remaind oe b determin expect time return page 1 given move initi expect time cr henc cr random page migrat 11 adversari gener arbitrarili long request sequenc repeat oe oe b next two subsect analyz two choic reset distribut first give random reset strategi competit ratio tend golden ratio approxim 1618 discuss determinist strategi reset counter singl valu k move show competit ratio determinist strategi approach random reset distribut grow larg determinist reset give simpl practic nearoptim bare random algorithm 41 random reset restrict attent distribut sat isfi cr cs 1 competit ratio given choic reset probabl cr minim cr maxim fixd valu k follow linear program comput optimum reset distribut subject constraint 1 maxim subject constraint let x posit solut dxe least integ constant k 0 th term second constraint linear program greater 4d 2 lemma 43 feasibl solut linear program ff k0 gamma1 ff k0 nonzero proof let first constraint linear program set second constraint becom replac k 0 x ffl 0 use fact x constraint reduc impli j westbrook best k 0 comp ratio 3 9 2667 8 26 2636 128 414 2619 tabl best gener competit ratio reset randomli ff observ 2x gamma 2d 0 0 easili verifi 0 ff 1 henc constraint three satisfi theorem 44 competit ratio algorithm given choos k 0 ff 2 proof theorem follow straightforward substit formula cr tabl show sever competit ratio given theorem 44 get larg best competit ratio decreas tend 1 p2 one plu golden ratio approxim 262 42 determinist reset turn random reset strategi previou section determinist reset strategi set either ff k0 gamma1 ff k0 1 depend give lowest maximum competit ratio let depend whether choos ff k0 theorem 45 gener algorithm determinist reset c competit oblivi adversari c maximum 1 proof counter initi set valu probabl 1s time thereaft counter valu uniformli distribut 1 calcul cr cs formula given appli lemma 41 complet proof tabl 3 show best competit ratio achiev determinist reset strategi variou valu henc k 0 grow determinist random reset algorithm tend competit determinist reset advantag greater simplic sinc requir random bit initi 5 coinflip algorithm simpl random strategi flip weight coin request move request node coin come head request page move request node probabl p 0 strategi use gener graph arbitrari edg weight advantag memoryless state inform rememb given locat page furthermor achiev exactli competit ratio 3 adapt onlin adversari oblivi adversari hand poorer competit random page migrat 13 best k 0 comp ratio 3 9 2667 128 413 2620 tabl best gener competit ratio reset k 0 probabl 1 oblivi adversari algorithm uniform gener problem present section 3 4 respect requir random number call everi access section analyz competit coinflip algorithm first give lower bound theorem 51 coinflip algorithm better 3competit oblivi adversari proof use standard scenario two processor two request sequenc oe requir j oe optimum cost oe b optimum cost 1 p expect cost coin flip algorithm oe 12d least 31 gamma q j time optim cost expect cost coin flip algorithm oe b 1 12d least 3gamma2q j time optim cost henc choic p sequenc choic j competit ratio coin flip algorithm arbitrarili close 3 show coinflip algorithm 3competit adapt onlin adversari perform analysi use requestansw game framework 2 adversari initi commit request sequenc length game proce sequenc round round adversari first move page choos adversari gener request immedi servic onlin algorithm servic request possibl move page end round adversari told locat page onlin algorithm theorem 52 coinflip algorithm 3competit adapt onlin adversari proof use follow crucial observ round probabl coinflip algorithm move page independ request locat adversari page request gener observ true algorithm section 3 4 make move base counter valu adapt adversari know use gener request observ also true coinflip algorithm adapt offlin adversari offlin case locat adversari 14 j westbrook page depend determinist upon futur request turn depend upon outcom futur coinflip algorithm use observ show expect amort cost event 3 time cost adversari event let f denot processor contain page coin flip algorithm denot processor contain page denot distanc f use follow potenti function two event consid round 1 request occur node r let f denot node contain page coin flip algorithm adversari respect prior request three distanc interest 0 distanc f 1 distanc distanc f r cost 1 expect cost coin flip algorithm triangl inequ impli expect cost coin flip algorithm 3 1 2 move page 0 let 0 1 denot distanc f f 0 respect let 2 distanc 0 cost move 2 cost coin flip algorithm 3d triangl inequ corollari 53 coinflip algorithm 3competit oblivi adversari proof follow trivial fact oblivi adversari simpli adapt onlin adversari gener request regardless random choic made onlin algorithm servic request optim corollari 54 graph competit coinflip algorithm adapt offlin adversari tend 3 786 grow larg proof theorem 22 2 state algorithm b ficompetit adapt onlin algorithm exist algorithm ffcompetit oblivi adversari b ffficompetit adapt offlin algorithm take gener algorithm determinist reset section 42 b coinflip algorithm variou valu competit factor coinflip algorithm adapt offlin adversari found multipli 3 appropri entri tabl 3 corollari 55 exist determinist algorithm migrat problem competit ratio tend 3 larg proof theorem 21 2 state random algorithm ff competit adapt offlin algorithm also ffcompetit determinist algorithm theorem give method construct determinist algorithm attempt 6 remark paper present random algorithm page migrat shown algorithm uniform graph tend toward 238competit get larg random page migrat 15 ii algorithm gener graph parameter reset distribu tion determinist reset give variant tend toward 1oecompetit get larg iii simpl coinflip algorithm 3competit adapt onlin adversari also shown analysi tight algorithm coinflip optim adapt onlin adversari sever interest open problem one improv upon random algorithm improv gener lower bound second find good determinist algorithm migrat gener graph anoth open problem extend result gener problem 1server excurs recent work bartal et al 1 studi file alloc distribut system situat multipl physic copi writeabl page data file sometim allow problem competit ratio rise thetalog n n number processor 7 acknowledg author thank daniel sleator suggest migrat problem nick reingold help convers r competit algorithm distribut data manag ment power random onlin algorithm competit threeserv algorithm competit manag distribut share mem ori competit algorithm replic migrat prob lem optim onlin algorithm metric task system new result server prob lem page migrat algorithm use work function perform measur 128node butterfli parallel processor random algorithm list updat problem competit random algorithm nonuniform problem competit algorithm onlin prob lem memori versu random onlin algorithm random algorithm list updat problem dynam page migrat multiprocessor distribut global memori amort effici list updat page rule hierarch cachebu architectur share memori multiprocessor tr ctr r burley sandi irani algorithm design metric task system proceed sixth annual acmsiam symposium discret algorithm p420429 januari 2224 1995 san francisco california unit state page migrat relax task system theoret comput scienc v268 n1 p4366 10062001