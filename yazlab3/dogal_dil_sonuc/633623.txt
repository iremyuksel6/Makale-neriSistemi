phase transit park block brownian excurs coalesc paper consid hash linear probe hash tabl place n item n place noncomput sciencemind reader shall use metaphor n car park place car ci choos place pi random pi occupi ci tri success find empti place pittel 42 prove goe posit limit 1 size b1m1 largest block consecut car satisfi 2 converg weakli extremevalu distribut paper examin level n phase transit occur om intermedi case reveal interest behavior size block relat standard addit coalesc way size connect compon random graph relat multipl coalesc b introduct consid hash linear probe hash tabl n place f1 2 ng item place hash linear probe fundament object analysi algorithm studi goe back 1960 knuth 17 konheim weiss 19 still activ pittel 27 knuth 18 flajolet et al 11 non comput sciencemind reader shall use along paper metaphor mn car park n place leav en place empti car c choos place p random p occupi c tri success nd empti place use convent place place 1 name park function hash linear probe still studi combinatorist schutzenberg 34 riordan 30 foata riordan 12 francon 15 stanley 1 institut eli cartan inria cnr universit henri poincar bp 239 54 506 vandoeuvr cedex franc chassainiecnunancyfr universit libr de bruxel depart dinformatiqu campu plain cp 212 bvd du triomph 1050 bruxel belgium louchardulbacb 35 36 nice develop connect park function mani combinatori object section 4 11 see also 35 paper also 20 use mainli mayb less exploit connect park function empir process mathemat statist see also recent paper 25 pittel 27 prove enn goe posit limit size largest block consecut car b 1 converg weakli extremevalu distribut paper essenti concern would call emerg giant block see 5 7 histor emerg giant compon random graph also 2 14 16 theorem 11 n mn go jointli to1 b 1 belong almost sure 0 1 threshold phenomenon less pronounc random graph pro cess howev behaviour transit reminisc random graph process aldou 2 observ limit behaviour connect compon random graph process relat multipl coalesc rather seem addit coalesc cf aldou pitman 4 come play theorem 13 describ random variabl b 1 k1 decreas sequenc size block end innit sequenc 0s dene analog r nn r k k1 sequenc size block block sort increas date birth increas order rst arriv car instanc figur 1 theorem 12 lim en law x character fact x 1 x 2 x k k1 distribut sequenc k1 n k standard gaussian independ figur 1 park scheme place one recogn margin law valu fragment process deriv continuum random tree introduc aldou pitman studi standard addit coalesc 4 order describ limit bn n dene famili oper space e continu nonneg function fx let e normal brownian excurs 3bessel bridg see 29 chap xi xii background let k1 sequenc width excurs e sort decreas order excurs function f understand restrict function f interv b f chang sign precis b brownian motion known innit mani excurs neighborhood zero properti hold true e except 0 isol point set zero e nevertheless e almost sure innit mani excurs interv 0 1 seen consequ theorem 41 gener cameron martingirsanov formula theorem 13 lim en p incident length l excurs e begin 0 studi bertoin 6 recent paper give transit kernel markov process figur 2 park scheme place theorem 11 width largest excurs e fact b 1 belong almost sure 0 1 densiti follow next theorem brownian excurs turn suggest combinatori natur theorem 12 theorem 14 law sizebias permut b satis law k1 n k standard gaussian independ sizebias permut random probabl distribut b construct follow consid sequenc independ posit integervalu random variabl distribut accord b probabl 1 posit integ appear least sequenc k k1 eras repetit rst occur given integ sequenc remain random permut k k1 posit integ set sizebias permut random discret probabl studi aldou 3 pitman 23 24 celebr exampl sizebias permut sequenc limit size cycl random permut limit distribut size largest second largest cycl complic express see dickman 9 shepp lloyd 32 sizebias permut k1 u k uniform 0 1 independ see also beauti develop poissondirichlet distribut 3 21 22 24 26 actual theorem 14 give implicit descript law b instanc prove almost sure k posit thu 1 exist even formula due perman 21 give joint distribut k th largest weight random discret probabl term joint densiti sizebias permut special case random discret probabl come order statist jump normalis subordin formula seem appli flajolet salvi 13 direct approach comput densiti b 1 method base cauchi coecient integr saddl point method appli densiti variant dickman function note bertoin 6 studi stochast process tool studi excurs ect brownian motion vari drift establish interest properti instanc markov properti final set theorem stabl subordin expon 12 mean k ktupl posit number thu stochast process law process hit time brownian motion theorem 14 still anoth featur share stochast addit coalesc theorem 15 14 suggest process 0 law valu fragment process provid altern construct stochast addit coalesc formal proof scope paper howev see conclud remark theorem 15 interest relev studi park scheme abl prove weak converg process size block contain car c 1 process 1 0 next theorem ll incomplet gap let r 1 sequenc success width r 1 nk block contain car c 1 car park n place k place still empti k n set r 1 r 1 nd ne abl build space brownian excurs e sequenc park scheme n car n place way theorem 16 pr would need almost sure converg skorohod topolog order complet gap fact pure jump process make sens park scheme context sinc block car c 1 known increas n car arriv explain coalesc block size instantan jump paper organ follow section 2 analys block contain given car given site lead proof theorem 11 iii section 3 provid combinatori proof theorem 12 section 4 use decomposit sampl path e cf theorem 41 believ interest provid simpl proof theorem 14 15 theorem 41 proven section 5 help combinatori ident 22 proof theorem 13 11 iii also given section 5 exhibit close coupl empir process mathemat statist prole associ park scheme see previou gure denit prole see section 5 section 6 devot proof theorem 16 section 7 conclud paper 2 block contain given car given site sectionw give proof theorem 11i ii order give partial proof theorem 12 concern size r 1 nen block contain car c 1 theorem 21 n 12 en 0 r 1 law n standard gaussian proof probabl park car n place block contain car c 1 k element denot prr 1 clearli number park scheme car n place n one choos set k 1 car belong block c 1 give factor place block begin give factor n way k car alloc k place give factor nalli one park k remain car n k 2 remain place leav one empti place begin end block contain car c 1 give factor n flajolet et al 1998 knuth 1998 justic third last factor note comput would hold given car instead c 1 end section shall prove lemma 22 0 12 exist constant c whenev simultan k n kn f proof theorem 21 owe lemma 22 yield 0 b 1 pran r 1 z 1e y2 dy thu densiti probabl r 1 nen n limit law xdx furthermor previou chang variabl entail random variabl w densiti x 2 w1 w 1212 law 2 w1 w law squar standard gaussian random variabl consequ theorem 21 prove ii theorem 11 consid ii provid en n r 1 nd ne n 0 n larg nd ne nx due theorem 21 obtain 0 lim sup clearli x 1 pr 0 regard let l n length block car contain place 1 resp length largest block car c bn p nc arriv k 0 prr 1 place 1 empti probabl ne also thu assum p obtain n larg enough depend lim sup nalli yield prove iii theorem 11 section 5 togeth theorem 13 proof lemma 22 set breviti en obtain n nalli exp 3 proof theorem 12 rst provid use ident lead proof theorem 12 set theorem 31 proof choic element block done way arrang insid block way conveni argu term con park scheme knuth 1998 flajolet et al 1998 assum last place empti sinc rotat chang size block total number con park scheme n 1 n obtain con park scheme size k 1 rst block respect insert block success empti place attach right insert take place front con park scheme remain car one empti place con park scheme remain car possibl insert rst possibl insert second block final probabl pk left hand theorem 31 given hard check last express right hand theorem 31 proof theorem 12 set use line proof theorem 21 approxim lemma 22 n k theorem 31 yield joint densiti x 1 f equival condit law x j f equival x j distribut n j standard gaussian independ x 1 straightforward induct give theorem 12 4 excurs e section give proof last two main theorem theorem 14 theorem 15 41 decomposit path e result simpl consequ properti decomposit sampl path e believ interest let u 1 random variabl uniformli distribut 0 1 independ e let resp f denot last zero e u 1 resp rst zero e u 1 1 theorem 41 distribut n 2 n standard gaussian ii f normal brownian excurs independ 1 iii let w uniformli distribut 0 1 independ e given f v distribut introduct w rather unpleas featur actual studi h n suggest denot local time r 0 interv 0 point iii replac reach uniqu minimum point distribut could prove last point second problem would aris know uniformli distribut 0 1 independ f 1 howev fv wg sure properti hand purpos prove theorem 12 introduct w harmless law length excurs straddl u 1 theorem 41 proven subsect 54 start point proof combinatori ident 42 proof theorem 14 dicult follow line proof theorem 41 subsect 54 exhibit almost sure converg ofn r 1 k yield theorem 14 prefer borrow nice idea section 64 pitman yor 26 use decomposit sampl path brownian bridg prove distribut properti sampl poissondirichlet distribut introduc 26 sequenc u independ e probabl 1 u k fall insid excurs e excurs width b j dene yield sizebias permut b explain introduct set random variabl u k independ uniformli distribut 0 f 1 exist uniqu number v k 20 1 k1 sequenc independ random variabl uniform 0 1 independ e u 1 view theorem 41 lead lemma 42 given 1 sequenc distribut 1 xy actual among u i2 u k use determin actual sizebias permut sequenc width excurs r precis sizebias permut built help sequenc v consequ also sizebias permut sequenc width excurs q built help sequenc k1 end proof lemma 42 v sequenc independ uniform random variabl independ r w use lemma 42 prove induct k two follow properti distribut assert theorem 14 distribut 1 k condit law condit law 1 k thu due lemma 42 law give point2 k 1 set due point2 k point theorem 41 given j equival give 43 proof theorem 15 exist similar result seemingli dierent set standard addit coalesc cf 4 given f distribut axu u uniform 0 1 hand easi see 2 0 1 x thu given f distribut sinc last distribut depend also condit distribut equival chang variabl condit distribut uncondit distribut 1y last statement yield 11 induct k assum properti see given 1 owe theorem 41 5 proof theorem 13 41 denot number car tri park place k success proof theorem 13 three step subsect 52 use theorem doob vervaat shall prove theorem 51 lim n weakli h dene help uniform random variabl u independ e rst result shall establish subsect 51 close coupl h k empir process mathemat statist theorem 51 gener similar theorem establish marckert chassa case subsect 53 shall prove converg width excurs h n e use essenti result section 23 aldou 1997 figur 3 prole place k empti width excurs h n turn length block car normal 1n shall call h n prole park scheme 51 connect park empir process proposit 53 54 55 end subsect key point converg block size model car park place describ sequenc u k k1 independ uniform random variabl car c k assum park tri place p u k fall interv let k denot number car tri rst park place k sinc either place k occupi car c among h k car tri place k car c wont visit place k place k empti h understand equat induct alon give h k sinc start valu thu nd addit relat purpos proposit 52 give rst connect hash park empir process let v dene ng empir process mathemat statist see shorack wellner 33 csorgo revesz 8 pollard 28 background recal given sampl u almost interest statist function empir distribut empir process dene process give measur accuraci approxim true distribut function empir distribut function fm extens studi mathemat statist proposit 52 hash tabl place v n empti proof proposit 52 let sinc clearli thu nonneg understand convent obvious place k empti h end proof shall assum h v n posit shall deduc induct k place empti contradict n due 54 thu due 53 h v n 1 2 start point induct assum k h v n 2 53 obtain k due 54 know true valu h k point k name n use 53 comput valu h k size block car follow block car correspond block indic k h k 0 block call also later excurs h k nd follow explicit connect empir process h k spirit marckert chassa 20 proposit 53 k 2 f1 2 n 1g rewritten term empir process proposit 54 k 2 fv n proof proposit 53 set place set fv n use 53 obtain obtain proposit 53 prove r alreadi exist last index j k z consequ last empti place includ r acord place v n empti due 53 fact v n last empti place place h v two case aris either h v rst case simultan r second case h v nk 1 entail r also w j1 end tediou proof induct fact prove use z k easier handl r k deal uniform converg next subsect notic use prove proposit 55 record w k z k mean empti place 52 converg e let us recal donsker 1952 follow idea doob prove theorem 56 let brownian bridg weakli shall also need next theorem prove theorem 51 theorem 57 verwaat 1979 37 let v almost sure uniqu point bv dene normal brownian excurs independ v proof theorem 51 accord skorohod represent theorem cf roger william 1994 ii861 assum exist space sequenc n brownian bridg b almost converg uniformli 0 1 b could way build correspond sequenc u independ random vari abl correspond random park scheme howev would realli need proof mental pictur note sequenc u would necessarili embed u m1 dene sequenc mn previou subsect dene also correspond v n follow 1kn final let correspond number car tri success place number k set z assum lim n en lemma 58 almost uniformli lemma 59 almost v n n converg v consequ lemma 510 almost uniformli z n uniformli also lemma 511 almost uniformli take theorem 51 reformul lemma 511 sinc eft v nng uniformli due estim proof lemma 58 uniform converg hold also true indier continu stepwis linear version h n n z n bntcn shall use remark proof theorem 41 proof lemma 58 let n denot max 0kn kn kn denot number car want park place k kn binomiallym 1n distribut neexpki 1n exp kc log n thu borelcantelli lemma entail suitabl c probabl 1 supremum norm bntcn vanish quickli c log n proof lemma 59 proof next one consid simultan bntcn converg uniformli b b reach minimum know set measur 1 set straightforward continu properti b rst minimum bntcn ie v nn converg minimum b ie v clearli minimum bt set 0 1v v bv posit thu necessarili jv v nnj proof lemma 510 clearli proof lemma 511let z accord proposit 53 proposit 54 0st 0st 0st thu lemma 511 follow uniform converg z n z lemma 510 53 proof theorem 13 width excurs h n zero size block car correspond park scheme normal n unfortun uniform converg h n h entail converg size excurs use line proof aldou 1997 section 23 shall argu excurs h n 0 also excurs z n current minimum uniform converg z n z entail converg size excurs z n current minimum size excurs z current minimum provid z never reach current minimum two time last condit classic satis almost sampl path z almost sure converg size excurs z n equival size block note excurs z current minimum also excurs e 0 precis shall appli z n z follow weaken form lemma 7 p 824 2 lemma 512 suppos f 0 1 r continu let e set nonempti interv l r sl suppos interv 1 2 2 e l 1 l 2 suppos also complement i2e l r lebesgu measur 0 let uniformli 0 1 suppos ni 1 satisfi follow write mng n vagu topolog measur 0 1 0 1 deal point process n proposit 513 n vagu topolog 0 0 1 n larg enough n 0 1 ii x 2 0 1 1 fxg 0 sequenc point x n 0 x n x easi consequ partli due fact second compon add 1 corollari 514 n vagu topolog sequenc second compon point n sort decreas order converg componentwis 1 correspond sequenc lemmata proposit subsect hold straightforward specialist well stochast calculu point next proof give proof annex f sequenc second compon n resp noth els 1 proof theorem 13 lemma 512 corollari 514 appli subsect 52 entail theorem 13 hypothesi lemma 512 concern regular sampl path zt almost sure l 1 l 2 set r lebesgu measur c 0 well known hold true e solut du see 29 chp xi whole section 3 notabl ex 311 ni lemma 512 choos record z n due lemma 55 nt ni empti place count start v n depend z n hypothesi iii lemma 512 satis z n last proof also proof theorem 11 width widest excurs e 54 proof theorem 41 theorem 41 basic consequ follow ident n 2 equival relat 22 let u uniformli distribut independ brownian excurs e decomposit n accord length k block contain car c ident 57 yield desintegr e accord valu x 1 assert theorem 41 factor give distribut shape suitabl scale excurs f n h n correspond block contain car c 1 marckert chassa 1999 prove con park scheme equiprob weakli shall deduc shape f excurs e contain u 1 limit prole f n independ width 1 distribut normal brownian excurs make random rotat angl dn k 1w e park scheme k remain car n k 1 remain place obtain n equiprob park scheme n lead fact rfw g distribut let us give formal proof proof theorem 41 let c space continu function 0 1 topolog uniform converg triplet independ random variabl dene random variabl x 1 f q law q probabl measur space 0 1 c 2 normal brownian excurs e resp dene probabl measur resp x c theorem 41 written equival z 1f x z z bound uniformli continu function space 0 1 c 2 harmless assum order prove theorem 41 shall exhibit probabl space sequenc 0 almost sure x 1 f q product topolog 0 ne iii condit law k f n given x depend n satis weakli iv condit law nk q n given x nk weakli consequ bound uniformli continu function shall prove properti ii iv sucient insur bound uniformli continu function satisfi z 1f x z entail 58 end proof construct x let bound jj set z 1f x z z z z z z dnxen z z n z z domin converg owe iii iv lim n b uniform continu f lim final lim n c n due lemma 2 construct x assum set subsect 52 use skorohod theorem obtain space sequenc converg almost sure uniformli brownian bridg enlarg space order obtain two uniform random variabl u 1 w independ b set ne sake breviti shall build sequenc x describ partli park scheme mn car n place let us collect basic fact concern empir process posit jump height 1 place call v jump neg slope random vector uniformli distribut simplex f0 x 1 x 2 xm 1g random permut compon would yield sequenc u independ uniform random variabl 0 1 car c k tri park rst place l unfortun provid space mean given know number car park place k say mn number jump take place interv n know car park place slight diculti sinc mind choos nx n place car c 1 park ii follow relat 22 order circumv problem note random permut describ random biject f2 3 4 mg f1 2 3 1g random uniform integ 1 independ rst choos 1 choos random 1 remain integ renumb 1 1 shall take u car c 1 park place dnu 1 e shall leav unden addit fact 1 u random uniform get almost sure u incident remain jump independ u 1 uniformli distribut simplex f0 x 1 x 2 xm 1 1g rst empti place left dnu e resp rst empti place right begin resp end block contain car c 1 easi consider uniform converg z n z give almost sure recal r 1 yield point ii also part point almost sure let r nh n uniform converg h n e uniform continu et 510 entail uniform converg f n f uniform converg regard iii relat 57 tell us given nx f n prole associ one park scheme k car k place accordingli condit law k converg weakli similarli due random rotat dn r n e given nx prole associ one n k 1 k equiprob park scheme k car n k 1 place condit law nk converg weakli x hypothesi iv unfortun nk c littl bit addit work replac f n q n correspond piecewiselinear continu approx imat f n q n relat 56 insur f n resp q n converg uniformli f resp g yield point relat 56 insur also law k resp 6 proof theorem 16 use set subsect 52 use skorohod theorem obtain space sequenc n converg almost sure uniformli brownian bridg enlarg probabl space sequenc independ uniform random variabl u k k1 independ independ sequenc contain inform number car tri park n place contain inform chronolog shall use u k 2kn recov chronolog pick random one jump jump give place car c 1 u n 1 dene relat 59 u k 2kn gener random permut rank remain order statist f2 3 ng consequ given n u k 2kn recov whole histori process park n car n place without lose almost sure uniform converg n brownian bridg need converg size block thu n k dene prole h nk associ park rst car n place use correspond notat z nk prole h nk given proposit 54 base empir process nk obtain eras k last random choic order statist place jump n precis let uniformli distribut simplex denot remain jump n u n 1 eras let random permut gener u k rank u k u k 2kn sort increas order k assert rst tri car c 1 place dnu n e rst tri car c k k 2 place dn e n n park scheme equiprob k last random choic provid sampl k independ uniform random variabl associ empir process nk nk dkw inequ give prsup nk tj x 4 thu use borelcantelli lemma obtain easili 0 pr sup sup accordingli simpl glanc proof lemma 59 see v n denot rst minimum converg v n kn v n uniform almost sure compar lemma 59 chang slightli denit u sup inspect relat 55 see converg z n ne z uniformli hold true almost sure pr uniformli z owe 612 fact sup ne ne 0 r k nd ne lemma 512 yield proposit 61 pr theorem 16 follow 7 conclud remark main pend question opinion provid altern construct stochast addit coalesc construct would complet parallel addit coalesc multipl coalesc given conclud remark 4 stochast multipl coalesc identi aldou 2 limit normal sequenc size connect compon random graph model also sequenc width excurs simpl stochast process easi corrolari theorem 41 14 15 joint law sequenc shape size width excurs e size given theorem 14 easi induct prove shape independ distribut e independ size argument proof theorem say cluster fragment process b start anew fragment process distribut given cluster size x rise follow question also properti standard addit coalesc charasterist properti standard addit coalesc addit properti eventu need character standard addit coalesc scale factor x easili understood time chang less clear howev explain asymptot properti park scheme time unit discret fragment process associ park n car n place departur p car due law larg number one time unit given block car size xn lose approxim x x xn car mean intern clock block p acknowledg start point paper talk philipp flajolet meet alea februari 1998 asnel concern paper viola poblet discuss philipp author small cafe french riviera smai meet septemb 1998 discuss rst author marc yor also uwe rossler quit fruit thank philipp laurencot call attent work aldou pitman evan coalesc model paper perman pitman yor random probabl measur poissondirichlet process also great help r continuum random tree critic random graph multipl coalesc exchang relat topic standard addit coalesc probabilist method fragment process connect brownian motion frequenc number contain prime factor certain rel magnitud analysi linear probe hash map acycl birth giant compo nent art comput program linear probe graph order statist jump normalis subordin exchang partial exchang random partit random discret distribut invari sizebias permuta tion polytop relat empir distribu tion twoparamet poissondirichlet distribut deriv stabl subordin probabl largest search time grow logarithm number record converg stochast process ballot tree order cycl length random permut empir process applic stati tic enumer problem mathemat essay honor giancarlo rota b relat brownian bridg brownian excurs tr linear probe probabl largest search time grow logarithm number record first cycl evolv graph art comput program volum 3 ctr philipp chassa guy louchard reflect brownian bridg area condit local time origin journal algorithm v44 n1 p2951 juli 2002 svant janson individu displac linear probe hash differ insert polici acm transact algorithm talg v1 n2 p177213 octob 2005 jean bertoin random cover interv variat kingman coalesc random structur algorithm v25 n3 p277292 octob 2004