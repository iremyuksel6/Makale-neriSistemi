build regress cost model multidatabas system major challeng perform global queri optim multidatabas system mdb lack cost model local databas system global level paper present statist procedur base multipl regress analysi build cost model local databas system mdb explanatori variabl includ regress model identifi mix forward backward method select signific explanatori variabl present measur develop use regress cost model remov outlier elimin multicollinear valid regress model assumpt check signific regress model discuss experiment result demonstr present statist procedur develop use local cost model mdb b introduct multidatabas system mdb integr inform preexist local databas manag heterogen databas system db acl db2 empress key featur mdb local autonomi local databas retain manag data serv exist ap plicat mdb interact local db extern user interfac user issu global queri mdb retriev data sever local databas user need know data store result obtain effici process research support ibm toronto laboratori natur scienc engin research council nserc canada current address microsoft corpor one microsoft way redmond wa 980526399 palarsonmicrosoftcom global queri task global queri optim number new challeng queri optim mdb caus primarili local autonomi among challeng crucial one local inform need global queri optim izat local cost formula model typic avail global level perform global queri optim method deriv approxim cost model autonom local db requir issu attract number research centli 3 du et al propos calibr method deduc necessari local cost paramet idea construct special local synthet calibr databas run set special queri databas cost metric queri use deduc coeffici cost formula access method support underli local databas system 14 zhu larson present queri sampl method tackl issu idea method review 15 16 zhu larson propos fuzzi optim method solv problem idea build fuzzi cost model base expert knowledg experi local dbss perform queri optim base fuzzi cost model 6 13 lu discuss issu employingdynam adapt queri optim techniqu base inform avail run time mdb idea queri sampl method propos 14 follow first step group possibl queri local databas 1 homogen class cost queri class estim formula done classifi queri accord potenti access method exampl unari queri whose qualif least one conjunct assum local db mdb agent provid uniform relat interfac mdb global server henc local dbss view relat one index column tabl r put one class usual execut use index scan local db therefor follow perform pattern sever unari join queri 3 class ob tain second step queri sampl method draw sampl queri queri class mixtur judgment sampl simpl random sampl adopt step sampl queri perform relev local databas cost record cost use deriv cost formula queri queri class multipl regress coeffici cost formula local databas system kept multidatabas catalog retriev queri op timiz estim cost queri queri class queri belong need identifi first correspond cost formula use give estim cost queri although number sampl techniqu appli queri optim literatur 5 8 11 perform data sampl ie sampl data databas instead queri sampl ie sampl queri queri class queri sampl method overcom sever shortcom du et al calibr method 14 howev statist procedur deriv cost estim formula 14 oversimplifi paper improv statist procedur present formula automat determin base observ sampl cost explanatori variabl formula consid seri measur ensur use formula adopt rest paper organ follow section 2 review gener linear regress model relat terminolog section 3 identifi potenti explanatori variabl regress cost model section 4 discuss determin cost model queri class section 5 discuss measur use ensur develop cost model use section present experiment result section 7 summar conclus assum qualif convert conjunct normal form 3 select may may follow project call unari queri 2way join may may follow project call join queri unari join queri consid paper sinc common queri express sequenc queri multipl linear regress model multipl regress allow us establish statist relationship cost queri relev contribut explanatori variabl statist relationship use cost estim formula queri queri class explanatori variabl repres differ independ variabl allow exampl x respons depend variabl tend vari systemat way explanatori variabl xs systemat way statist linear relationship xs assum true applic multipl linear regress model defin denot valu jth explanatori variabl x j ith trial ith depend random variabl correspond denot random error regress coeffici follow assumpt usual made regress analysi unknown constant known valu 1 two uncorrel 2 expect valu everi 0 ie e varianc constant oe 2 3 everi normal distribut n sampl observ get valu appli method least squar find valu minim equat call fit regress equat given set valu xs 1 give fit valu b respons variabl use fit regress equat estim formula fit valu estim valu correspond given xs evalu good estim obtain use develop regress model varianc oe 2 error term usual estim point estim oe 2 given follow formula observ valu b correspond fit valu e squar root 2 ie call standard error estim indic accuraci estim smaller better estim formula use ith standard residu defin follow e plot standard residu fit valu valu explanatori variabl call residu plot addit anoth descript measur use judg good develop model coeffici multipl determin r 2 defin proport variabl respons variabl explain explanatori variabl xs larger r 2 better estim formula standard error estim measur absolut accuraci estim coeffici multipl determin measur rel strength linear relationship respons variabl explanatori variabl xs low standard error estim high coeffici multipl determin r 2 evid good regress model 3 explanatori variabl applic respons variabl repres queri cost explanatori variabl xs repres factor affect queri cost difficult see follow type factor usual affect cost queri 1 cardin operand tabl higher cardin operand tabl higher queri execut cost number io requir scan operand tabl index usual increas cardin tabl 2 cardin result tabl larg result tabl impli mani tupl need process buffer store transfer queri process henc larger result tabl higher correspond queri cost note cardin result tabl determin select queri factor henc consid select queri 3 size intermedi result join queri qualif contain one conjunct term refer one operand tabl call separ conjunct term use reduc relev operand tabl process perform smaller size intermedi tabl effici queri process would unari queri execut index scan method queri process view two stage first stage retriev tupl via index second stage check retriev tupl remain condit qualif number tupl retriev first stage consid size intermedi result unari queri 4 tupl length operand tabl factor affect data buffer transfer cost queri process howev factor usual import factor becom import tupl length tabl databas vari wide exampl multimedia data store tabl 5 tupl length result tabl similar factor factor affect data buffer transfer cost import first three type factor may becom import vari significantli one queri anoth compar factor 6 physic size ie number use disk block operand tabl result tabl although factor type obvious control factor type 1 2 4 5 may reflect addit inform percentag assign operand tabl result tabl combin effect previou factor 7 content system environ factor type includ content cpu io buffer data item server etc obvious factor affect perform queri howev difficult measur number concurr process memori resid set size rss process inform process could obtain reflect part content factor content factor usual omit exist cost model 8 characterist index index cluster ratio height number leav index tree number distinct valu index column tupl index key valu physic store gether index call cluster index highest index cluster ratio referenc index tupl index key valu scatter physic storag obviou effect perform queri properti index height index tree number distinct valu also affect perform queri variabl repres factor possibl explanatori variabl includ cost formula 4 regress cost model 41 variabl inclus principl gener explanatori variabl last section necessari cost model variabl may signific particular model variabl may avail global level mdb gener principl includ variabl cost model includ import variabl omit insignific unavail variabl among factor discuss section 3 first three type factor often import variabl repres usual includ cost model factor type 4 5 less import sinc varianc rel small repres variabl includ cost model signific variabl repres factor type 6 includ cost model domin includ variabl variabl repres last two type factor omit cost model usual avail global level mdb fact assum content factor consid environ approxim stabl assump tion content factor import cost model variabl repres characterist referenc index 4 possibl includ cost model avail signific appli variabl inclus principl develop cost model queri class discuss detail follow subsect let us first give notat variabl let ru operand tabl unari queri r j1 r j2 two operand tabl join queri nu n j1 n j2 cardin ru r j1 r j2 respect lu l j1 l j2 tupl length ru r j1 r j2 respect rlu rl j tupl length result tabl unari queri join queri respect let u j select unari queri join queri j2 select conjunct separ conjunct term r j1 r j2 respect u1 select conjunct term use scan operand tabl via index applic unari queri 42 regress model unari queri base inclus principl divid regress model unari queri class two part basic model essenti part regress model secondari part use improv model set v ub potenti explanatori variabl includ basic model contain variabl repres factor type 1 3 definit select cardin intermedi tabl result tabl unari queri respect therefor v g potenti explanatori variabl v ub chosen full basic model discuss later potenti variabl may insignific given queri class fore includ basic model local catalog inform presenc index column assum avail global level local implement inform index tree structur index cluster ratio avail basic model captur major perform behavior queri queri class fact basic model base exist cost model 4 10 dbm paramet interpret initi cost cost retriev tupl operand tabl cost index looup cost process result tupl respect tradit cost model paramet may split sever part eg b 1 may consist io cost cpu cost determin analyz implement detail employ access method howev mdb implement detail access method usual known global queri optim paramet therefor estim multipl regress base sampl queri instead analyt method improv basic model secondari explanatori variabl may includ model set vu potenti explanatori variabl secondari part model contain variabl repres factor type 4 6 real physic size operand tabl result tabl unari queri may known exactli mdb howev estim z rnu rlu respect 5 call z u rzu operand tabl length result tabl length respect ive therefor v g variabl avail could also includ vu potenti variabl v us ad 3 full regress model note queri class variabl might appear regress model anoth form ex ampl access method queri class sort operand tabl queri base column process term like n u log nu andor log nu could includ regress model let new variabl repres term new variabl may replac exist variabl addit secondari variabl v us regress model adjust accord avail inform relev access method 5 physic size operand tabl accur estim nu constant 1 reflect overhead page overhead free space sinc constant 1 2 appli sampl data omit estim physic size result tabl similar 43 regress model join queri similarli regress model join queri class consist basic model plu possibl secondari part set v jb potenti explanatori variabl basic model contain variabl repres factor type 1 3 definit rn n j2 j cardin result tabl join queri tn size intermedi tabl obtain perform conjunct separ conjunct term r ji size cartesian product intermedi tabl therefor v g potenti explanatori variabl v jb se lect full basic model similar unari queri class basic model base exist cost model dbm paramet interpret initi cost cost preprocess tupl first operand tabl cost preprocess tupl second operand tabl cost retriev tupl first intermedi tabl cost retriev tupl second intermedi tabl cost process tupl cartesian product two intermedi tabl cost process result tupl respect basic model may improv includ addit benefici variabl set v js potenti explanatori variabl secondari part model contain variabl repres factor type 4 6 similar unari queri physic size tabl estim tabl length word physic size first operand tabl second operand tabl result tabl estim variabl z therefor g use variabl avail could also includ v js potenti explanatori variabl v js ad 4 full regress model similar unari queri class variabl v jb v js may necessari join queri class procedur choos signific variabl model describ follow subsect addi tion addit variabl may includ variabl could includ anoth form 44 select variabl regress model determin variabl inclus regress model one approach evalu possibl subset model choos best one among accord criterion howev evalu possibl model may practic feasibl number variabl larg reduc amount comput two type select procedur propos 2 forward select procedur backward elimin procedur forward select procedur start model contain variabl ie constant term introduc explanatori variabl regress model one time backward elimin procedur start full model success drop one explanatori variabl time procedur need criterion select next explanatori variabl includ remov model condit stop procedur k variabl procedur involv evalu k contrast evalu 2 k model necessari examin possibl model select suitabl regress model queri class use mix forward backward procedur describ see figur 1 start full basic model backward elimin forward select start point secondari part figur 1 select variabl regress model basic model 3 4 queri class appli backward elimin procedur drop insignific term explanatori variabl model appli forward select procedur find addit signific explanatori variabl set vu v js secondari explanatori variabl queri class next explanatori variabl x remov basic model first backward stage one 1 smallest simpl correl coeffici 6 respons variabl 2 make reduc model ie model x remov smaller standard error estim origin model two standard error estim close instanc within 1 rel error next explanatori variabl satisfi 1 satisfi 2 explanatori variabl backward elimin procedur stop condit 1 choos variabl usual contribut least among variabl predict condit 2 guarante remov chosen variabl result improv model affect model littl remov variabl affect model littl reduc complex mainten overhead model next explanatori variabl x ad current model second forward stage one set secondari explanatori variabl b largest simpl correl coeffici respons variabl adjust effect current model ie largest simpl correl coeffici residu current model c make augment model ie model includ x smaller standard error estim current model two standard error estim close instanc greater 1 rel error next explanatori variabl satisfi b satisfi c explanatori variabl exist forward select procedur stop reason use condit c similar situat remov variabl particular variabl ad model unless improv standard error estim significantli order reduc complex model descript whole mix forward backward procedur given algorithm 41 select explanatori variabl regress model input set vb basic explanatori variabl set v secondari explanatori observ data sampl queri given queri class output regress model select explanatori variabl 1 begin 2 use observ data fit full basic model queri class 6 simpl correl coeffici two variabl indic degre linear relationship two variabl 3 calcul standard error estim 4 variabl x vb 5 calcul simpl correl coeffici x respons variabl 6 end 7 backward true 8 backward true vb 6 9 let x 0 explanatori variabl vb smallest simpl correl coeffici 11 use observ data fit reduc model x 0 remov 12 calcul standard error estim 0 reduc model 13 small 14 begin 15 set reduc model current model 17 end 18 els backward fals 19 end 20 forward true 21 22 x v 23 calcul simpl correl coeffici x residu current model 24 end 25 let x 0 variabl largest simpl correl coeffici 26 use observ data fit augment model x 0 ad 27 calcul standard error estim 0 augment model 28 small 29 begin 30 set augment model current model 31 33 end 34 els forward fals 35 end 36 return current model regress model 37 end sinc start basic model high possibl appropri model given queri class backward elimin forward select like stop soon initi therefor procedur like effici pure forward backward procedur howev worst case procedur still check potenti explanatori variabl pure forward backward procedur 5 measur ensur use model develop use regress model measur need taken analysi furthermor develop regress model verifi use improv may need model prove accept section base characterist cost model queri optim izat identifi appropri statist method appli ensur signific develop cost model 51 outlier outlier extrem observ residu plot outlier point lie far beyond scatter major point method least squar fit equat may pull disproportion toward outli observ sum squar deviat minim two possibl exist lier frequent outlier result mistak extran caus applic may caus abnorm situat system execut sampl queri case outlier discard sometim howev outlier may convey signific inform ex ampl applic outlier may indic underli dbm use special strategi process relev sampl queri differ one use queri sinc outlier repres extrem case object deriv cost estim formula good major queri queri class simpli discard outlier use remain observ deriv cost formula standard residu plot outlier usual four standard deviat zero 7 therefor observ whose residu exce certain amount standard deviat 4 consid outlier move residu queri observ use calcul base full basic model sinc model usual captur major behavior final model 52 multicollinear explanatori variabl highli correl among multicollinear among said exist presenc multicollinear gener inhibit abil obtain good fit tend affect predict new observa tion provid predict made within region observ howev estim regress coeffici tend larg sampl variabil iti make reason predict beyond region observ obtain precis inform true regress coeffici better avoid multicollinear among explanatori variabl method detect presenc multicollinear wide use mean varianc inflat factor factor measur much varianc estim regress coeffici inflat compar independ variabl linearli relat r 2 j coeffici total determin result explanatori variabl x j regress explanatori variabl varianc inflat factor x j defin clear x j strong linear relationship explanatori variabl r 2 j close 1 v x j larg avoid multicollinear use reciproc varianc inflat factor detect instanc explanatori variabl allow fit regress model excess high interdepend variabl explanatori variabl model specif set vb basic explanatori variabl use algorithm 41 form follow begin vb contain basic explanatori variabl highest simpl correl coeffici respons variabl variabl next highest simpl correl coeffici enter vb 1v x j small procedur continu possibl basic explanatori variabl consid sim ilarli algorithm 41 select addit benefici variabl v model variabl x j whose small skip 53 valid model assumpt usual three assumpt regress model 1 need check 1 uncorrel error term 2 equal varianc error term 3 normal distribut error term note depend random variabl satisfi assumpt error term sinc x ij 1 known valu gen eral regress analysi serious affect slight moder departur assumpt assumpt rank term serious failur assumpt hold seriou least seriou follow assumpt applic observ cost repeat execut sampl queri inher relationship observ cost repeat execut anoth sampl queri assumpt content factor system approxim stabl henc first assumpt satisfi good properti violat assumpt 1 seriou regress model howev varianc observ cost repeat execut sampl queri may increas level magnitud queri cost execut sampl queri longer time lar ger cost may suffer disturb system execut sampl queri shorter time thu assumpt 2 may violat regress model furthermor observ cost repeat execut sampl queri may follow normal distribut ie assumpt 3 may hold either observ cost usual skew right observ cost stay stabl level time becom larger time time disturb occur system sinc uncorrel assumpt rare violat applic check regress analysi program normal assumpt mani studi shown regress analysi robust 7 9 techniqu give usabl result even assumpt satisfi fact normal assumpt requir obtain point estim b assumpt requir construct confid interv hypothesistest decis rule ap plicat construct confid interv hypothesistest need normal assumpt f test discuss later like mani statist applic normal assumpt violat choos ignor violat thu normal assumpt check regress analysi program either assumpt equal varianc violat correct measur usual taken elimin reduc violat correct measur us first discuss test violat equal varianc assum regress model proper fit sampl observ sampl residu reflect assumpt error term therefor use sampl residu check sumption two way sampl residu use check assumpt residu plot statist test former sub jectiv latter object sinc tri develop program test assumpt 2 automat employ latter mention assumpt equal varianc violat applic varianc typic increas level respons variabl case absolut valu residu usual signific correl fit valu respons variabl simpl test correl two random variabl u w bivari distribut unknown use spearman rank correl coeffici 9 12 defin rank valu u w u w respect null altern hypothes follow valu u w uncorrel either tendenc larger valu u pair larger valu w tendenc smaller valu u pair larger valu w decis rule signific level ff r ae 1gammaff2 r ae ff2 conclud ha critic valu ae found 9 ha conclud absolut residu fit valu assumpt equal varianc violat assumpt equal varianc violat estim given correspond regress model maximum precis 2 sinc estim precis requir high queri optim violat assumpt toler certain degre howev assumpt equal varianc sever violat account taken fit model use tool remedi violat equal varianc assumpt method weight least squar idea provid differ weight 1 w weight ith observ valu b j minim lsw found least squar theori state weight w invers proport varianc oe 2 error term thu observ larg varianc receiv less weight anoth observ smaller varianc weight varianc error term tend equal unfortun one rare knowledg varianc estim weight fol low sampl data use obtain fit regress function residu ordinari least squar first case place small number group accord level fit valu varianc residu calcul group everi observ group receiv weight reciproc estim varianc group moreov use result weight least squar reestim weight obtain new weight least squar fit procedur continu substanti chang fit regress function take place mani iter occur latter case fit regress function smallest spearman rank correl coeffici chosen procedur call iter weight least squar procedur 54 test signific regress model mention previous evalu good develop regress model two descript measur use standard error estim coeffici multipl determin good regress model evidenc small standard error estim high coeffici multipl determin signific develop model test use f test 7 9 f test deriv normal assumpt howev evid nonnorm usual distort conclus serious 12 gener f test normal assumpt asymptot ie suffici larg sampl valid error term normal distribut 1 therefor f test adopt applic test signific regress model although error term may follow normal assumpt class characterist queri class like access method gu1 unari queri whose qualif least one conjunct r scan method index key valu gu2 unari queri gu1 whose qualif least one index scan method conjunct r c r index 2 f g rang gu3 unari queri gu1 gu2 sequenti scan method g j1 join queri whose qualif least one conjunct r method either r r j index g j2 join queri g j1 whose qualif least one nestedloop join method indexus conjunct one operand tabl index reduct first g j3 join queri g j1 g j2 sortmerg join method tabl 1 consid queri class 6 experi verifi feasibl present statist procedur experi conduct within multidatabas system prototyp call cord mdb three commerci dbmss ie oracl 70 empress 46 db26000 110 use local dbmss experi local dbmss run ibm rs6000 model 220 machin due limit paper length experiment result oracl 70 report paper experi system demonstr similar result experi conduct system environ content factor approxim stabl exampl perform midnight weekend littl interfer user system howev occasion interfer user still exist sinc system share resourc queri local databas system classifi accord queri sampl method consid queri class 7 given tabl 1 sampl queri drawn queri class perform three local databas system observ cost use deriv cost model relev queri class statist procedur introduc previou section tabl 2 3 show deriv cost model relev statist measur seen ffl cost model captur 90 variabl queri cost observ coeffici total determin except g u1 queri execut fast ie small cost queri due effici access method small result tabl ffl standard error estim cost model accept compar mag 7 equijoin queri consid nitud relev averag observ cost sampl queri ffl statist ftest signific level 001 show deriv cost model use estim cost queri relev queri class ffl statist hypothesi test spearman rank correl coeffici signific level show strong evid indic violat equal varianc assumpt deriv cost model use method weight least squar need ffl deriv 8 cost model requir method weight least squar impli error term origin regress model use regular least squar violat assumpt equal varianc case summari statist procedur deriv use cost model figur 2 show typic comparison observ cost estim cost test queri mention experiment result show smallcost queri often wors estim cost largecost queri observ coincid du et al observ calibr method reason phenomenon 1 cost model usual domin larg cost use deriv small cost may follow model differ buffer process strategi may use smallcost queri 2 small cost greatli affect content factor avail buffer space number current process 3 initi cost distribut data disk space factor may import largecost queri 8 unreport cost model local databas system experi requir method weight least squar queri class cost estim formula tabl 2 deriv cost formula queri class oracl 70 queri coeffici standard averag fstatist spearman rank weight multipl error cost critic valu correl critic least class determin estim sec valu tabl 3 statist measur cost formula oracl 70 could major impact cost smallcost tabl cardin cost elaps time solid line estim cost dot line observ cost figur 2 observ estim cost test queri g j3 oracl sinc caus problem usual uncontrol relat implement detail underli local databas system hard complet solv problem global level mdb howev problem could mitig refin queri classif accord size result tabl andor b perform sampl queri multipl time use averag observ cost deriv cost model andor c includ cost model explanatori variabl avail buffer size distribut data disk space fortun estim cost smallcost queri import estim cost larg cost queri queri optim import identifi largecost queri bad execut plan could avoid 7 conclus today organ increas requir tool support global access inform store distribut heterogen autonom data repositori multidatabas system tool integr inform multipl preexist local databas process global queri effici mdb global queri optim requir major challeng perform global queri optim mdb desir local cost inform may avail global level know effici local queri execut difficult global queri optim choos good decomposit given global queri tackl challeng feasibl statist procedur deriv local cost model local databas system present paper local queri group homogen class cost model develop queri class develop cost model base multipl regress analysi cost model divid two part basic model secondari part basic model base exist cost model dbmss use captur major perform behavior queri secondari part use improv basic model potenti explanatori variabl includ part cost model identifi backward procedur use elimin insignific variabl basic model cost model forward procedur use add signific variabl secondari part cost model mix forward backward procedur select proper variabl cost model effici regress analysi outlier remov sampl data multicollinear discov use varianc inflat factor prevent exclud variabl larger varianc inflat factor violat equal varianc assumpt detect use spearman rank correl coeffici remedi use iter weight least squar procedur signific cost model check standard error estim coeffici multipl determin ftest measur ensur develop cost model use experiment result demonstr present statist procedur build use cost model local databas system mdb present procedur introduc promis method estim local cost paramet mdb distribut inform system plan investig feasibl method nonrel local databas system mdb futur r theori linear model multivari analysi regress analysi exampl queri optim heterogen dbm queri optim databas system practic select estim adapt sampl global multidatabas queri optim appli linear statist model simpl random sampl relat databas statist method busi econom access path select relat databas manag system accur estim number tupl satisfi condit statist method queri optim multidatabas system tr ctr wei ru liu zhi ning liao jun hong queri cost estim remot system content state analysi internet web intellig agent system v2 n4 p279291 decemb 2004 qiang zhu satyanarayana motheramgari yu sun cost estim queri experienc multipl content state dynam multidatabas environ knowledg inform system v5 n1 p2649 march ying chen qiang zhu nengbin wang queri process qualiti control world wide web world wide web v1 n4 p241255 1998 amira rahal qiang zhu perk larson evolutionari techniqu updat queri cost model dynam multidatabas environ vldb journal intern journal larg data base v13 n2 p162176 may 2004 ning zhang peter j haa vanja josifovski guy lohman chun zhang statist learn techniqu cost xml queri proceed 31st intern confer larg data base august 30septemb 02 2005 trondheim norway zaiq nie subbarao kambhampati ulla nambiar effect mine use coverag overlap statist data integr ieee transact knowledg data engin v17 n5 p638651 may 2005 piyush shivam shivnath babu jeff chase activ acceler learn cost model optim scientif applic proceed 32nd intern confer larg data base septemb 1215 2006 seoul korea qiang zhu jaidev harida wenchi hou queri optim via content space partit cost error control dynam multidatabas system distribut parallel databas v23 n2 p151188 april 2008 subbarao kambhampati eric lambrecht ulla nambiar zaiq nie gnanaprakasam senthil optim recurs inform gather plan emerac journal intellig inform system v22 n2 p119153 march 2004