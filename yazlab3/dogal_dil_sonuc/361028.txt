optim static calendar queue calendar queue import implement prioriti queue particularli use discret event simul investig perform static calendar queue maintain n activ event main contribut articl prove reason assumpt proper paramet set calendar queue data structur constant independ n expect time per event process simpl formula deriv approxim expect time per event formula use set paramet calendar queue achiev optim near optim perform addit techniqu given calibr specif calendar queue implement formula appli practic set b introduct calendar queue data structur describ brown brown 1988 import implement prioriti queue use event queue discret event simul time discret event simul activ event event e associ event time te intend occur simul time set event store prioriti queue order associ event time basic simul step consist nding event e 0 smallest te 0 remov event prioriti queue process result process new event may gener paramet n vari zero one new event gener new event e event time te te 0 must insert prioriti queue accordingli calendar queue event store bucket bucket contain event whose time close event smallest time bucket access quickli simul newli gener event quickli put bucket event one bucket consum next bucket consid detail algorithm given later calendar queue sever user control paramet bucket width number bucket aect perform brown brown 1988 provid empir evid calendar queue paramet properli set achiev expect constant time per event process goal paper prove constant time per event calendar queue behavior reason model new event e quantiti te te 0 nonneg random variabl sampl distribut gener number activ event may vari time import case static case aris n constant case simul parallel comput case event correspond either execut segment code idl period one processor thu processor exactli n activ event prioriti queue paper focu static calendar queue even brown paper brown 1988 calendar queue use discret event simul number event larg mani situat calendar queue signicantli outperform tradit prioriti queue data structur brown 1978 francon et al 1978 knuth 1973 sleator tarjan 1985 sleator tarjan 1986 vuillemin 1978 interest new develop employ calendar queue like data structur part queu mechan highspe network switch router rexford et al 1997 case calendar queue like data structur implement hardwar 11 organ section 2 dene calendar queue data structur paramet govern perform section 3 present markov chain model calendar queue perform section 4 present express describ perform calendar queue innit bucket case bucket width chosen approxim minim expect time per event constant section 5 describ choos number bucket without optim static calendar queue 3 signicantli compromis perform innit bucket calendar queue section 6 develop techniqu calibr calendar queue implement demonstr eectiv techniqu section 7 present conclus appendix contain longer technic proof 2 calendar queue calendar queue bucket number 0 1 current bucket 0 bucket width current time 0 relationship event e calendar queue te 0 event e locat bucket te mod 1 analog calendar state day year durat today 0 start absolut time 0 event found calendar day occur regardless year exampl choos 30 8 event time 31 54 85 98 111 128 138 251 111 128 31 54 85 98 exampl next event process time 31 current bucket number 3 suppos delet new event gener time 87 new event place bucket 8 next event time 85 sinc process current bucket cycl around bucket thu 0 increas next bucket examin bucket 4 happen empti thu process bucket done cyclic order event e current cycl 0 te process calendar queue implement array list current bucket index array bucket width current time either integ xedpoint oatingpoint number bucket implement number way typic unord link list order link list former case insert bucket take constant time delet minimum bucket take time proport number event bucket latter case insert may take time proport number event bucket delet minimum take constant time choic algorithm manag individu bucket call bucket disciplin paper focu unord list bucket disciplin 21 calendar queue perform calendar queue perform measur interest expect time per event time delet event minimum time insert gener new event two key user control paramet implement calendar queue eect perform name bucket width number bucket choic best depend number event n process te chosen newli gener event e assum larg innit chosen 4 kb erickson ladner lamarca n number event known paramet mean jump known estim paramet time per empti bucket hidden paramet determin calibr time per list entri hidden paramet determin calibr xed time per event hidden paramet determin calibr bucket width user control paramet number bucket user control paramet tabl 1 paramet calendar queue larg current bucket tend mani event ineci hand chosen small mani empti bucket travers reach nonempti bucket ineci regardless choic chosen small current bucket tend mani event process later visit bucket order analyz calendar queue make simplifi assumpt process te chosen new event e main assumpt make quantiti te te 0 call jump random variabl sampl distribut mean e 0 event minimum time te 0 fulli delin simplifi assumpt later choic good certainli depend n grow n grow decreas determin exactli chang function n achiev optim perform goal paper assum innit mani bucket addit two paramet n choic good also depend three hidden implement paramet b c b increment time process empti bucket c increment time travers member list search minimum list xed time process event empti bucket visit reach bucket n event n 1 time process event dene kn stationari expect valu bm kn expect time per event innit bucket calendar queue real implement calendar queue number bucket nite case may happen event bucket time within current time process much later dene k expect time per event bucket calendar queue gener n kn extra time may spent travers event bucket process later anoth goal paper determin choos k n slightli larger kn tabl 1 summar variou paramet aect perform calendar queue optim static calendar queue 551525 time per event bucket width fig 1 graph bucket width vs expect time per event kn simul innit bucket calendar queue 100 event exponenti jump mean 1 time per event number bucket fig 2 graph number bucket vs expect time per event k n chosen optim bucket simul calendar queue 1000 event exponenti jump mean 1 figur 1 illustr exist optim minim expect time per event figur 2 illustr eect select expect time per event graph figur gener simul calendar queue exponenti jump mean 1 taken suitabl long warmup period long enough period averag time per event stabl simul figur 1 use innit number bucket 100 event simul figur 2 use optim bucket width innit bucket calendar queue vari number bucket choos 3 000 perform curv almost approach perform innit mani bucket 6 kb erickson ladner lamarca 3 model calendar queue perform model calendar queue perform begin specifi properti random variabl event current minim time e newli gener event assum random variabl densiti f dene 0 1 nonneg real call f jump densiti random variabl simpli jump success jump assum mutual independ ident distribut let mean jump z 1f1 f zg dz 1 f distribut function f r xfz dz call f jump distribut dene support jump distribut valu 1 exclud technic assumpt f f order facilit proof make sever technic assumpt f f forc throughout except note j1 densiti fx 0 x interv 0 j2 mean nite j3 0 0 c 0 f x c 0 x x 0 assumpt j2 crucial guarante exist nontrivi steadi state note j3 hold densiti f bound neighborhood 0 31 markov chain model innit bucket calendar queue markov chain b x state space 0 1 n denot state chain time state x 1 repres posit rel begin current bucket n event index 1 n calendar queue step step calendar queue consist examin current bucket either move next bucket current bucket empti remov event smallest time current bucket insert new event index accord jump distribut accordingli transit b follow let index x independ nonneg random variabl assum random variabl 0 probabl densiti f paramet xed nonneg real number think x posit ith particl n particl system particl interv 0 particl move closer origin otherwis particl closest origin interv 0 jump random optim static calendar queue 7 distanc current posit particl remain stationari thu particl markov chain b x repres event innit bucket calendar queue posit particl correspond event e quantiti interv 0 correspond current activ bucket innit bucket calendar queue import note step markov chain b x correspond process event calendar queue process event calendar queue correspond number step markov chain interv 0 empti follow one step interv 0 nonempti limit probabl goe inniti interv 0 exactli particl technic q function n drop n simplifi notat quantiti q 0 probabl interv 0 empti obviou q exist 0 n prove follow lemma appendix lemma 31 jump densiti properti j1 j2 j3 limit probabl exist independ initi state b x let us also dene en limit expect number particl interv 0 4 expect time per event infinit bucket case expect time process event innit bucket calendar queue close relat function en see follow lemma lemma 41 expect time per event innit bucket calendar queue proof markov chain b x model calendar queue thu q 0 portion bucket visit empti j 0 q j portion bucket visit j event empti bucket visit happen probabl cost b result nding event process bucket visit j 0 event happen probabl q j cost cj result nding event process thu expect cost per event calendar queue yield equat 3 use equat 2 8 kb erickson ladner lamarca let us dene follow import quantiti z 1 f x dx 4 second part equat 1 impli 0 p 1 note also 1 f p order deriv good approxim formula kn rst need nd good bound quantiti q 0 n follow technic lemma prove appendix section b provid bound lemma 42 n 2 0 bj tail binomi distribut n trial success paramet p simpl exact formula q 0 interest possibl write complic integr give exact express q j highli unwieldi proof inform cf erickson 1999 also interest note assumpt j1 requir probabl densiti f posit support remov proof theorem becom even longer without j1 densiti f properti constant c 0 exact express q j j 1 lemma 42 yield follow upper lower bound kn lemma 43 n 2 0 kn b proof 5 6 n standard binomi distribut n trial success paramet p sinc bi mean np optim static calendar queue 9 second moment np 2 np1 p sum part deriv upon substitut equat 3 littl rearrang yield left side 8 similarli one deriv right side 8 rang give good calendar queue perform case bound 8 give us wonder simpl accur approxim formula kn theorem 41 expect time per event innit bucket calendar queue bucket width fact number 1 2 xed 0 1 term bound 2 n uniformli 0 n proof theorem almost immedi consequ 3 5 also postpon appendix section c interestingli expect time depend mean jump shape probabl densiti note one immedi consequ theorem 41 bucket width chosen n xed interv innit bucket calendar queue constant expect time per event perform inde formula optim perform calendar queue deriv seen follow theorem theorem 42 expect time per event kn achiev global minimum interv 0 1 opt r c kn opt 2bc n 1 proof theorem appendix section theorem 42 show optim choic depend ratio b c mean jump n 5 choos number bucket found select approxim minim expect time per event innit bucket calendar queue next goal select number bucket bucket calendar queue similar perform innit bucket calendar queue case jump distribut nite support 1 natur choic guarante calendar queue bucket lamarca exactli perform innit bucket calendar queue 1 guarante long run event e current bucket case eventu event current bucket process current visit bucket postpon futur visit bucket case support jump distribut either innit nite larg practic necessari choos number give perform less innit bucket calendar queue 51 expect time per event nite bucket case markov chain b x use analyz case let l n steadi state expect number particl set term bucket calendar queue event e te 0 2 event current bucket process occurr event caus bucket calendar queue run less ecient innit bucket calendar queue follow lemma quanti dierenc perform nite innit bucket calendar queue lemma 51 expect time per event bucket calendar queue bucket width proof markov chain b x let q ij limit probabl particl interv 0 j particl probabl q ij shown exist way probabl q lemma 31 use corollari a1 appendix section bucket calendar queue cost visit bucket event whose time interv j event whose time set thu expect cost per event k equat 5 lemma 42 use equat 3 proof lemma 41 deriv equat k appendix section e indic deriv follow rather horribl look bound l lemma 52 function l n bound optim static calendar queue 11 bound n p f mean see equat 4 z jm 1 f x dx f jm f jm note hypothesi 1 j2 seri converg given bound term howev use bound state lemma deriv use asymptot express l lemma proven appendix section f lemma 53 constant 1 f jxr 1 52 degrad perform due finit mani bucket degrad perform choos bucket instead innit mani bucket choos optim lemma 53 theorem 42 yield follow asymptot express theorem 51 mn constant c 1 f jm 12 follow asymptot bound impli theorem 51 theorem 52 mn constant c r c 12 kb erickson ladner lamarca proof theorem 51 suce show see let k 2 z 1xfxdx z jdd x fxdx nite impli x1 f x 0 x 1 therefor let k 1 get equat 13 show xed 0 like 01 chosen word one alway choos number bucket multipl n still obtain perform almost good innit bucket case interest case exponenti jump densiti calcul seri equat 12 exactli e c let us suppos optim equal 2n allow us solv equat 14 mn given accept exampl choos approxim 192 mn approxim 302 figur 3 illustr asymptot equat provid excel choic wide rang n use simul calendar queue plot wide rang n valu 302 measur taken suitabl long warmup period long enough period averag time per event stabl plot rel near asymptot valu 05 respect thu equat 14 seem quit accur bound theorem 52 necessarili tight crude approxim integr exampl choos formula 13 requir mn least optim static calendar queue 13003007100 1000 degred fig 3 graph n vs degrad simul 6 calibr calendar queue implement actual calendar queue implement would like nd best bucket width number bucket preced theori tell us know hidden implement paramet b c section give rel simpl method estim paramet simpli time execut simul variou valu proport n key method equat 9 expect time per event write kn linear function unknown b c gener calibr method follow rst estim larg enough degrad use bucket innit mani small second nd k n number dierent time execut implement third use linear least squar approxim nd b c best ts function illustr method exampl develop calendar queue implement c ran dec alphast 250 chose exponenti jump mean 10 000 examin code felt b time process empti bucket consider larger c cost travers list entri made educ guess optim certainli greater 5 chose larger small chanc event current bucket process time larg time calendar queue 20 valu rang sever order magnitud name use data use linear least squar approxim comput use equat 15 figur 4 show curv equat 15 use paramet figur also show time per event 200 thu method accur predict data point use linear least squar approxim interest note use valu b c equat 10 11 obtain opt 615 k opt 175638 contrast best among 40 execut 14 kb erickson ladner lamarca execut time 1754921800220026003000 time per event bucket width measur predict fig 4 measur predict expect time per event calibr implement calendar queue care must taken appli calibr method method hidden paramet b c measur indirectli measur expect time per event xed n expect time per event vari dierent run interrupt process page fault ef fect howev experiment set care control environ run time vari littl xed paramet set addit measur taken suitabl long warmup period long enough period averag time per event stabl real comput environ control calibr method might yield good result ideal use xed n larg enough estim hidden paramet b c could use n larg enough howev cach behavior modern processor valu b c actual constant independ n properti jump distribut mean exampl smaller might achiev fewer cach miss reduc run time therebi eectiv lower valu constant may appli calibr method chosen larg origin chosen far larger necessari case might wise choos smaller recalibr calendar queue start larger real applic calendar queue unlik jump mutual independ ident distribut random variabl describ model nonetheless mean jump empir estim calibr done equat 10 optim appli nd potenti good optim static calendar queue 15 7 conclus shown express expect time process event innit bucket calendar queue bucket width chosen optim bucket width near optim bucket width calendar queue expect constant time per event optim bucket width depend paramet increment time process empti bucket b increment time travers list item c mean jump number event n shown number bucket chosen achiev minim almost minim expect time per event final shown implement paramet determin use approxim base method linear least squar although calendar queue run fast certain applic disadvantag perform depend choic paramet interest problem would design prioriti queue base calendar queue automat determin good choic believ calibr method describ paper might give insight design dynam calendar queue n andor vari time section appendix set notat concept use throughout appendix invari distribut posit limit consid markov chain b describ section 3 symbol p shall denot probabl measur induc trajectori space chain b x initi distribut p b x shall denot trajectori space probabl chain start point b x note p r p b x db x integr carri entir state space integr better known expect respect p p b x denot e e b x respect stand set point b let b x state space measur subset onestep transit probabl p chain move b x point given b z 11a b x standard th unit coordin vector 1a b x function 1 b x 0 otherwis 3 3 actual 16 dene proper transit probabl point inde b x point two coordin equal strictli less b x lie 0 b henc p b x subset howev jump distribut f densiti atom discret point posit probabl dynam descript chain section 3 impli two point start posit lamarca let set 0 follow 16 b c word absorb set chain moreov dynam descript chain impli particl start outsid reach nite possibl random number step one show use method proof b3 number step requir eventu enter nite expect thu c transient chain cours measur invari measur chain nite everi measur subset state space z b x amfdb xg 17 markov chain call harri recurr chain simpli harri chain exist uniqu posit multipl invari measur borel subset 0 p b x b x state space initi io stand innit often harri chain invari probabl measur necessarili uniqu call posit state space harri chain written disjoint union 6 set c known recurr cyclic class integ nite 1 chain call aperiod theorem a1 jump densiti satis j1 j2 j3 markov chain b x tp 16 posit aperiod recurr harri chain invari probabl concentr corollari a1 bound measur function initi distribut lim z b x dmb x p 18 note leftmost term limit averag random quantiti assert limit exist p probabl 1 equal nonrandom quantiti right unbound integr respect chain harri posit limit relat remain valid least case point mass b x proof corollari a1 determinist limit statement corollari a1 immedi consequ proposit 25 ch6 x2 revuz 1984 eventu becom remain separ w p 1 inde occur soon one jump right thu harm banish point state space initi understand p inde transit probabl state space optim static calendar queue 17 limitofaverag assert consequ ergod theorem harri chain see theorem 43 companion remark revuz 1984 ch 4 x4 remark main signic aperiod justi exist limit e b x f b occur 18 exist limit averag requir aperiod proof lemma 31 let exactli j compon b x lie 0 g number particl interv 0 time 18 follow immedi q g proof theorem a1 postpon last appendix lengthi somewhat tediou interest featur b proof lemma 42 b1 comput q section prove 5 lemma 42 set b dene last section disjoint union complement 0 sinc assign 0 mass 0 1 n c let bound posit function state space equat 17 analogu function read r b xmfdb r mfdb xg r b yp b x db note r r b yp b x db r a0 b x b 1mfdb xg 16 littl rearrang get z b x b 1 b x z mfdb xg b x z b yp b x db fix let b complex number nonneg real part b x b z b yp b x db r 1e z fz dz laplac transform f also b x b j z b yp b x db th term right side 20 vanish becom 1 z lamarca simplic lefthand side 20 lead z z divid 21 make 0 result mfa 0 g 0 0mfb equat 5 follow immedi 19 b2 case observ success posit singl one n particl time actual move get 1dimension version n dimension chain descript chain term independ random variabl one conclud sequenc fx markov chain line ii n markov chain mutual independ one nd increas sequenc time fs k g k common valu everi one u k number r k necessarili mutual independ compon sequenc let k 0 let time success random time interv 0 empti particl zt k obtain ad determinist constant compon b follow compon b also mutual independ easi show chain induc 0 trace chain sequenc f b also markov chain see revuz 1984 exercis 313 page 27 import point note special structur b x impli chain fx k k 0g coincid law trace chain 1 x least intuit clear trace chain posit recurr invari probabl distribut 0 say obtain renorm distribut restrict 0 see revuz 1984 ex 313 p 27 prop 29 p 93 formal proof thu subset b trace chain also independ compon follow 0 product measur built invari distribut compon chain compon chain ident tp factor let us call common factor distribut 10 comput concentr 1 may use comput limit k 1 optim static calendar queue 19 probabl nding exactli j particl interv 0 time 1 clear limit distribut zs k binomi distribut correspond n bernoulli trial paramet howev limit distribut zt tend inniti without restrict binomi invari distribut let us call 1 rather case basic chain calcul explicitli 10 obtain special case 22 measur 1 turn uniform 0 coincid translat stationari distribut renew process interarriv distribut f stationari distribut densiti equal normal tailsum 1 f see feller 1971 xi4 one give queu theori argument descript 1 sinc equat 21 lead result almost immedi use equat give quick proof case equat 21 simpli valid complex number 0 set arbitrari integ nd lefthand side vanish densiti assumpt impli 6 1 6 0 henc result theori fourier seri impli must dm 1 constant c 5 case laplac transform 1 1 get z e x invert laplac transform equat reveal densiti g 1 1 1 x given g 1 22 clear 10 densiti upshot preced conclud limit distribut zs k lim wp1 x remark follow work last two section measur restrict 0 product measur restrict 0 coincid howev mmeasur subset 0 particular interest mmeasur j dene proof lemma 31 requir set contain complement 0 restrict complement 0 product measur 20 kb erickson ladner lamarca b3 estim q j apart explicit represent 0 discuss last section simpl express 0 1 n n 1 avail mean one except case f 0 simpl explicit formula valu q must resort approxim turn howev approxim formula quit amen analysi particularli region interest section nish proof two inequ 6 henceforth design lh6 left side rh6 right simplifi notat littl start distribut omit forgotten essenti proof introduc object j b j variabl 0 dier n 1 k zero z therefor ergod limit theori b lim henc sn sn sn sn sequenc random variabl fv k g k 1 v shall total number time interv count variabl zt valu j j b occurr event v k r impli zs k 1 least r jump count rst time k 1 magnitud smaller henc optim static calendar queue 21 therefor assum f 1 inde moment efv k g nite inequ 23 ergod limit theori yield lim lim rh6 lh6 note rst henc see 25 23 lim n lh6 c proof theorem 41 purpos proof let us write conclus theorem 41 equival assert kn x c x uniformli bound xinterv base proof 8 state c x dn kn b x new notat fix number 0 conn x interv 0 0 n let 0 c 0 number introduc assumpt j3 section 3 keep n maxf2c 0 get 22 kb erickson ladner lamarca also dn 1n 2 n henc x c x dn littl algebra easili seen nish proof 28 suce nd number c 2 depend np n x x x number c 1 multipli c c 2 yield estim 1 2 mention theorem 41 proof theorem 42 throughout section write bc moreov harm also suppos step 1 function kn continu 0 1 reader ask turn formula 3 begin variabl q 0 n obvious continu possibl discontinu term formula kn en howev continu function immedi consequ follow exact formula discuss proof theorem complet lemma d1 step 2 function 7 en nondecreas one prove dierenti express e lemma d1 check result nonneg optim static calendar queue 23 outlin altern intuit proof consid two chain b n jump densiti dierent bucket follow trajectori individu particl chain nd averag chain larger bucket size 2 particl get back interv 0 2 quicker would get back interv 0 chain smaller bucket size 1 sinc typic particl chain often interv 0 2 0 1 chain b averag number particl 0 2 b 2 least larg averag number particl 0 1 b step 3 next establish lim uniformli xed 1 0 explicit formula q 0 yield nondecreas function equat 3 step 2 nd function 1 q 0 kn q 0 b also nondecreas henc b 1 inequ 1 2 n 1 inequ follow kn goe inniti uniformli interv xed 1 0 follow equat 8 step 4 2a min 0 moreov 1 minim interv dene prove let straightforward calculu n hn global minimum 0 1 point let opt valu give minimum valu kn given interv 0 n theorem 41 interv nd constant c depend n sucient larg uniformli 0 n sinc interv 0 n interv kn thu sandwich two convex function hn cn global minimum point interior interv xed n opt must two solut equat hn simpl calcul one nd dierenc lamarca two solut 32 yield two solut one nd kn step 5 next step show 0 n n 1 kn thu minimum exhibit step 4 extend xed interv 0 1 fact step 3 impli n sucient larg min complet proof theorem moment x 1 0 f 1 1 choos 1 later inequ 8 fact p1 f 1 kn cq az dene ln n horizont line height k cut graph convex function ln two point larger call z n thu z n larger root equat sequenc n valu z n converg bound posit limit dene n qn henc sequenc n also converg limit note tend 2a q approach 1 choos 1 henc q choos n 1 sinc minimum kn bound k bound function ln qn minimum kn interv 0 must alreadi lie interv 0 n henc interv 0 d1 discuss exact formula en proof result quit long base exact though complic integr formula q j see erickson 1999 detail exact formula en lead exact formula kn work led us conclus excel asymptot formula theorem 41 42 simpl inequ lemma 42 lead much greater practic use certainli easier prove reason includ long proof exact formula main use lemma d1 shorten proof slightli global minim kn note d1 yield immedi continu kn function one requir continu order speak sensibl exist minim even without continu howev basic result theorem 42 essenti correct languag use express need chang one must use term greatest lower bound place minimum one assert point greatest lower bound approxim attain optim static calendar queue 25 write l n z number particl set time subset 1 success time interv 0 empti particl henc st z z wp1 suppos time k 1 particl posit x 1 2 r particl 0 posit x accord ith particl land nalli remov interv 0 remov must occur write strong markov properti f eld random variabl k h b probabl particl start origin land interv rst jump h satis u renew measur see feller 1971 page 369 4 gener uz uf0 zg 1 f z 1 distribut 0 1 sup f jm x z f jm x z ufdzg recal denit 2 statement theorem 52 call righthand side p note condit eld f variabl u 4 feller dene h term open interv 1 wherea use close interv f atom dierenc denit consequ 26 kb erickson ladner lamarca independ k z z r 1 f 1 z z fg mean z fg j k time ft j g particl independ limit joint distribut z trinomi separ binomi limit distribut let k 1 get efz 2 z p dene 4 go back 32 calcul obtain z z 2 recal basic properti condit expect efe j f replac p 2 1 f q 0 n combin fraction drop factor 1 f occur numer nalli obtain upper bound l n lower bound evalu lower bound l n f proof lemma 53 follow let lim lim sup lim inf stand limit variou quantiti n 1 variabl constrain vari state hypothesi first let us note lim f jrx note j vari n sucient larg n small interv ft j j g 1 nonoverlap n jn1 jn henc continu f atom letter f stand distribut function induc probabl measur customari limit optim static calendar queue 27 next 1 f jrx rst sum left goe follow 1 f jrx use limit upper bound l n get lim sup l 1 f jrx similarli lower bound l mun 1 f jrx thu lim sup l limit l exist valu state g proof theorem a1 seen k 1 given initi posit n compon mutual independ random variabl also hard see condit distribut x distribut residu wait time epoch delay renew process start epoch x interarriv distribut f see feller 1971 page 369 erickson 1999 alreadi seen distribut proof lemma 52 section e though describ slightli dierent languag let h fig denot probabl residu wait time epoch lie pure renew process start 0 h f0 e follow xed x 0 everi integ k x borel 0 use markov properti follow xed b borel set 0 28 kb erickson ladner lamarca u denot renew measur assumpt impli u absolut continu part possess strictli posit densiti 0 1 see feller 1971 page 369 consequ measur 7 h k x fig also absolut continu part strictli posit 0 conclus one may draw preced f b xs k g irreduc respect measur n lebesgu measur r n restrict 0 n see revuz 1984 ch 3 x2 impli trace chain f b xt k g also n irreduc state space 0 togeth two assert impli full chain b also draw addit use conclus 34 35 stone decomposit theorem revuz 1984 ch 5 x5 write nite measur u 1 absolut continu bound continu densiti u lim x1 1 borel 0 1 henc domin converg lim z 1 f x dx product formula 34 yield borel set 0 1 n lim 0 product measur f 0 f 0 f 0 f 0 probabl distribut 0 densiti f1 f xg 36 give us one limit theorem use earlier impli subchain b b harri recurr invari probabl translat b impli probabl 1 b innit mani time k whatev initi posit b obtain b ad compon previou assert also correct b respect invari probabl see revuz 1984 ch 2 x3 consid full chain b g n 0 preced make clear b hit posit probabl impli b x n irreduc accord revuz 1984 ch 2 theorem 23 25 denit 26 either b x harri chain uniqu constant multipl invari measur els potenti kernel proper potenti kernel k dene kb x ag k proper written increas sequenc subset dn bound potenti eventu set must posit lebesgu measur case optim static calendar queue 29 34 impli p b x f b innit mani posit x kb x dn 1 impli expect total number hit dn nite impli number hit must nite probabl 1 thu proper potenti kernel therefor b x must harri chain consid next aperiod issu seek contradict let us suppos x period let fc g recurr cyclic class decomposit state space subset posit lebesgu measur without loss gener may suppos mfc 1 g 0 smallest k b stop time nite account doubli index sequenc independ random variabl distribut f earliest possibl epoch b arriv one particl move particular step integ r 1 borel rectangl 0 account hypothes j1 distribut f convolut f r put posit mass everi subinterv 0 henc righthand side 37 strictli posit whenev cylind set posit lebesgu measur standard measur theori impli also correct borel set posit measur probabl 1 time b x belong c 1 c 1 chain period wp1 futur epoch form nd chain alway found c 1 also 1 time mod chain must belong set c 1kd disjoint class includ c 1 37 n r n right hand side strictli posit choos 37 set c k n posit measur let r take dierent mod valu get contradict previou assert belong disjoint set contradict x aperiod remain show invari measur uniqu constant multi ple full chain b nite 1 trace chain f b xtk g posit recurr invari probabl 0 0 also multipl restrict 0 henc follow renew theorem mean return time 0 also nite let 0 bound measur function 0 0 henc summabl lim z b xdm 0 b x 0 denot number visit 0 full chain 0 lamarca ih chain b null innit mass bound msummabl function revuz 1984 theorem 26 page 198 0 fatou lemma one readili see would contradict 38 acknowledg would like thank two refere editor mani valuabl suggest improv paper r implement analysi binomi queue algorithm calendar queue fast o1 prioriti queue implement simul event set problem calendar queue expect introduct probabl theori applic descript analysi efcient art comput program markov chain scalabl architectur integr trac shape link schedul highspe atm switch data structur manipul prioriti queue tr selfadjust binari search tree adjust heap calendar queue fast 01 prioriti queue implement simul event set problem data structur manipul prioriti queue art comput program 2nd ed addisonwesley seri comput scienc inform ctr wai teng tang rick siow mong goh ian lijin thng ladder queue o1 prioriti queue structur largescal discret event simul acm transact model comput simul tomac v15 n3 p175204 juli 2005 rick siow mong goh ian lijin thng twolamalgam prioriti queue journal experiment algorithm jea v9 ne 2004 farokh jamalyaria rori rohlf russel schwartz queuebas method effici simul biolog selfassembl system journal comput physic v204 n1 p100120 20 march 2005