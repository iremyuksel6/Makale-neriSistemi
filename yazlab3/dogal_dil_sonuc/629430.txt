schedul dataflow graph via retim unfold abstractloop schedul import problem parallel process retim techniqu reorgan iter unfold techniqu schedul sever iter togeth combin two techniqu obtain static schedul reduc averag comput time per iter first prove order retim unfold immateri schedul dataflow graph dfg nice properti present polynomialtim algorithm origin dfg unfold find minimumr static schedul given unfold factor case unittim dfg effici check retim algorithm present b introduct ow effici optim schedul iter recurs algorithm import problem vlsi high level synthesi compil parallel machin like vliw dataflow machin exampl given signal flow graph filter may mani cycl would like know obtain schedul result synthes hardwar achiev highest pipelin rate combin two techniqu retim unfold maxim execut rate static sched ule combin techniqu turn simpl effici great potenti gener applic paper studi fundament theorem combin provid effici algorithm input algorithm describ dataflow graph dfg wide use mani field exampl circuitri 1 program descript 2 3 4 etc dfg node repres oper edg repres preced relationship graph g fig 2a exampl dfg number attach node comput time dfg call unittim dfg comput time everi node one unit certain delay count associ edg repres interiter preced although result quit gener mani applic use model dfg paper specif consid problem multiprocessor schedul recurs iter algorithm studi 5 4 particularli use dsp applic dfg usual call signalflow graph dsp fig 1 show innermost bodi loop program dfg fig 2a correspond dfg schedul 1 g shown fig 2b take three time unit equal cycl period g complet iter sinc use schedul repeatedli iter call schedul static schedul n fig 1 loop program retim techniqu effect use improv static schedul rearrang delay 1 6 retim dfg denot g r fig 3a correspond faster static schedul fig 3b static schedul improv use common unfold tech niqu unfold techniqu studi 4 6 gener handl switch 7 origin dfg unfold f time unfold graph denot g f consist f copi node set edg set instanc static schedul contain f iter comput time call cycl period therefor iter period averag comput time per iter cycl periodf reduc f call unfold factor static schedul obtain unfold graph execut repeatedli everi f iter amount memori need store static schedul proport unfold factor gener dfg parhi messerschmitt 4 show unfold factor least common multipl loop delay count dfg rateoptim schedul achiev iter algorithm design 6 find minimum unfold factor achiev given iter period 1 assumpt enough resourc avail node schedul earli possibl lf chao dept electr comput engin iowa state univers ame ia 50011 email lfciastateedu e hm sha depart comput scienc engin ing univers notr dame notr dame 46556 email hmscsendedu manuscript receiv 14 oct 1992 revis 17 oct 1994 inform obtain reprint articl pleas send email tpdscomputerorg refer ieeec log number 100505 ieee transact parallel distribut system vol 8 12 decemb 1997 flibrarytransproductiontpds2inprod1005051005051doc regularpaper97dot ab 19968 102297 937 2 9 like previou work 4 6 assum schedul oper integr grid ie oper start integr instant time rateoptim schedul unfold factor fractionaltim schedul start oper fraction time instant discuss 8 size program code control unit proport unfold factor synthesi system provid mani altern pair unfold factor correspond minimum iter period retim design choos suitabl pair among given maximum unfold factor f design requir present effici algorithm find pair origin dfg one obviou way unfold origin dfg first retim find minimum iter period instead show perform retim directli origin dfg obtain minimum iter period without work larg unfold dfg nice counterintuit properti shown section 3 prove order retim unfold matter obtain minimum iter period result unittim dfg obtain section 4 simpl inequ deriv necessari suffici condit exist retim produc schedul unfold factor f cycl period c minimum iter period given unfold factor evalu inequ effici algorithm run time ov e find retim v node set e edg set generaltim dfg necessari suffici condit character simpl formula unittim dfg get pair unfold factor f correspond minimum iter period present retim algorithm section 5 run time preprocess algo rithm run time want obtain pair unfold factor less f correspond minimum iter period nice thing preprocess algorithm need perform maximum unfold factor f instead f time note algorithm paper easili implement sinc mainli variat gener shortest path algorithm first describ definit properti retim unfold prove order retim unfold immateri section 3 algorithm result unittim dfg present section 4 generaltim dfg section 5 final make conclud remark last section sinc detail proof sketch omit due space limit interest reader refer 9 10 definit 1 dataflow graph dfg nodeweight edgeweight direct graph v set node v set edg function e nonneg integ function v posit integ b fig 2 correspond dataflow graph g dfg g b static schedul b fig 3 retim dfg retim dfg g r b static schedul chao sha schedul dataflow graph via retim unfold 3 flibrarytransproductiontpds2inprod1005051005051doc regularpaper97dot ab 19968 102297 937 3 9 interiter data depend repres weight edg edg e u v delay count de mean comput node v iter j depend comput node u iter j de set edg without delay compos direct acycl graph repres data depend within iter 2 defin one iter execut node exactli comput time longest path without delay call cycl period exampl cycl period dfg fig 2a three longest path node b c edg e u v delay count de mean comput node v iter j depend comput node u iter j de sake conveni use follow notat notat u v e mean e edg node u node v notat u v mean p path node u v delay count path p v v v v 1 total comput time path p 21 retim techniqu retim graph retim techniqu 1 move delay around follow way delay drawn incom edg v delay push outgo edg v vice versa retim r dfg g function v integ valu rv number delay drawn incom edg node v push outgo edg 3 see fig 3 dfg retim retim r g edg u v e r similar properti appli path retim legal retim delay count r nonneg everi edg e legal retim preserv data depend origin dfg although prologu need set initi assign compar fig 2 fig 3 techniqu retim regroup oper loop new iter oper execut oper v origin iter shift new iter rv gener rv 0 rv instanc node v appear prologu rv 0 rv instanc appear epilogu edg without delay g r give preced relat new loop bodi although prologu epilogu introduc retim size prologu epilogu control ad simpl constraint propos retim algorithm 9 definit retim 1 distinct recurs cyclic nonrecurs acycl part dfg inputoutput behavior need preserv host introduc dfg edg host everi input node edg everi output node host transform 2 graph meaning dataflow graph delay count loop nonzero 3 note rv posit delay push along direct edg algorithm appli dfg without special consider nonrecurs part 22 unfold techniqu unfold graph let f posit integ unfold graph unfold factor f denot g f consist f copi node set v repres preced relat g delay count edg say unfold dfg g dfg obtain unfold g f time set v f union let u node u v comput tu exampl dfg fig 4a unfold graph factor two dfg g r fig 3a unfold graph give global view data depend manag graph size use subscript f repres correspond g g node v resp edg e g v f resp e repres copi v resp e g f path p f g f uniqu path p g correspond p f let z set integ 0 f set integ 0 1 2 f 1 b z notat f b mean exist n z f oper f produc congruent integ within 0 f one cycl g f consist comput node v f period comput cycl execut call cycl period cycl period g g everi path p f g f cycl period g f f iter g execut thu iter period g f equal g f f word averag comput time iter g origin dfg g iter period equal g algorithm find g dfg time oe 1 properti unfold graph studi 4 procedur propos gener unfold graph howev relationship de f e f clear character properti unfold graph follow use proof paper though properti 1d b fig 4 unfold retim dfg g rf globallystat schedul g rf 2 4 ieee transact parallel distribut system vol 8 12 decemb 1997 flibrarytransproductiontpds2inprod1005051005051doc regularpaper97dot ab 19968 102297 937 4 9 point 4 restat notat properti simpler procedur construct unfold graph shown fig 5 properti 1 let u v node g u v e 0 f 0 j f edg u v e f g f b f copi edg e g f set edg c total number delay f copi edg e de ie e e f f 0these properti easili extend path substitut e path g exactli f copi g definit g leiserson sax 1 deriv follow character cycl period lemma 21 1 let g dfg c cycl period g c everi path p g prove similar properti unfold graph follow lemma valu g f obtain origin dfg g show cycl period unfold graph g maximum total comput time among path total delay count less f origin graph g lemma 22 let g dfg c cycl period f unfold factor g f equal max tp dp f everi path p g everi path p g p c dp f 23 combin dfg g let g rf dfg obtain unfold g r factor f g f r dfg obtain retim g f function r f retim v f z defin minimum cycl period denot mcpf unfold factor f min g minimum cycl period achiev unfold g factor f next section show mcp f g g f approach retim first unfold achiev minimum cycl period say order retim unfold immateri approach one need comput retim function larg unfold graph henc comput effici although retim graph fig 3 achiev minimum cycl period unfold factor 1 mcp1 graph g rf cycl period 4 mcp2 paper retim algorithm design find retim achiev mcpf without unfold dfg first exampl algorithm find anoth retim r shown fig 6 optim unfold factor 1 2 cycl period g r equal mcp1 lemma 22 know cycl period g r f three minimum section relationship g f r g r f fix unfold factor explor intuit seem provid finer retim unfold node set give better flexibl retim howev show order retim unfold essenti precis prove mcp f g g therefor next two section focu find retim r achiev mcpf given unfold factor f everi edg begin add edg e u v f g add edg e u v f g fig 5 procedur construct e f b fig 6 dfg retim anoth retim r dfg g r retim r b iter period 2 chao sha schedul dataflow graph via retim unfold 5 flibrarytransproductiontpds2inprod1005051005051doc regularpaper97dot ab 19968 102297 937 5 9 follow lemma say cycl period obtain retim unfold graph g f achiev retim origin graph g directli lemma 33 prove convers lemma 31 let g dfg c cycl period f unfold factor legal retim r f unfold graph g f g c exist legal retim r origin graph g g rf c proof assum r f legal retim v f z g c f r let r retim v z choos r u r u f f 1 everi u v u ith copi node u v f show r legal retim g r c sinc r f legal retim easi show r also legal retim prove g r f g c lemma 21 know everi u v f v know f v path f p f c u v g correspond path p sinc f p ith copi know r f v idpf everi 0 f sum f inequ r v r u p f p f f f 1 fore know everi path p g tp c rv ru dp f thu lemma 22 r legal retim g g r f c follow lemma prove g f g rf struc ture isomorph mean onetoon correspond among edg node two graph map circularli shift everi copi node v v amount rv actual lemma give way construct dfg g rf directli g given r f instead construct g r first unfold consid g f g rf node set denot v f differ edg set denot e f e rf respect differ delay function denot f rf respect lemma 32 let dfg r retim g f unfold factor unfold graph unfold retim graph g follow relat edg u v j g f iff edg u r u v j r v f g rf proof consid edg e rf u r u f v j r v f g rf properti 1 edg correspond edg e g r iff r rv modular equat equival de f j mean edg u v j thu lemma prove lemma also hold correspond path g f g rf structur equival graph g f r g rf show certain correspond two retim r r lemma 33 legal retim r origin graph g g rf c exist legal retim r f unfold graph g f g c f r proof let r retim v z g rf c lemma 32 know g f g rf struc ture equival edg u v j g iff edg u r u f v j r v f g rf want prove exist retim r f g f r f equival g rf pair correspond edg delay count let e f e rf pair correspond edg u v e e want find retim r satisfi equat e e g f sinc e e r u r v deriv r thu follow linear system integ solut retim r f found everi u v e g f u v e g rf unknown variabl constant show linear system consist integ solut r f equival g rf retim r f certainli legal retim lemma prove follow theorem deriv lemma 31 lemma 33 theorem 1 let g dfg f fix unfold factor legal retim r origin graph g g rf c legal retim r unfold graph g g c f r seem retim unfold graph tend better iter period finer retim function found howev theorem tell us fix unfold factor minimum iter period found matter unfold retim perform first obvious retim origin graph save time space focu rest paper 6 ieee transact parallel distribut system vol 8 12 decemb 1997 flibrarytransproductiontpds2inprod1005051005051doc regularpaper97dot ab 19968 102297 937 6 9 well known dfg involv loop feedback recurs lower bound iter period 11 iter bound g dfg g given g l loop g tl sum comput time loop l dl sum delay count loop l unittim dfg take ove comput bound g loop give iter bound call critic loop l cr exampl fig 2a 43 schedul rateoptim iter period schedul equal iter bound section show cf g necessari suffici condit exist retim produc schedul unfold factor f cycl period c minimum cycl period given unfold factor deriv effici ovetim algorithm design find retim graph modifi everi edg e e note g x may nonintegr even neg delay count x integ next lemma show relat g fc lower bound g lemma 41 let g unittim dfg f c posit int ger graph g fc contain loop neg delay count cf g proof assum g fc contain loop neg delay count let dl delay count loop l g fc sinc number edg loop l equal tl unittim dfg know fc tl 0 therefor cf tldl everi loop l g part prove similarli similar character cycl period unittim dfg retim 1 give character cycl period retim unfold lemma 42 let e unittim dfg c posit teger f unfold factor legal retim r g f g rf c g fc contain loop neg delay count proof part easili prove contrad tion loop neg delay lemma 41 know cf smaller lower bound g thu retim r exist part assum loop neg delay count construct retim dfg follow first add new node v 0 graph g fc v 0 connect node delay 0 comput shortest path v 0 node let shv length shortest path v v 0 choos retim r node v equal ceil shv everi v v easi prove r legal retim similar proof 1 lemma retim algorithm find retim r g rf c shown fig 7 adopt singlesourc shortest path algorithm introduc 12 find shortest path shv node v neg loop algorithm report return retim function rv ceil shv time complex retim algorithm ov e static schedul cycl period c easili obtain unfold retim graph g r time e follow theorem provid us simpl exist criterion cf g check whether given cycl period c achiev theorem 2 let g unittim dfg f c posit int ger follow statement equival contain cycl neg delay count exist legal retim r g g retim r unfold f cycl period proof lemma 41 first second statement equival equival second third statement prove lemma 42 pair given integ f c exist legal retim r g rf c say pair feasibl theorem 2 design need check inequ cf g order decid feasibl pair f c unfold factor f minimum feasibl c inequ mcp f f g thu pair f mcpf easili gener design may choos suitabl pair accord requir legal retim r chosen pair found mere time ov e correspond schedul gener graph g rf maximum differ iter period chosen pair iter bound g less 1f retim algorithm input dfg g unfold factor f cycl period c output retim r g rf begin pass use prevent algorithm trap neg loop everi node v v begin q end pass 0 last last element q q empti pass v begin pop v q everi edg w q push w q end last begin last last element q pass q empti everi v v r v sh v els neg loop graph g fc fig 7 retim algorithm unittim dfg chao sha schedul dataflow graph via retim unfold 7 flibrarytransproductiontpds2inprod1005051005051doc regularpaper97dot ab 19968 102297 937 7 9 consequ theorem 2 minimum rateoptim unfold factor produc rateoptim schedul deriv dl cr gcdtl cr dl cr correspond rateoptim schedul easili deriv algorithm first design algorithm find retim r possibl given unfold factor f given cycl period c preprocess algorithm perform first order find set critic path present second subsect first subsect properti critic path deriv order repres problem simpl linear program lp form solv time ov 3 gener shortest path algorithm binari search ofv 2 possibl cycl period find legal retim r achiev minimum cycl period dfg g rf given unfold factor f time 51 retim algorithm sinc delay count everi path u v chang amount ru rv dfg retim r quantiti defin specifi set critic path path u v need look quantiti order decid whether g f c definit 2 let u v node g integ defin u mindpfor everi path u v v g g integ valu u v minimum delay count path u v valu 7 maximum comput time among path u v delay count equal u v path v 7 call critic path preprocess algorithm describ subsect 52 comput u v 7 u v v everi 0 f theorem 3 let dfg c cycl period f unfold factor g f c node u v v proof prove part contradict assum exist u v v 0 f u v p critic path u v v 7 thu exist path p g dp f tp c lemma 22 know gf c contradict prove part assum u v v assumpt claim everi path p g dp f tp c impli v path g p critic path claim true otherwis want show dp f tp c case dp u v f know dp f sinc u v 0 otherwis critic path p u v 7 assumpt know either dp f tp c therefor claim prove next theorem give us necessari suffici condit retim r g rf c term theorem abl construct simpl lp form retim unfold theorem 4 let dfg c cycl period f unfold factor follow two statement equival r retim g g rf c b node u v v proof similarli defin g r first prove effect retim function u v 7 similar function ie r u r theorem easili deriv theorem 3 retim graph g r theorem 5 let dfg c cycl period f unfold factor r legal retim g g rf c e g proof function r legal retim r e 0 everi e g sinc r r legal retim rv ru de everi e second inequ come theorem 4 particular cycl period c unfold factor f theorem give simpl lp form find legal retim r exist g rf c lp form easili solv singlesourc shortest path algorithm assum preprocess comput 7 given unfold factor f done number valu time v 2 gener lp form given cycl period c scan valu inequ lefthand side cover one 8 ieee transact parallel distribut system vol 8 12 decemb 1997 flibrarytransproductiontpds2inprod1005051005051doc regularpaper97dot ab 19968 102297 937 8 9 smallest valu righthand side obtain lp form v 2 inequ thu legal retim found time ov 3 bellmanford algorithm shortestpath problem easi observ cycl period g rf valu v sort set valu everi u v g 0 f perform binari search set valu order find minimum cycl period g rf retim r fore legal retim g rf minimum found time ofv definit function 7 independ unfold factor let f maximum valu unfold factor resourc consider perform preprocess step maximum unfold factor f time v valu mcpf f f f found use retim algorithm without preprocess f although minimum cycl period mcpf increas function behavior minimum iter period mipf mcpff hard character order find minimum iter period mipf everi f f need comput minimum cycl period mcpf everi f find one mcpff minim thu minimum minimum iter period mipf f f f found time 52 preprocess algorithm function easili comput allpair shortest path algorithm time ov 3 first comput follow two function f f defin unfold graph g show comput function 7 f definit 3 let unfold graph u node g integ 0 f function function v f v nonneg integ f function v f v f posit integ defin f everi path u v g f f everi path u v g f f p f path u v undefin length measur f p f path function f comput time ov 3 f 3 floydwarshal algorithm allpair shortest path problem 13 follow lemma show relat function f lemma 51 let u v two node v f unfold factor integ 0 f exist path v f proof first show follow properti detail proof appear 9 10 assum exist path v 1b know correspond path u v f g f delay p f thu f properti f thu lemma prove follow theorem show us gener u v f u v u v theorem 6 consid two node u v g everi f f otherwis rewrit definit 7 term path unfold graph g p u v f theorem follow detail proof appear 9 10 function easili comput allpair shortest path algorithm time ov 3 time ov 2 f construct 7 everi u v f use theorem 6 conclud remark paper studi fundament theorem combin two use techniqu retim unfold understand give us insight mani problem retim unfold appli multiprocessor schedul datapath design vlsi computeraid design believ result also appli applic chao sha schedul dataflow graph via retim unfold 9 flibrarytransproductiontpds2inprod1005051005051doc regularpaper97dot ab 19968 102297 937 9 9 one interest result show unfold retim retim effect iter period therefor need unfold dfg first obtain sult instead oper directli origin dfg present effici algorithm find minimum iter period unfold factor f run time ofv retim consid unittim dfg applic risc multiprocessor softwar pipelin unittim parallel pipelin etc surpris result obtain pair cycl period c unfold factor f long cf less iter bound g exist sched ule ie exist retim r deriv schedul retim algorithm run time ove result theorem 2 gener 8 obtain rateoptim schedul generaltim dfg variou model understood fundament properti paper success appli result schedul problem resourc constraint 14 one import open question measur minimum iter period resourc constraint unfold factor result without resourc constraint fundament properti best schedul use deriv approxim algorithm acknowledg work support part us nation scienc foundat grant mip8912100 us armi research ficedurham grant daal0389k0074 darpaonr contract n0001488k0459 r retim synchron circuitri retim unfold dataflow graph data flow program graph static rateoptim schedul iter dataflow program via optimum unfold unfold retim dataflow dsp program risc multiprocessor schedul unfold retim highlevel dsp synthesi systemat approach design digitalseri signal process architectur static schedul synthesi dsp algorithm variou model schedul dataflow graph via retim unfold schedul behavior transform parallel system maximum sampl rate digit filter hardwar speed constraint data structur network algorithm network matroid rotat schedul loop pipelin algorithm tr ctr timothi w oneil edwin hm sha combin extend retim unfold rateoptim graph transform journal vlsi signal process system v39 n3 p273293 march 2005 timothi w oneil edwin hm sha combin extend retim unfold rateoptim graph transform journal vlsi signal process system v39 n3 p273293 march 2005 qingfeng zhuge bin xiao zili shao edwin hm sha chantana chantrapornchai optim code size reduct softwarepipelin unfold loop proceed 15th intern symposium system synthesi octob 0204 2002 kyoto japan jacom g de veciana c akturan resourc constrain dataflow retim heurist vliw asip proceed seventh intern workshop hardwaresoftwar codesign p1216 march 1999 rome itali qingfeng zhuge zili shao bin xiao edwin hm sha design space minim time code size optim embed dsp proceed 1st ieeeacmifip intern confer hardwaresoftwar codesign system synthesi octob 0103 2003 newport beach ca usa qingfeng zhuge bin xiao edwin hm sha code size reduct techniqu implement softwarepipelin dsp applic acm transact embed comput system tec v2 n4 p590613 novemb hansaem yun jihong kim powerawar modulo schedul highperform vliw processor proceed 2001 intern symposium low power electron design p4045 august 2001 huntington beach california unit state meikang qiu zhipe jia chun xue zili shao edwin hm sha voltag assign guarante probabl satisfi time constraint realtim multiproceesor dsp journal vlsi signal process system v46 n1 p5573 januari 2007 dongm peng mi lu explor interiter parallel within ratebalanc multir multidimension dsp algorithm ieee transact larg scale integr vlsi system v13 n1 p106125 januari 2005 michael gordon william thi saman amarasingh exploit coarsegrain task data pipelin parallel stream program acm sigop oper system review v40 n5 decemb 2006 hansaem yun jihong kim soomook moon time optim softwar pipelin loop control flow intern journal parallel program v31 n5 p339391 octob chiang lanrong dung verif method dataflow algorithm highlevel synthesi journal system softwar v80 n8 p12561270 august 2007 karam chatha ranga vemuri hardwaresoftwar partit pipelin schedul transform applic ieee transact larg scale integr vlsi system v10 n3 p193208 june 2002