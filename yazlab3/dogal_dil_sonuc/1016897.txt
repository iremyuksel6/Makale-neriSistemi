increas internet capac use local search open shortest path first ospf one commonli use intradomain internet rout protocol traffic flow rout along shortest path split flow evenli node sever outgo link shortest path destin weight link therebi shortest path rout chang network oper weight could set proport physic length link often main goal avoid congest ie overload link standard heurist recommend cisco major router vendor make weight link invers proport capacityw studi problem optim ospf weight given set project demand avoid congest show problem nphard even approxim propos local search heurist solv also provid worstcas result perform ospf rout vs optim multicommod flow rout numer experi compar result obtain local search heurist optim multicommod flow rout well simpl commonli use heurist set weight experi done propos nextgener att worldnet backbon well synthet internetwork b introduct provis internet servic provid isp backbon network intradomain ip traffic big challeng particularli due rapid growth network user demand time network topolog capac may seem insuffici meet current demand time mount pressur isp provid qualiti servic qo term servic level agreement sla custom loos guarante delay loss throughput issu point import traffic engin make effici use exist network resourc tailor rout prevail traffic 11 gener rout problem optim use exist network resourc seen gener rout problem defin follow given capacit direct graph whose node arc repres router capacit link demand matrix pair node tell us much traffic flow need send refer sourc destin demand mani entri may zero particular ds zero path g arc 2 associ cost function phi load depend close load capac ca precis 2 phi continu function phi deriv 3 13 xca 23 5000 1110 1 function phi illustr figur 1 view model retransmiss delay caus packet loss gener cheap send flow arc small util aca cost increas progress util approach 100 explod go 110 formal object distribut demand flow minim sum a2a phi result cost arc explos increas cost load exce capac object typic impli keep maxutil max a2a aca 1 least 11 possibl exact definit object function import techniqu long piecewis linear increas convex function gener rout cost load figur 1 arc cost phi function load arc capac ca 1 problem limit distribut flow path problem therefor formul solv polynomi time fraction multicommod flow problem show section 2 definit gener rout problem except exact choic object function equival one use eg awduch et al 1999 controversi featur assumpt estim demand matrix demand matrix could case propos att worldnet backbon base concret measur flow sourcedestin pair feldmann et al 2000 demand matrix could also base concret set custom subscript virtual leas line servic demand matrix assumpt accommod unpredict burst traffic howev deal predict period chang say morn even simpli think two independ rout problem one morn one even 12 ospf versu mpl rout protocol unfortun intradomain internet rout protocol today support free distribut flow sourc destin defin gener rout problem common protocol today open shortest path first ospf moy 1999 protocol network oper assign weight link shortest path router destin comput use weight length link router next link shortest path possibl destin store tabl flow arriv router sent destin split flow link shortest path destin definit ospf protocol specifi split approxim even simplic assum split exactli even att worldnet simplif lead reason estim qualiti ospf rout depend highli choic weight nevertheless recommend cisco major router vendor 1997 often set invers proport capac link without take knowledg demand account wide believ ospf protocol flexibl enough provid good load balanc given demand matrix awduch et al 1999 x23 one reason introduc flexibl multiprotocol label switch mpl technolog mpl one principl decid path individu packet henc simul solut gener rout problem distribut packet path sourcedestin pair use distribut use flow mpl technolog disadvantag first mpl yet wide deploy let alon test second ospf rout simpler sens rout complet determin one weight arc need make individu rout decis sourcedestin pair also link fail weight remain link immedi determin new rout 13 result gener question studi paper suffici clever weight set make ospf rout perform nearli well optim generalmpl rout first answer neg arbitrari n construct instanc rout problem n 3 node ospf rout averag flow arc utiliza tion n time higher maxutil optim gener solut concret object function demonstr gap factor approach 5000 cost optim gener rout cost optim ospf rout worst possibl gap 5000 achiev set weight 1 next natur question well ospf rout perform real network particular want answer question propos att worldnet backbon addit studi synthet internetwork gener suggest calvert et al 1997 zegura et al 1996 find perfect answer hard sens nphard find even approxim optim set ospf weight arbitrari network instead resort local search heurist guarante find optim solut surprisingli turn propos att worldnet backbon well synthet network heurist found weight set make ospf rout perform within percent optim gener rout thu propos att worldnet backbon project demand concret object function would substanti traffic engin gain switch exist welltest understood robust ospf technolog new mpl altern also compar local search heurist standard heurist weight invers proport capac proport physic distanc found network capac could support 50115 increas demand respect concret cost function simultan respect keep maxutil 100 14 technic contribut local search heurist origin use hash tabl avoid cycl search diversif use hash tabl avoid cycl local search alreadi propos woodruff zemel 1993 approach differ sens elimin complet solut alreadi encount need concept solut attribut precis approach close relat strict tabu search battiti tecchiolli 1994 solut map hash valu seen uniqu solut attribut allow valu twice complet search use mechan obtain diversif knowledg new idea test local search heurist also origin use advanc dynam graph algorithm comput ospf rout result given set weight turn comput bottleneck mani differ solut evalu neighborhood explor howev neighborhood structur allow local chang weight therefor develop effici algorithm updat rout recomput cost solut weight chang speedup critic local search reach good solut within reason time bound typic reduc comput time factor 15 relat work best knowledg previou work deal even split ospf rout previou work optim ospf weight rodrigu ramakrishnan 1992 lin wang 1993 bley grotchel wessali 1998 either chosen weight avoid multipl shortest path sourc destin appli protocol break tie thu select uniqu shortest path sourcedestin pair besid differ model deal even split approach also technic differ first deal much larger network detail rodrigu ramakrishnan 1992 present local search like use singl descent contrast consid nonimprov move henc deal problem avoid cycl largest network consid rodrigu ramakrishnan 1992 16 node link also bley grotchel wessali 1998 use singl descent local search largest network consid 13 link mention simultan deal problem design network wherea tri optim weight given network final lin wang 1993 present complet differ approach base lagrangian relax consid network 26 node experi propos att worldnet backbon 90 node 274 link synthet network 100 node 503 link scale experi make speed issu motiv innov use dynam graph algorithm local search section 2 formal gener rout model multicommod flow problem ferent size topolog network section 4 famili network construct demonstr larg gap ospf multicommod flow rout section 5 show problem optim ospf weight nphard section 6 present local search algorithm guid search hash tabl section 7 show speedup calcul use dynam graph algorithm section 8 report numer experi conclud section 9 comment result obtain mathemat formul 21 optim rout given direct network capac ca 2 demand matrix pair 2 n theta n tell demand ds traffic flow sometim refer nonzero entri demand pair arc associ variabl f st tell much traffic flow goe variabl repres total load arc ie sum flow go phi use model piecewis linear cost function arc notat gener rout problem formul follow linear program fact uncapacit multicommod flow problem increas piecewis linear cost a2a phi subject uuv2a uvu2a gammadst vs 2 3 phi 2 4 3 ca 2 5 3 ca 2 6 phi 70a gamma 178 3 ca 2 7 phi 500a gamma 1468 3 ca 2 8 phi 5000a gamma 19468ca 2 constraint 2 flow conserv constraint ensur desir traffic flow rout constraint 3 defin load arc constraint 4 defin cost arc program complet linear program formul gener rout problem henc solv optim polynomi time khachiyan 1979 experi solv problem call cplex version 65 via ampl denot phi opt optim solut gener rout problem 22 ospf rout ospf rout choos posit integ weight w arc length path sum arc weight extra condit flow leav node aim given destin evenli spread first arc shortest path destin precis sourcedestin pair 2 n theta n node u f st shortest path shortest path note rout demand complet determin shortest path turn determin weight assign arc denot phi optospf optim cost ospf rout 3 normal cost introduc normal scale factor cost function allow us compar cost across differ size topolog network defin measur introduc ds dist 1 delta distanc measur unit weight hop count also let phi unitospf denot cost ospf rout unit weight present sever nice properti phi uncap phi unitospf ii inspir name uncapacit phi uncap total load traffic flow goe along unit weight shortest path unlimit capac iii phi uncap minim total load network iv phi uncap phi opt 5000 maxim valu phi 0 proof follow directli definit ii follow sinc ratio cost load arc 1 capac 3 time load iii follow send flow along longer path increas load iii get iv sinc 1 smallest possibl ratio cost load final get v ii sinc decreas capac arc given load increas arc cost strictli less factor 5000 capac stay posit 2 scale cost defin lemma 1 iv v immedi get note get phi mean rout along unit weight shortest path load stay 13 capac ideal situat mathemat model point increas capac network packet cost util figur 2 arc packet cost function util packet level view perhap instruct way understand cost function packet level interpret demand ds measur mani packet ident size expect send within certain time frame packet follow singl path pay cost arc use origin cost function phi per packet cost use arc phi aa per packet cost close relat probabl packet lost phi obtain sum path cost packet per packet arc cost phi aa function oe util aca function oe depict figur 2 first oe 1 util 13 oe increas 70 2for full arc grow rapidli toward 5000 cost factor packet ratio current cost cost would paid could follow unitweight shortest path without hit util 13 henc pay minim cost 1 arc travers latter ideal situat measur phi uncap therefor phi measur weight averag packet cost factor packet weight proport unitweight distanc end point packet follow shortest path arc exactli full cost factor exactli 3 cost factor cours obtain arc go capac other go packet follow longer detour use less congest arc nevertheless natur say rout congest network 13 follow maxim gap optim gener rout optim ospf rout less factor 5000 lemma 2 show gap fact approach 5000 proof base construct ospf lead bad congest natur definit congest fact construct provid neg exampl type rout flow node given destin split split evenli outgo link use precis arbitrari n construct instanc rout problem n 3 node one demand path sourc destin shortest respect unit weight hop count instanc ospf rout averag flow arc n time higher maxutil optim gener solut concret object function demonstr gap factor approach 5000 cost optim gener rout cost optim ospf rout famili network g n optim gener rout approach 5000 time better optim ospf rout n 1 proof graph defin node set ng arc set v capac arc ae 3 otherwis final singl demand size n sourc destin graph g n 3 node arc illustr figur 3 high capac arc repres thick line construct exactli n path n 2 link path optim solut gener rout model obvious given send one unit flow along path mean arc get flow third capac therefor unit flow follow path length n 2 optim cost phi n opt equal n 3 ospf model freeli decid path use even split first path use get half flow ie n2 unit second get n4 unit asymptot mean almost flow goe along arc load factor n capac sinc path use least n capac optim ospf cost phi n optospf satisfi figur 3 g n conclud ratio ospf cost optim cost optospf opt 5 complex section formal present hard result state nphard find even approxim optim set ospf weight proof defer appendix hard present concret cost function phi defin section 1 much gener class cost function also prove hard approxim respect maxutil anoth natur measur qualiti rout case inapproxim factor much wors result later obtain experiment cost function section 1 theorem 3 nphard optim ospf weight set respect cost function defin 1 within factor 31 optim theorem 3 deriv follow hard result larg class cost function theorem 4 let ff fi fix constant suppos total rout cost a2a psi psi l ffl l ca psi l ffca fi 52ff nphard optim ospf weight set respect a2a psi la within factor 072 optim proof theorem 4 defer appendix verifi theorem 4 gener theorem 3 claim proof theorem 4 impli theorem 3 order get hypothesi theorem 4 suffici see equival problem obtain defin new capac use modifi cost function defin phi new cost function satisfi hypothesi theorem 4 lead inapproxim factor greater 31 2 final state hard maxutil theorem 5 nphard optim maxutil ospf rout within factor 32 6 ospf weight set use local search ospf rout arc 2 choos weight w weight uniqu determin shortest path rout traffic flow load arc final valu cost function phi rest section present local search heurist determin weight w 2 order minim phi suppos want minim function f set x feasibl solut local search techniqu iter procedur iter defin neighborhood current solut x 2 x choos next solut x 0 neighborhood often want neighbor x 0 2 n x improv f sens differ local search heurist aris essenti definit neighborhood way explor choic next solut neigh borhood descent method consid entir neighborhood select improv neighbor stop local minimum found metaheurist tabu search simul anneal allow nonimprov move appli restrict neighborhood avoid cycl extens survey local search applic found aart lenstra 1997 remaind section first describ neighborhood structur appli solv weight set problem second use hash tabl address problem avoid cycl hash tabl also use avoid repetit neighborhood explor neighborhood search aim intensifi search promis region often great practic import search new region neighborhood search fail improv best solut techniqu call search diversif address end section first step choos maxim weight w restrict attent weight idea behind use small weight increas chanc even split due multipl shortest path node destin 61 neighborhood structur solut weight set problem complet character vector w a2a weight defin neighbor w 0 2 n w w one two follow oper appli w singl weight chang simpl modif consist chang singl weight defin neighbor w 0 w arc 2 possibl weight set w evenli balanc flow assum cost function phi arc 2 increas convex mean want avoid highli congest arc want split flow evenli possibl differ arc precis consid demand node demand go goe given node u intuit would like ospf rout split flow go u evenli along arc leav u case arc leav u belong shortest path u precis node adjac u p one shortest path u illustr figur 4 want set w 0 denot sum weight arc belong p simpl way achiev goal set w otherwis w drawback approach arc belong one shortest path u may alreadi congest modif weight propos send flow congest arc obvious undesir featur therefor decid choos random threshold ratio 025 1 modifi weight arc maxim subset b arc leav u l w u l w denot load result weight vector w way flow leav u toward chang arc b choos random allow diversifi search figur 4 second type move tri make path form u equal length anoth drawback approach ensur weight remain w max done ad condit max i2b wp choos b detail rest section explor full neighborhood neighbor explor next solut best accord cost function 62 guid search hash tabl simplest local search heurist descent method iter select best element neighborhood stop element improv object function approach lead local minimum often far optim solut problem heurist allow nonimprov move consid unfortun nonimprov move lead cycl one must provid mechan avoid tabu search algorithm glover 1986 1989 1990 glover laguna 1997 exampl make use tabu list record attribut solut encount recent iter forbid solut attribut neighborhood structur weight set problem quit complex effici design tabu attribut search paramet length tabu list would requir lot work instead develop search strategi complet avoid cycl without need store complex solut attribut approach call strict tabu search studi battiti tecchiolli 1994 test differ techniqu implement name revers elimin method glover 1990 hash woodruff zemel 1993 digit tree knuth 1973 turn revers elimin method much expens memori comput requir furthermor digit tree best suit binari variabl would expens memorywis encod solut jaj dimension 16bit integ vector therefor resort hash hash function w 0 1001 p 0100101101110110 1101 w 00010 lz h w z figur 5 exampl hash function singl weight w w 42797 compress solut singl integ valu send differ solut integ small probabl implement strict tabu search use boolean tabl record valu produc hash function encount begin algorithm entri set fals w solut produc given iter set hw true search neighborhood reject solut w 0 hw 0 true check solut encount therefor perform constant time point carlton barn 1996 risk collis whenev w 0 6 w show collis aris high probabl iter case roughli 10 solut elimin collis howev elimin solut essenti random sinc approach alreadi highli random critic moreov weight set problem mani differ solut ie weight vector lead arc load total cost therefor even good solut kill collis high chanc solut lead rout surviv hash function use base develop carter wegman 1979 dietzfelbing 1996 thorup 2000 properti probabl two differ weight set get hash valu function truli random case function use woodruff zemel 1993 suppos weight repres mbit integ log 2 w max want map lbit integ case arc 2 associ random l gamma 1bit integ p defin hash function h w singl weight w consid p w 2m l gamma 1 bit integ take lbit integ obtain drop highest bit lowest bit p w illustr figur 5 hash valu w defin a2a h w phi denot bitwis xor oper big advantag use xor oper allow fast updat hash valu singl weight chang precis w 0 equal w except given w 0 6 w hw 0 comput w phi h w 0 local search perform 5000 iter record 5000 solut thu use fraction 50002 potenti hash valu 63 speed neighborhood evalu due complex neighborhood structur evenli balanc flow turn sever move often lead weight set simpl exampl node w singl incom arc v w node u 6 v w exactli balanc destin v destin w effici would like avoid evalu equival move hash tabl use tool achiev goal insid neighborhood explor defin secondari hash tabl use store encount weight set evalu move lead hash valu alreadi met neighborhood structur use also drawback number neighbor given solut larg explor neighborhood complet may time consum avoid drawback evalu randomli select set neighbor start evalu 20 neighborhood time current solut improv divid size sampl 3 multipli 2 time current solut improv moreov enforc sampl least 1 neighborhood 64 diversif anoth import ingredi local search effici diversif aim diversif escap region explor without improv search region yet unexplor particular case mani weight set lead rout therefor observ local minimum reach mani neighbor cost lead long seri iter cost valu escap long valley search space secondari hash tabl use tabl gener reset end iter sinc want avoid repetit insid singl iter howev neighborhood explor lead solut better current one reset tabl happen sever iter collis occur potenti good solut exclud forc algorithm escap region current explor collis appear reason rate size secondari hash tabl must small compar primari one experi size 20 time number cost iter figur evolut local search iter att worldnet backbon arc network att worldnet propos backbon 274 link give secondari size 5 480 wherea primari size 2 approach diversif use avoid region lot local minima cost suffici complet escap one region go possibl attract one therefor time best solut found improv 300 iter randomli perturb current solut order explor new region search space perturb consist ad randomli select perturb uniformli chosen 2 2 10 weight present figur 6 evolut cost iter search one run instanc att worldnet backbon impact diversif scheme high variat cost observ figur algorithm allow diversifi move observ quick descent good region bad move 7 cost evalu section first show evalu cost function static case network specifi weight set comput cost function scratch unfortun time consum local search afterward show reus comput exploit fact weight chang current solut solut neighborhood 71 static case given direct graph capac fc g a2a demand matrix weight fw g a2a instanc consid graph spars moreov weight graph maxim distanc two node ojn j want comput cost function phi basic problem comput load result weight set consid one destin time comput total flow sourc 2 n give rise certain partial load l arc done comput destin comput load l arc comput flow first step use dijkstra algorithm comput distanc normal dijkstra algorithm comput distanc away sourc appli implement dijkstra algorithm graph obtain revers orient arc g comput distanc node u comput set arc shortest path node u let ffi u denot degre ie observ 6 v w 2 l proof even flow split outgo shortest path arc give follow straightforward calcul l vw use observ 6 comput load l vw follow node v 2 n visit order decreas distanc v visit node v first set second set l l v w 2 see algorithm work correctli assum induct dealt correctli node visit v sinc everi arc u v enter v stem node u strictli know u visit previous henc induct load l uv correct sinc incom arc load correct v visit outgo arc load comput correctli observ 6 use bucket prioriti queue dijkstra algorithm comput destin take time henc total time bound ojn j 2 72 dynam case local search want evalu cost mani differ weight set evalu bottleneck comput save time tri exploit fact evalu consecut weight set typic arc weight chang thu make sens tri lazi recomput everyth scratch reus much possibl respect shortest path idea alreadi well studi ramalingam rep 1996 appli algorithm directli basic result recomput spend time proport number arc incid node u whose distanc u chang experi typic chang gain substanti order factor 15 100 node graph similar posit experi lazi report frigioni et al 1998 set chang distanc immedi give us set updat arc ad delet present lazi method find chang load oper set critic node initi consist node incom outgo updat arc repeat follow empti first take node v 2 maxim updat distanc v remov v final v w updat v w new l 6 l vw set l l add w see suffic first note node visit consid order decreas distanc follow alway take node maxim distanc add new node w closer current visit node v consequ dynam algorithm behav exactli static algorithm except treat node howev node whose incom outgo arc set chang whose incom arc load chang put node skip know load around would exactli previou evalu order measur impact dynam updat cost perform algorithm perform 500 iter variou network differ demand set result present tabl 1 tabl see dynam updat make algorithm 5 25 time faster averag 15 time faster improv critic us typic ran local search bit 1 hour order get good solut 8 numer experi present result obtain propos att worldnet backbon well synthet internetwork besid compar local search heurist heurospf gener optimum opt compar ospf rout oblivi weight set base properti arc alon ignor rest network oblivi heurist 90 274 3814 90 90 274 19068 53 712 134 90 90 274 34323 52 443 85 90 averag 144 2198 152 tabl 1 comput time 500 iter local search second ffl invcapospf set weight arc invers proport capac recommend cisco 1997 experi capac divid maxim capac get integ weight link found weight divid maxim capac capac link ffl unitospf set arc weight 1 ffl l2ospf set weight proport physic euclidean distanc l 2 norm ffl randomospf choos weight randomli local search heurist start randomli gener weight perform 5000 erat largest graph took approxim one hour random start point weight chosen randomospf initi cost local search randomospf result att worldnet backbon differ scale project demand matrix present tabl 2 scale demand matrix mean multipli entri common number algorithm run independ scale henc opt randomospf heurospf use differ rout differ scale wherea unitospf invcapospf alway use rout entri normal cost phi introduc section 3 normal cost follow maxutil parenthesi bold line tabl correspond origin nonscal demand ospf scheme normal cost maxutil calcul weight set rout howev opt optim normal cost optim maxutil comput independ differ rout expect gener rout abl get optim normal cost max util simultan result also depict graphic figur 7 first graph show normal cost horizont line show threshold 3 regard network congest second graph show maxutil also gener three flavor synthet graph 2level hierarch graph graph produc use gener gtitm zegura 1996 base model calvert et al 1997 zegura et al 1996 arc divid two class local access arc long distanc arc arc capac equal 200 local access arc 1000 long distanc arc pure random graph probabl arc two node given constant paramet use control densiti graph arc capac set 1000 90 274 3709 100 010 100 015 101 015 113 023 112 035 100 017 90 274 7417 100 019 100 031 101 030 115 046 191 105 100 030 90 274 11126 101 029 103 046 105 045 121 070 136 066 101 034 90 274 14835 104 039 113 062 115 060 142 093 1276 115 105 047 90 90 90 90 90 90 90 90 tabl 2 result propos att worldnet backbon waxman graph node uniformli distribut point unit squar probabl arc two node u v given ff fi paramet use control densiti graph ffiu v euclidean distanc u v delta maximum distanc two node waxman 1988 arc capac set 1000 2level hierarch graph realist known model internetwork random graph waxman graph cleaner mathemat perspect demand gener follow node u pick two random number pair u v node pick random number c uv 2 0 1 demand u v ffo u v c uv e gammaffiuv ff paramet delta largest euclidean distanc pair node u v reflect fact differ node less activ sender receiv thu model hot spot net multipli three random variabl quit larg variat demand factor e gammaffiuv2delta impli rel demand close pair node result synthet network present figur 1219 note random waxman graph capac equal invcapospf repres via unitospf 9 discuss present paper local search heurist optim ospf weight use intradomain internet rout heurist test substanti set instanc cost demand invcapospf unitospf heurospf opt0206114 maxutil demand invcapospf unitospf heurospf opt figur 7 att propos backbon 90 node 274 arc scale project cost demand invcapospf unitospf heurospf opt0206114 maxutil demand invcapospf unitospf heurospf opt figur 8 2level graph 50 node 148 arcs2610140 1000 2000 3000 4000 5000 6000 cost demand invcapospf unitospf heurospf opt0206114 maxutil demand invcapospf unitospf heurospf opt figur 9 2level graph 50 node 212 arc invcapospf unitospf heurospf opt0206114 maxutil demand invcapospf unitospf heurospf opt figur 10 2level graph 100 node 280 arcs2610140 2000 4000 6000 8000 10000 12000 14000 16000 18000 cost demand invcapospf unitospf heurospf opt0206114 maxutil demand invcapospf unitospf heurospf opt figur 11 2level graph 100 node 360 arc unitospf heurospf opt0206114 maxutil demand unitospf heurospf opt figur 13 random graph 50 node 245 arcs261014 cost demand unitospf heurospf opt0206114 maxutil demand unitospf heurospf opt figur 14 random graph 100 node 403 arc cost demand unitospf heurospf opt0206114 maxutil demand unitospf heurospf opt figur 17 waxman graph 50 node 230 arcs261014 cost demand unitospf heurospf opt0206114 maxutil demand unitospf heurospf opt figur 18 waxman graph 100 node 391 arc includ propos att worldnet backbon project demand would nice run real world data data typic compani secret consid result att worldnet backbon project nonscal demand ie bold line tabl 7 observ heurist heurospf within 18 optim contrast oblivi method least 15 consid gener pictur normal cost figur 719 see l2ospf randomospf typic worst come invcapospf unitospf close togeth invcapospf gener slightli better random waxman graph figur 1219 invcapospf coincid unitospf sinc link capac recal invcapospf cisco recommend comfort see best oblivi heurist clear winner ospf scheme heurospf fact much closer gener optimum oblivi ospf scheme quantifi differ differ scheme note curv randomospf start pretti flat quit suddenli start increas rapidli pattern somewhat similar figur 1 surpris sinc figur 1 show curv network consist singl arc reason randomospf follow pattern weight set gener randomli entri jump curv randomospf figur 10 nice illustr luck impact weight set one could cours run randomospf sever time use best solut figur clear even errat badli randomospf perform never best purpos includ randomospf abl compar weight set random choic interestingli particular demand valu randomospf valu initi solut local search heurist howev jump randomospf transfer heurospf henc seem oblivi qualiti initi solut interest comparison differ scheme amount demand cope network get congest section 3 defin 2a threshold congest exact threshold inconsequenti consid propos att worldnet backbon figur 7 2level graph figur 811 see heurospf allow us cope 50115 demand cisco recommend invcapospf averag around 70 maximum 115 achiev figur 9 particular figur l2ospf actual quit well gener invcapospf better oblivi heurist henc challeng one compet moreov figur 9 heurospf less 2 abl cope demand optim gener rout opt figur 9 heurospf 20 opt recal theorem 3 nphard approxim optim cost ospf solut within factor 3 idea whether exist ospf solut closer opt one found heurist pictur gener repeat random graph figur 1215 except heurospf tend littl away opt though still less 10 waxman graph figur 1619 signific differ rel model unitinvcapospf tend get closer opt opt allow averag 30 increas demand thu leav less scope improv hand waxman graph heurospf nearli coincid opt random waxman graph consid much less realist 2level graph see support evid conjectur typic internetwork heur ospf abl suppli larg part gain opt may invcapospf oblivi heurist turn attent maxutil get order scheme invcapospf winner among oblivi scheme heurospf overal best ospf scheme advantag use heurospf maxutil interest local search use maxutil object steplik pattern heurospf show impact chang phi 0 exampl figur 7 see heurospf fight keep max util 1 order avoid high penalti get load capac follow pattern analysi normal cost ask much demand deal get maxutil 1 see heurospf beat oblivi scheme least 50 propos att worldnet backbon 2level graph fact heurospf provid weight set rout simultan good best effort type averag cost function perform guarante type measur maxutil indic weight obtain univ salli good tune particular cost function recal valu opt rout may gener rout get simultan closer optim cost optim maxutil heurospf anyhow heurospf gener close opt littl scope improv present worstcas exampl show case even best ospf weight set lead bad rout compar best gener rout also shown nphard find even approxim optim ospf weight set neg find contrast posit find experiment work weight set heurist produc ospf rout quit close perform best possibl gener rout indic neg exampl ospf rout contriv domin practic propos att worldnet backbon 2level graph suggest zegura calvert bhattacharje 1996 calvert doar zegura 1997 ospf weight set heurist distinguish produc weight set allow 50115 increas demand achiev standard weight set heurist use invers capac recommend cisco 1997 thu shown context known demand clever weight set algorithm ospf rout power tool increas network abil honor increas demand ospf clever weight set provid larg part potenti gain traffic engin support demand even compar possibl much flexibl mpl scheme futur work studi robust issu link failur appear hotspot internet nphard proof appendix prove nphard result claim section 5 proof done partli collabor david johnson christo papadimitri first prove hard minim maxutil second prove hard respect summationbas cost function like phi proof maxutil much easier help present basic idea need summat base cost function recal section 5 theorem 5 nphard optim maxutil ospf rout within proof theorem 5 prove result reduc 3sat problem optim ospf weight set respect maxutil precis let instanc 3sat variabl set x claus set c claus 3 liter cook 1971 construct instanc ospf weight set problem ffl exist satisfi assign 3sat instanc max util ospf instanc equal 1 ffl satisfi assign 3sat instanc maxutil weight set least 32 fx vx tx sx figur 20 reduct 3sat ospf maxutil construct graph g correspond 3sat instanc illustr figur 20 claus c 2 c associ node c 2 n node connect arc capac 2 global node w variabl x 2 x let jxj denot least power 2 bound number neg number posit occurr x x 2 x associ sourc x destin x demand 2jxj furthermor x three node v x f x x arc x arc v x balanc binari tree jxj leav root f x x posit neg occurr x claus c arc leaf f x x node c leaf use one occurr x claus leaf connect claus connect global node u turn connect w arc insid binari tree capac jxj arc leav claus u capac 1 arc u w capac x2x jxj x arc w x capac jxj canon flow network defin flow correspond assign valu variabl x precis canon flow jxj unit flow go v x x jxj unit go either x f x depend whether x true fals flow come x spread evenli get 1 unit leav leaf go either claus node c u jxj unit flow sent x w assign flow claus c 1 unit flow c w neg liter c thu claus c satisfi 2 neg liter load stay within capac c w otherwis load c w 3 util c w goe 32 load canon flow stay within capac suppos given noncanon flow satisfi ospf rout condit flow destin split split evenli show maxutil noncanon flow least 32 easi see noncanon flow satisfi least one follow condit x one v use exactli one use howev least one intern node one binari tree flow split children case arc use get flow 2jxj lead maxutil 2 case ii v x x use get flow x w x lead maxutil 2 case iii v use even split impli 12 flow goe x x 14 goe v x v x f x result must get 34 delta lead maxutil 32 case iv jxj unit flow arriv x f x consid node binari tree x f x flow split closest possibl x f x flow split evenli receiv exactli one unit flow leaf descend howev flow sent one child half mani descend leav one leav must receiv 2 unit flow twice capac outgo arc shown evenli split flow lead maxutil equal 1 flow canon correspond satisfi assign evenli split flow lead maxutil greater equal 32 remain show satisfi canon flow achiev suitabl set weight ospf rout done follow path x x go x use 4 log 2 jxj arc go f x use 5 log 2 jxj arc direct path arc canon flow lead true valu x flow split equal x split v x achiev path go x direct path weight path go f x larger weight give weight equal 3 weight equal 1 arc lead weight set canon flow lead fals valu x flow split x split equal v x achiev path go f x direct path weight path go x larger weight give weight equal 4 v x x weight equal 3 weight equal 1 arc lead weight set conclus exist satisfi assign exist ospf weight set lead maxutil 1 convers shown evenli split flow correspond satisfi truth assign maxutil greater equal 32 henc approxim maxutil within factor impli solut 3sat 2 prove result section 5 state inapproxim ospf weight set problem respect larg class cost function includ cost function phi theorem 4 let ff fi fix constant suppos total rout cost a2a psi psi l ffl l ca psi l ffca fi 52ff nphard optim ospf weight set respect a2a psi la within factor 072 optim recal section 5 theorem 4 impli inapproxim factor 31 cost function phi proof follow pattern use maxutil complex deal sum rather maximum base follow deep inapproxim result implicit hastad 1997 hastad person lemma 7 hastad given satisfi instanc maxsat claus 3 liter variabl number posit neg occurr nphard satisfi fraction 701800 claus proof theorem 4 prove result reduc satisfi instanc maxsat claus 3 liter variabl number posit neg occurr ospf weight set problem use lemma 7 reduct similar maxutil illustr figur 21 main differ rel construct maxutil subdivid arc path give higher weight cost function contract binari tree root x f x formal let c satisfi instanc maxsat variabl set x claus set c claus 3 liter variabl number posit neg occurr let jxj denot number occurr claus x c maxutil node c associ claus c 2 c connect node w path p c instead singl arc p c jp c capac 2 variabl x 2 x associ sourc x destin x demand 2jxj x outgo arc two node v x x arc v x node f x instead arc v x x path sx fx pc rx fx qx tx vx figur 21 reduct 3sat ospf cost function q x v x x arc jq x arc capac jxj x path p c c claus c x occur neg similarli f x path p c fx c claus c x occur posit path p c fx jp c jp c arc capac 1 final x 2 x path r x w x 3 arc capac jxj theorem 5 defin canon flow network flow correspond assign valu variabl x canon flow jxj unit flow go q x jxj unit go either x f x depend whether x true fals flow come x spread evenli p c get 1 unit flow go c similarli flow sent f x p c fx get 1 unit flow go c flow arriv claus c sent w via p c final x via r x assign flow everi claus c 1 unit flow p c neg liter c thu claus c satisfi 2 neg liter load stay within capac p c otherwis load p c one unit capac flow outsid claus path p c stay within capac hard result base show hard get flow cost close canon flow correspond satisfi truth assign sinc satisfi flow load within capac make approxim easier reduc cost load capac henc prove hard may assum remaind proof organ follow first show transform polynomi time noncanon even split flow canon flow smaller cost next show canon flow achiev suitabl weight set final appli lemma 7 show canon flow low cost hard find lemma 8 noncanon even split flow transform polynomi time canon flow smaller cost proof suppos noncanon flow show alway find flow lower cost easi see noncanon flow satisfi least one follow condit x one q ii q x use use iv flow f x p c fx path use b flow x p c path use case q x includ one receiv 2jxj unit flow ie jxj unit capac move extra flow split equal v x f x send one unit p c fx decreas cost q x fijq x jjxj none fx r x get capac use unit flow transfer path cost ff per arc p c could get increas jxj unit capac total increas cost due new rout bound jjxj net decreas cost thu fi 52ff similarli x x v x f x use move half flow q x empti lead decreas cost least count gain move flow claus path p c point path may load strictli capac lower bound cost case ii suppos use otherwis come back previou case r x jxj unit flow capac move jxj unit flow go f x empti jq x j lead decreas cost least case iii even split impli get jxj2 unit flow q x f x get jxj unit flow x move flow f x q x reduc flow trough r x 3jxj2 jxj place flow henc cost increas q x jxj2 jxj howev flow q x remain within capac total cost path bound ffjq x jjxj lead decreas cost thu assum q x exactli one f x x use iv deal case iva remain show f x includ benefici includ path p c fx suppos q includ includ afterward path p c fx exactli 1 unit flow correspond capac mean q unit flow move empti path previous capac howev q unit flow sent differ p c cost fijp c j lead cost decreas least case ivb cost decreas becom canon flow achiev suitabl ospf weight set proof path form x x go x f x use 207 arc path x use 104 arc canon flow lead true valu x flow split equal x split v x achiev path go x path x weight path go f x larger weight give weight equal 2 arc q x v x f x weight equal 1 arc lead weight set case fals valu assign x similar argument lead weight equal 2 arc q x x x weight equal 1 arc 2 readi finish proof theorem 4 lemma 8 know canon flow interest lemma 9 ensur flow obtain use ospf rout canon flow correspond satisfi assign valu variabl x load remain within capac moreov variabl x jxj unit flow sent x f x path use 207 arc jxj unit flow sent q x path use 104 arc lead total cost 311ff x2x jxj hand consid canon flow correspond assign satisfi 701800 claus rout q x p c p c fx r x cost ff per unit flow per arc sinc use path exactli load capac moreov unsatisfi claus c p c load 3 capac 2 thu contribut 2ff total cost total number claus total cost least ignor load may capac p c lemma 7 nphard get assign satisfi fraction 701800 claus conclud nphard approxim optim ospf weight set within factor conclud proof theorem 4 2 acknowledg would like thank david johnson jennif rexford use comment first author sponsor att research prize 1997 r local search combinatori optim discret mathemat optim reactiv tabu search design broadband virtual privat network model heurist bwin note hash function tabu search algo rithm univers class hash function complex theorem prove procedur univers hash kwise independ random variabl via integ arithmet without prime netscop traffic engin ip network experiment analysi dynam algorithm singlesourc shortest path problem futur path integ program link artifici intelli genc tabu searchpart tabu searchpart ii optim inapproxim result theori comput stoc polynomi time algorithm linear program art comput program iii sort search minimax open shortest path first rout algorithm network suppor smd servic ospf anatomi internet rout protoc increment algorithm gener shortestpath problem optim rout data network rout multipoint connect hash vector tabu search httpwww model internet work tr futur path integ program link artifici intellig hash vector tabu search increment algorithm gener shortestpath problem art comput program volum 3 experiment analysi dynam algorithm singl even strongli univers hash pretti fast detect combin occurr optim inapproxim result ospf local search combinatori optim tabu search univers hash kwise independ random variabl via integ arithmet without prime complex theoremprov procedur ctr hakan mit column gener approach igp weight set problem proceed 2005 acm confer emerg network experi technolog octob 2427 2005 toulous franc makarem bamatraf moham othman improv balanc heurist optim shortest path rout comput commun v30 n7 p15131526 may 2007 renata teixeira timothi g griffin mauricio g c resend jennif rexford tie break tunabl interdomain egress select ieeeacm transact network ton v15 n4 p761774 august 2007