realtim multitask softwar synthesi inform process system abstract softwar synthesi new approach focus support embed system without use oper system compar tradit design practic better util avail time hardwar resourc achiev static inform provid system specif fulli exploit applicationspecif solut automat gener ongo research softwar synthesi approach realtim inform process system present start concurr process system specif tri autom map descript singl processor intern represent model wellsuit support concurr time constraint propos togeth flexibl execut model multitask realtim constraint method illustr person termin receiv demodul mobil satellit commun b introduct target applic domain approach advanc realtim inform process system consum electron person commun system distinct characterist system coexist two differ type function name digit signal process control function requir differ time constraint support specif signal process function oper sampl data stream subject realtim constraint deriv requir sampl frequenc throughput control procedur vari natur execut soon possibl like eg manmachin interfac eventu execut delay usual compromis integr entir system soft deadlin stringent constraint like eg critic feedback control loop hard deadlin tradit realtim kernel ie special oper system use softwar support design embed system 5 small kernel often strippeddown version tradit timeshar operatingsystem first place design fast eg fast context switch realtim kernel provid runtim support realtim multitask perform softwar schedul primit interprocess commun synchron access hardwar resourc sinc process consid black box workwa supportedbi europeancommiss undercontract kernel appli coars grain model process schedul ing kernel tend use fix prioriti preemptiv schedul mechan process prioriti use mimic time constraint altern tradit process schedul approach use time constraint specifi process period releas time deadlin 11 design viewpoint howev constraint natur specifi respect occurr observ event moreov schedul knowledg time stamp event gener process consequ exploit assign process prioriti case fix prioriti schedul scheme manual task perform without tool support typic iter errorpron design cycl lot code prioriti tune quir inflex time consum also restrict proof correct select stim uli addit behavior schedul peak load condit hard predict result often underutil system stay safe side safer guarante timeli preruntim new famili kernel tend attain 5 moreov kernel trade optim gener iti caus associ runtim memori overhead softwar synthesi 127 altern approach realtim kernel start system specif typic compos concurr commun process aim softwar synthesi automat gener sourc code realiz 1 specifi function satisfi time constraint 2 typic runtim support requir realtim system multi task primit process commun synchron better util avail time hardwar resourc achiev softwar syn thesi static inform provid system specif fulli exploit consequ automat gener runtim support custom dedic particular applic need gener case realtim kernel moreov accur static analysi provid earli feedback design feasibl input specif way iter design cycl typic realtim kernel avoid satisfact time constraint guarante automat besid transform optim envis softwar synthesi approach tri autom code tune final sinc output softwar synthesi sourc code portabl easili achiev mean retarget compil 6 softwar synthesi approach vulcan framework allow specifi latenc rate time con straint program thread extract system specif order isol oper unknown time delay simpl nonpreempt controlfifo base runtim schedul altern execut provid restrict support satisfi constraint sinc thread execut put runtim fifo reorder moverov interrupt support due choic nonpreempt schedul approach taken chinook 2 system suffer similar restrict although preemption allow base watchdog paradigm resum preemption point difficult henc interrupt support system target toward reactiv control system support time constraint state transit latenc oper rate constraint support typic dsp applic rest paper structur follow section 2 introduc system represent concept use section 3 two differ execut model step possibl softwar synthesi script discuss reallif illustr approach subject section 4 fi nalli section 5 draw conclus system represent model assum target applic model concurr process descript captur oper havior data depend oper concurr commun 89 precis semant specif beyond scope paper specif constraint graph deriv contain suffici inform softwar synthesi problem introduc defin program thread linear set oper may may start nondeterminist time delay oper 7 exampl ndoper synchron intern extern event wait commun unbound loop purpos extract program thread concurr process input specif isol uncertainti relat execut delay given program begin program thread program thread execut use singl thread control present contemporari processor properti execut latenc comput static besid defin ndoper program thread also captur concurr multir transit new represent model base constraint graph 10 built extract thread model allow static analysi impos time constraint thread schedul vertex repres program thread edg captur data depend control preced time constraint thread specifi calli let ffi v execut delay thread repres vertex repres minimum time constraint v v j event 1 event 2 event 1 event art event art event 2 artifici event art event 1 art event 2 minimum maximum time constraint frame cluster event event event 4 b frame 1 frame 2 frame 3 frame 4 frame 5 frame 6 10event 4 figur 1 exampl constraint graph ie requir start time v j must occur least w ij unit time later v similarli maximum time constraint two thread v v j indic backward edg neg weight w ij repres requir end time v must occur later j w ij j unit time later end time final ndoper repres separ event node exampl given figur 1 model differ 10 abstract level cg node approach cg node isol group oper correspond static program part 10 individualoper cg entiti moreov 10 cg restrict singl connect graph abl captur process concurr restrict lift approach intern event introduc synchron concurr graph captur process concurr also support multir place rel execut rate number control edg definit uncertainti relat time behavior system specif captur event node sinc arriv time event unknown compil time event node limit extent analysi synthesi perform static second step thread cluster socal thread frame figur 1 b purpos identifi thread frame partit initi constraint graph disjoint cluster thread trigger singl event static analysi synthesi eg schedul perform cluster rel associ event remark sequenc edg exist frame accord origin system specif event set ev node v defin set event node predecessor v artifici event introduc thread event set contain least two element exist path graph event fact intern event must observ taken care execut model similar way extern event trigger directli environ execut model take care activ runtim differ thread frame accord origin specif take account sequenc occur event impos time constraint way unknown delay execut program thread appear delay schedul program thread consid part thread latenc 3 execut model implement section execut model implementa tion ie map represent model singl thread control target processor describ although cg model target independ paper focuss singl processor target 31 execut model block model cyclic execut combin interrupt routin simpl cost effect solut runtim thread frame activ consist use simpl event loop background combin tie differ thread frame processor interrupt assign frame event loop intern schedul frame done compiletim event loop background poll roundrobin fashion occurr event trigger differ thread frame accordingli start execut appropri frame sequenti processor interrupt present cheap way support hardwar asynchron start thread frame suspend current execut frame processor interrupt mask prioriti level use select allow interrupt time critic thread frame section favor high prioriti frame frame trigger event correspond interrupt either extern hardwar intern peripher interrupt start asynchron frame place background event loop moreov background frame start event loop block processor till end execut prevent frame event loop start henc name block execut model execut length frame limit respons time event event loop therefor limit scope model nonblock model use runtim schedul figur outlin execut model take twolevel schedul approach static schedul ie compiletim perform thread cluster determin rel order thread within thread frame assumpt order chang anymor dynam schedul phase runtim small preemptiv timedriven schedul take care composit interleav differ thread frame accord system evolut time constraint ad dition tri avoid activ wait schedul frame next frame readi execut way maxim processor util runtim behavior illustr lower part fig b frame slack frame slack l b l 3static schedul static schedul 2 runtim 1 compiletim event runtim schedul time event1 event2 b1 frame 2 frame time l l b event figur 2 runtim execut model frame slack schedul metric b ure 2 start idl state suppos event 1 occur event activ runtim schedul sinc frame current activ thread first frame execut order determin previous static schedul order 132 occurr event 2 execut thread 3 first frame caus follow action 1 thread 3 interrupt 2 runtim schedul invok determin subsequ execut der exampl rest thread 3 b 2 execut proce newli determin thread order indic rel order thread frame chang allow effici implement runtim schedul must necessarili fast schedul metric use runtim schedul frame slack time inform deriv static base impos time constraint rel thread order within frame frame slack indic amount time end individualthread thread frame postpon rel static schedul violat time constraint illustr figur 2 b frame slack defin minimum thread slack ie remain time end thread time constraint succeed thread static schedul frame slack deriv compil time use updat runtim formal descript model refer 3 32 script figur 3 give overview propos approach concurr process specif differ program thread extract nondeterminist time delay isol event node step code gener provid static estim thread execut time execut time place togeth time constraint constraint graph abstract model use sequel approach assign extern processor interrupt event node constraint runtim execut execut model select thread transform thread frame buffer alloc machin code concurr process specif code gener code gener constraint graph thread extract estim estim schedul thread frame assign extern event figur 3 possibl softwar synthesi script graph determin context system provid user select one two execut model explain five task phase coupl per form thread frame cluster tri cluster constraint graph disjoint group thread trigger event set thread frame activ runtim select execut model sinc event introduc overhead frame schedul also want minim number cluster without violat time constraint static frame schedul determin compiletim rel order thread insid identifi thread frame occasion time constraint met identifi frame case transform step thread frame resolv problem provid optim solu tion exampl transform given illustr section 4 buffer alloc insert requir buffer commun frame deriv buffer size execut rate frame time analysi use differ phase upon entri tool check consist user specifi time constraint subsequ execut tool verifi whether result synthesi task still satisfi constraint outcom softwar synthesi schedul thread frame possibl depend execut model cho sen small runtim execut activ appropri frame runtim compil code gener link togeth afterward 4 illustr approach system descript concurr commun process specif figur 4 outlin process specif mobil termin receiv demodul use msbn satellit commun network 4 network allow bidirect data voic commun star network consist fix earth station multipl mobil station two differ data channel call pilot traffic channel sent transmiss carrier use cdma techniqu ie correl channel orthogon pseudonois code enabl use frequenc spectrum without interfer former channel carri network system inform eg averag channel bit error rate latter carri actual user data acquisit track transmiss carrier perform pilot channel cooper intellig antenna trigger extern interrupt read decorr process read period rate 34 khz memori map decorrel fpga process send data track pilotdemod traffic demod pro cess perform track transmiss carrier demodul ie gain carrier phase bit phase correct 13 rate convers demodul traffic data format traffic manag data process via send vocod process transmit second memori map processor contrast demodul pilot data process processor track pilotdemod process deliv demodul data pilot manag data process steer frequenc nco numer control os cillat preceed analog demodul part use onchip serial peripher moreov togeth traffic demod process send inform concern carrier synchron display led process write antenna process channel decod demodul pilot data carri pilot dsp function process oper 1024 element frame basi multir transit present pilot manag data latter process output data pilot channel decod sent pc comput use onchip dma engin setup dma process trigger output data avail pilot dsp function process set start dma process asynchron chain period process read sy cmd read antenna process control intern paramet demodul process respect perform manmachin interfac connect system use memori map flag allow user alter system oper paramet interfac antenna control connect via extern terrupt former sporad process sinc user adapt paramet allow larg respons time latter timecrit pro cess antenna control loos beam signal immedi demodul must take special retrack action constraint graph represent figur 5 outlin constraint graph thread frame cluster demodul captur thread depend time constraint reason clariti thread execut time indic three event node introduc captur time uncertainti period interrupt decorrel interrupt antenna control ev ant set poll flag manmachin pilot managedata corrsymbol trackpilot rsdecod pilot dsp function compos packet readdecorr8from decorrel read 8 byte modifi paramet pc mem map readsyscmd pc cmd nco serial peripher serialperiph control flow data flow peripher process wait data io port paramet rate convers pc via serial2 fpga dma process dma dmainterrupt antenna led traffic demod displayl trafficstatuspilotstatu 1to 2nd dsp proc mem map traffic sendvocod antenna readantenna reset readi acqu set para figur 4 concurr process specif msbn demodul readsi cmd readantenna readdecorr trackpilotdemod formatdata traffic demod pilotdspfunct managedata sendvocod wait event time constraint framedemodul framepilotdspfunct framereadantenna display led antenna ev cut ev ant ev sy ev decorr framereadsyscmd figur 5 constraint graph msbn demodul frame cluster terfac ev sy extra event ev cut present origin cg introduc frame cluster see remark event node make abstract whether implement interrupt poll loop program thread captur also concurr rate convers process origin user specif combin one program thread eg manag datasend vocod time constraint ad backward edg eg edg manag datasend vocod pe riodic event node express end thread must execut start occurr next event thu next period thread frame cluster transform first instanc cyclic execut base execut model tri prove satisfactori applic thread frame cluster transform alreadi ad cg figur 5 four differ thread frame identi fie three accord origin event one artifici event introduc frame cut transform although event set pilot dsp function setup dma thread eg track pilot demodformat data thread place separ frame time constraint execut time frame trigger decorrel event 1024th execut accord rel rate 11024 last thread would becom longer period period event thu conflict time constraint cut pilot dsp function setup dma frame introduc artifici event ev cut check 1024th execut preceed frame allow execut model overlap 1024 execut frame demodul frame pilot dsp function anoth transform call rate match appli manag data send vocod thread insert rate counter check rel event occurr base caus condit execut rate thread match frame rate implement final implement static frame schedul introduct commun buffer inclus execut model shown figur 6 frame read sy cmd frame pilot dsp function frame place background event loop cyclic execut base execut model thu roundrobin schedul manmachin frame possibl nonstring time constraint respons time user set new system command limit execut time frame pilot dsp function two frame trigger activ environ use correspond hardwar interrupt remark frame frame demodul interrupt unmask target processor default allow interrupt nest ing allow interrupt frame read antenna order reduc respons time antenna loos carrier bottom figur 6 behavior cpu processor peripher outlin timeaxi seen clearli frame pilot dsp function frame process previou data frame background frame demodul frame activ hardwar interrupt process consecut 1024 data sampl next frame consid kind process timefold also seen command read 8 byte modifi paramet pc mem map cmdreadi roundrobin event loop antenna mem map framereadantenna antreadi reset readi acqu trackpilot traffic demod antenna traffic managedata 2nd dsp proc pilot managedata displayl led nco serial peripher framedemodul decorrel fpga corr symbol readdecorr sendvocod int data 3 3unmask intframeread syscmd sequenc edg assign int data flow ad sourc code dma process pc serial function dma setupstart dma1024sendbuff framepilot dspfunction dma int data dma serial port read antenna interrupt unmask dma int 1024 activ demodulate1 1 start pilot dsp function start pilot dsp functionswrit pilot data cpu peripherals1024 dma disabl interrupt figur final implement msbn demodul terrupt nest frame read antenna frame dma interrupt routin disabl dma engin transfer complet occur frame demodul frame result overhead impli use block execut model minim requir infinit loop two condit test background event loop regist context saverestor support processor hardwar interrupt routin overhead compar situat realtim kernel use implement runtim behavior figur 4 origin specif consist twelv concurr user process hierarchi straightforwardli implement use kernel semaphor primit signal two task data avail result consider runtim overhead compar solut propos addit requir extra program memori hold kernel program code howev care manual tune orgin specif collaps number user process kernel solut could approach tune howev manual task contrast autom tuningand transform process approach whichwork across divis specif process user conclus approach paper tackl softwar support problem sourc level contrast contemporari coarsegrain blackbox approach propos approach tri exploit knowledg applic hand appli transform optim specif gener applic specif solut automat support timeli method base represent model compos program thread constraint graph featur select execut model combin detail static analysi input specif result static partit input specif static schedul parti tion runtim activ dynam composit specif partit r hardwaresoftwar codesign embed sy tem softwar schedul cosynthesi reactiv realtim system softwar synthesi realtim inform process system mobil satellit busi network msbn system requir specif survey realtim oper system chess retarget code gener embed dsp processor cosynthesi hardwar softwar digit embed system concurr c program lan guag ieee standard vhdl languag refer manual rel schedul time con straint schedulingprocess releas time dead line preced exclus relat tr concurr c program languag schedul process releas time deadlin preced exclus relat rel schedul time constraint cosynthesi hardwar softwar digit embed system softwar schedul cosynthesi reactiv realtim system hardwaresoftwar codesign embed system ctr youngsoo shin kiyoung choi softwar synthesi task decomposit depend analysi proceed 1996 ieeeacm intern confer computeraid design p98104 novemb 1014 1996 san jose california unit state marco sgroi luciano lavagno yosinori watanab alberto sangiovannivincentelli synthesi embed softwar use freechoic petri net proceed 36th acmiee confer design autom p805810 june 2125 1999 new orlean louisiana unit state bill lin compil concurr program embed sequenti execut integr vlsi journal v40 n2 p106117 februari 2007 jordi cortadella alex kondratyev luciano lavagno marc massot sandra moral claudio passeron yosinori watanab alberto sangiovannivincentelli task gener compiletim schedul mix datacontrol embed softwar proceed 37th confer design autom p489494 june 0509 2000 lo angel california unit state f thoen j van der steen g de jong g goossen h de man multithread system model realtim embed softwar synthesi proceed 1997 european confer design test p476 march 1720 1997 steven vercauteren bill lin hugo de man strategi realtim kernel support applicationspecif hwsw embed architectur proceed 33rd annual confer design autom p678683 june 0307 1996 la vega nevada unit state b lin effici compil processbas concurr program without runtim schedul proceed confer design autom test europ p211217 februari 2326 1998 le palai de congr de pari franc bill lin softwar synthesi processbas concurr program proceed 35th annual confer design autom p502505 june 1519 1998 san francisco california unit state