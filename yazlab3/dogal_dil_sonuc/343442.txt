statementlevel communicationfre partit techniqu parallel compil paper address problem communicationfre partit iter space data space along hyperplan find possibl communicationfre hyperplan partit treat statement within loop bodi separ schedul unit instead use inform data depend distanc direct vector techniqu explicitli formul array refer transform statementiter space data space base transform necessari suffici condit communicationfre partit along hyperplan feasibl propos approach appli program imperfectli nest loop sequenc imperfectli nest loop whose array refer affin function outer loop indic loop invari variabl propos approach practic exist method find data comput distribut pattern caus processor execut fullyparallel multicomput without interprocessor commun b introduct wide accept local memori access much faster memori access involv interprocessor commun distributedmemori multicomput data comput properli distribut across processor may caus heavi interprocessor commun although problem data distribut critic import effici parallel program distribut memori multicomput known difficult problem mace 14 prove find optim data storag pattern parallel process npcomplet even limit one twodimension array addit li chen 11 12 shown problem find optim data align also npcomplet thu previou work number research develop parallel compil need programm specifi data storag pattern base programmerspecifi data partit parallel compil automat gener parallel program appropri messag pass construct multicomput project use approach includ fortran compil project 4 5 18 superb project 21 kali project 9 10 dino project 17 purpos crystal project 11 12 compil 16 deal function languag gener parallel program messag pass construct parallel program gener system spmd singleprogram multipl data 8 model recent automat data partit attract research topic field parallel compil mani research develop system help programm deal problem data distribut automat determin data distribut compil time paradigm project 3 suif project 1 19 base purpos system automat determin appropri data distribut pattern minim commun overhead gener spmd code appropri messag pass construct distribut memori multicomput sinc excess interprocessor commun offset benefit parallel even program larg amount parallel consequ parallel compil must pay attent distribut comput data across processor reduc commun overhead complet elimin interprocessor commun possibl communicationfre partit therefor becom interest worth studi issu distributedmemori multicomput recent year much research focus area partit iter space andor data space reduc interprocessor commun achiev highperform comput ramanujam sadayappan 15 consid problem communicationfre partit data space along hyperplan distribut memori multicomput present matrixbas formul problem determin exist communicationfre partit data array approach propos array decomposit take iter space partit consider addit concentr fulli parallel nest loop focu twodimension data array huang sadayappan 7 gener approach propos 15 consid issu communicationfre hyperplan partit explicitli model iter data space provid condit feasibl communicationfre hyperplan partit howev deal imperfectli nest loop moreov approach restrict looplevel partit ie statement within loop bodi must schedul togeth indivis unit chen sheu 2 partit iter space first accord data depend vector obtain analyz refer pattern nest loop group data element access iter partit two communicationfre partit strategi nondupl data duplic data strategi propos paper nevertheless requir loop contain uniformli gener refer problem domain restrict singl perfectli nest loop also treat statement within loop bodi indivis unit lim lam 13 use affin processor map statement assign statementiter processor maxim degre parallel avail program approach treat loop bodi indivis unit assign differ statementiter differ processor howev consid statementiter space partit address issu data space partit furthermor uniform affin processor map caus larg number idl processor affin map nonunimodular transform paper communicationfre partit statementiter space data space along hyperplan consid explicitli formul array refer transform statementiter space data space base transform present necessari suffici condit feasibl communicationfre hyperplan partit current exist partit scheme take iter instanc basic schedul unit alloc processor loop bodi contain multipl statement difficult make loop communicationfre execut alloc iter instanc among processor chanc communicationfre execut found use method limit flexibl possibl find communicationfre hyperplan partit treat statement within loop bodi separ schedul unit method consid one iter space data space 13 method extend handl gener loop model appli program imperfectli nest loop affin array refer rest paper organ follow section 2 introduc notat terminolog use throughout paper section 3 describ characterist statementlevel communicationfre hyperplan partit techniqu statementlevel communicationfre hyperplan partit perfectli nest loop present section 4 necessari suffici condit feasibl communicationfre hyperplan partit also given extens gener case sequenc imperfectli nest loop describ section 5 final conclus given section 6 preliminari section explain statementiter space data space also defin statement iter hyperplan data hyperplan 21 statementiter space data space let q z z denot set ration number set integ set posit integ number respect symbol z repres set dtupl integ tradit iter space compos discret point point repres execut statement one iter loop 20 instead view iter indivis iter divid statement enclos iter ie statement schedul unit iter space use anoth term statementiter space denot iter space statement nest loop follow exampl illustr notion iter space statementiter space exampl 1 consid follow nest loop l 1 fig 1 illustr iter space statementiter space loop l 1 5 fig 1a circl mean iter includ two rectangl black gray color black rectangl indic statement 1 gray one indic statement 2 fig 1b fig 1c statement individu unit collect statement form two statementiter space 2 represent statementiter space data space relat among describ follow let denot set statement target problem domain set array variabl referenc consid statement 2 enclos dnest loop statementiter space denot siss subspac z defin loop index variabl lb ub lower upper bound loop index variabl respect superscript transpos oper column vector call statementiter statementiter space siss lb ub hand geometr point view array variabl also form space array element point space exactli describ array variabl use data space repres ndimension array v denot dsv v 2 array element correspond data index data space dsv denot data index column vector relat statementiter space data space built via array refer function array refer function transform statementiter space data figur 1 loop l 1 iter space correspond statementiter space assum 5 isl 1 iter space loop l 1 b siss 1 statementiter space statement statementiter space statement 2 space exist method requir array refer affin function outer loop indic loop invari variabl suppos statement enclos dnest loop array refer pattern va 11 1 ij integ constant 1 n array refer function written f sv 6 4 11 delta delta delta 1d 10 term f sv array refer coeffici matrix f sv array refer constant vector data index v 2 dsv referenc statementiter 2 siss ref sv take array refer pattern exampl array refer coeffici matrix constant vector ai f f gamma4 respect defin statementiter hyperplan data hyperplan next subsect 22 statementiter hyperplan data hyperplan statementiter hyperplan statementiter space siss denot psi hyperspac 6 siss defin psi h coeffici statementiter hyperplan c h 2 q constant term hyperplan formula abbrevi psi h statementiter hyperplan coeffici vector similarli data hyperplan data space dsv denot phiv hyperspac dsv defin coeffici data hyperplan c g 2 q constant term hyperplan way formula also abbrevi phi data hyperplan coeffici vector hyperplan includ least one integ point consid paper statementiter hyperplan data hyperplan use character communica tionfre partit discuss characterist next section 3 characterist communicationfre hyperplan partit ing program execut communicationfre oper processor access data element alloc processor trivial partit strategi alloc statement iter data element singl processor program execut trivial partit communicationfre howev interest singl processor program execut exploit potenti parallel conflict goal parallel process henc paper consid nontrivi partit specif hyperplan partit formal definit communicationfre hyperplan partit defin let partit group g set hyperplan assign one processor definit communica tionfre hyperplan partit given follow 1 hyperplan partit statementiter space data space said communicationfre partit group statementiter access array element alloc statementiter hyperplan therefor import decid statementiter access array element follow lemma state necessari suffici condit two statementiter access array element lemma 1 statement 2 referenc array v 2 0 two statement iter siss ref sv array refer function siss dsv defin ker denot null space 6 proof suppos ref sv thu convers suppos 0 basi kerf sv vector belong kerf sv repres linear combin vector fff 1 g sinc 0 thu ref sv use follow exampl exampl 2 consid array refer ai j array refer coeffici null space f sa kerf sa zg lemma 1 two statementiter differ r1 gamma1 access array element z fig 2 show statementiter f1 3 2 2 3 1g access array element a4 4 2 explain signific lemma 1 show lemma help find com municationfre hyperplan partit communicationfre hyperplan partit requir statementiter access array element alloc statementiter hyperplan accord lemma 1 two statementiter access array element differ two statementiter belong kernel f sv henc subspac statementiter hyperplan sinc may exist mani differ array refer partit statementiter space must consid array refer appear statement thu space span kerf sv array refer appear statement subspac statementiter hyperplan figur 2 statementiter whose differ kerf sv access array element dimens statementiter hyperplan one less dimens statement iter space exist statement dimens span space equal dimens siss span space subspac statementiter hyperplan therefor exist nontrivi communicationfre hyperplan partit observ obtain follow theorem theorem 1 9s 2 dimspan v2d kerf sv exist nontrivi communicationfre hyperplan partit 2 exampl 3 consid matrix multipl program three array variabl b c three distinct array refer involv statement three array refer coeffici matric f sa f sb f sc respect thu kerf sa dimension statement iter space theorem 1 matrix multipl nontrivi communicationfre hyperplan partit 2 theorem 1 use determin nest loop nontrivi communica tionfre hyperplan partit furthermor nontrivi communicationfre hyperplan partit exist theorem 1 also use find hyperplan coeffici vector state result follow corollari corollari 1 communicationfre statementiter hyperplan psi h follow two condit must hold denot orthogon complement space proof lemma 1 two statementiter access data element use array refer f sv differ two statementiter belong kernel f sv therefor kernel f sv contain statementiter hyperplan fact true array refer appear statement henc first condit obtain normal vector psi h delta orthogon condit 1 impli delta orthogon subspac span v2d kerf sv thu belong orthogon complement span v2d kerf sv corollari 1 give rang communicationfre statementiter hyperplan coeffici vector use find communicationfre statementiter hyperplan coeffici vector hand rang communicationfre data hyperplan coeffici vector also given follow mention relat statementiter space data space establish via array refer moreov statementiter hyperplan coeffici vector data hyperplan coeffici vector relat follow lemma express relat two hyperplan coeffici vector similar result given 7 lemma 2 statement 2 referenc array v 2 ref sv array refer function siss dsv psi h communicationfre hyperplan partit proof suppos psi h communicationfre hyperplan partit let 0 00 two distinct statementiter belong statementiter hyperplan psi h 0 v 00 two data indic ref sv 0 v ref sv 00 v assumpt 0 v 00 belong data hyperplan phi g v 0 00 belong statementiter hyperplan psi h delta delta 0 delta delta 00 therefor 1 note delta row vector howev delta delta orthogon psi hs hand sinc 0 v 00 v belong data hyperplan phi g v mean theta delta 0 theta delta 00 thu theta delta 0 sinc 0 00 two statementiter statementiter hyperplan psi h vector statementiter hyperplan furthermor delta delta theta delta f sv henc conclud delta theta delta f sv linearli depend impli hyperplan partit siss dsv respect phi g v communicationfre partit accord definit 1 prove v let statementiter statementiter hyperplan psi h delta assumpt fftheta let c v shown 8i 2 psi h ref sv phi g v follow psi h phi g v communicationfre partit 2 lemma 2 statementiter hyperplan coeffici vector delta decid data hyperplan coeffici vector theta determin f sv invert statementiter hyperplan coeffici vector decid first data hyperplan coeffici vector deriv rang communicationfre data hyperplan coeffici vector deriv lemma corollari 1 show rang statementiter hyperplan coeffici vector next corollari provid rang data hyperplan coeffici vector corollari 2 communicationfre data hyperplan phi g follow condit must hold denot complement set proof paper consid nontrivi hyperplan partit requir delta nonzero vector lemma 2 therefor theta delta f sv equal 0 impli theta 62 kerf sv condit true 2 henc theta 62 s2 kerf sv follow theta belong complement s2 kerf sv consid follow loop nest loop communicationfre statementiter hyperplan coeffici vector 1 2 data hyperplan coeffici vector v 1 v 2 respect f0g show delta 1 delta 2 satisfi corollari 1 follow test corollari 2 theta 1 theta 2 theta section describ communicationfre hyperplan partit techniqu necessari suffici condit communicationfre hyperplan partit singl perfectli nest loop present 4 communicationfre hyperplan partit perfectli nest loop data array correspond data space howev nest loop multipl statement may multipl statementiter space section consid addit condit multipl statementiter space communicationfre hyperplan partit condit also use determin statementiter hyperplan data hyperplan number occurr array variabl v j statement r ij r ij refer v j r ij set 0 previou represent array refer function modifi slightli describ array refer statement variabl kth occurr ref v j relat represent chang accordingli ref v j section partit group contain statementiter hyperplan statementiter space data hyperplan data space consid suppos data hyperplan data space dsv j phi g v j g theta j delta let result statementiter access data lay data hyperplan phi g v j g locat statementiter hyperplan psi h g simplifi present assum variabl v j appear everi statement satisfi statementiter space contain uniqu statementiter hyperplan follow two condit met j j condit infer follow two equival equat condit ii deduc follow two equat vice versa eq 6 use evalu data hyperplan constant term constant term fix say c furthermor obtain follow result j c g j 1 therefor infer obtain follow describ condit satisfi communicationfre hyperplan partit constraint conclud follow theorem theorem 2 let set statement array variabl respect ref v j k array refer function statement access array variabl v j kth occurr g statementiter hyperplan siss v j g data hyperplan dsv j v j communicationfre hyperplan partit follow condit hold j k g j k g theorem 2 use determin whether nest loop communicationfre also use procedur find communicationfre hyperplan partit systemat condit c1 c4 theorem 2 use find data hyperplan coeffici vector condit c5 check whether data hyperplan coeffici vector found preced step within legal rang follow determin data hyperplan coeffici vector statementiter hyperplan coeffici vector obtain use condit c6 similarli condit c7 check whether statementiter hyperplan coeffici vector within legal rang data hyperplan constant term statementiter hyperplan constant term obtain use condit c8 c9 respect one condit violat whole procedur stop verifi nest loop communicationfre hyperplan partit hand combin equat 3 5 togeth suffici condit commu nicationfre hyperplan partit deriv follow r ij r ij satisfi constraint theta nonzero row vector follow condit true r ij r ij note condit similar result 7 looplevel hyperplan partit conclud follow corollari corollari 3 suppos set statement array variabl respect f v j k array refer coeffici matrix constant vector respect ng k 2 g communicationfre hyperplan partit exist eq must hold 2 theorem 1 corollari 3 use check absenc communicationfre hyperplan partit nest loop condit suffici necessari theorem 1 statementiter space dimens test corollari 3 data space dimens test determin exist communicationfre hyperplan partit need check condit theorem 2 show follow exampl explain find commun free hyperplan statementiter space data space exampl 5 reconsid loop l1 set statement fs set array variabl fv b occurr array variabl r 2 section 21 array refer coeffici matric constant vector statement 1 2 list respect gamma1 1 gamma1 gamma2 2 theorem 1 may exist communicationfre hyperplan partit loop l 1 corollari 3 loop test possibl exist nontrivi communicationfre hyperplan partit array variabl v 1 follow inequ satisfi 2 similarli respect array variabl v 2 follow inequ obtain 2 although eq 9 hold array variabl still ensur loop nontrivi communicationfre hyperplan partit use theorem 2 check exist nontrivi communicationfre hyperplan partit mean time statementiter data hyperplan deriv exist recal dimens data space dsv 1 dsv 2 two theta 1 theta 2 assum respect condit list theorem 2 check determin hyperplan coeffici vector constant condit c1 theorem 2 follow equat obtain condit c2 theorem 2 condit c3 theorem 2 condit c4 theorem 2 substitut respect equat form homogen linear system solv homogen linear system obtain gener solut f0g therefor theta next show theta 1 theta 2 satisfi condit c5 theta theta statementiter hyperplan coeffici vector determin use condit c6 theorem 2 note statementiter hyperplan coeffici vector may obtain use mani differ obtain use theta 1 1 condit c1 c2 theorem 2 ensur equat lead result statementiter hyperplan coeffici vector condit c7 satisfi next determin data hyperplan constant term due hyperplan relat hyperplan constant term determin constant term determin accordingli assum c g 1 known c g 2 c h 2 determin use condit c8 c9 similarli statementiter data hyperplan constant term evalu use mani differ equat howev condit c3 c4 theorem 2 ensur lead valu clear exist least one set nonzero statementiter data hyperplan coeffici vector condit list theorem 2 satisfi theorem 2 fact impli nest loop nontrivi communicationfre hyperplan partit partit group defin set statementiter data hyperplan alloc processor partit group exampl follow given loop bound 1 constant term c g 1 correspond statementiter hyperplan coeffici vector delta 1 delta 2 rang gamma5 3 0 respect intersect part two rang mean two statementiter hyperplan coupl togeth onto processor rest one statementiter hyperplan either delta 1 delta 2 alloc processor constant term c g 2 c h 2 evalu follow valu correspond parallel program follow doall enddoal fig 3 illustr communicationfre hyperplan partit particular partit 2 2 communicationfre hyperplan partit techniqu perfectli nest loop discuss section method treat statement within loop bodi separ schedul unit consid iter data space time partit group determin use affin array refer function directli instead use data depend vector 5 communicationfre hyperplan partit sequenc imperfectli nest loop condit present section 4 communicationfre hyperplan partit applic gener case sequenc imperfectli nest loop perfectli nest loop figur 3 communicationfre statementiter hyperplan data hyperplan partit group loop l 1 2 statementiter hyperplan siss 1 b statementiter hyperplan siss 2 c data hyperplan dsa data hyperplan dsb statement enclos depth nest loop ie statementiter space statement dimension statementiter space two statement imperfectli nest loop may differ dimens sinc statementiter schedul unit partit techniqu independ dimension statementiter space theorem 2 directli appli sequenc imperfectli nest loop follow exampl demonstr techniqu appli sequenc imperfectli nest loop exampl consid follow sequenc nest loop l 2 set statement fs g set array variabl respect valu r 11 r 12 r 13 r r 43 1 use theorem 1 corollari 3 verifi whether l2 communicationfre hyperplan partit sinc dim smaller dimsiss theorem 1 helpless ensur l2 exist communicationfre hyperplan partit corollari 3 useless valu 1 examin necessari theorem 1 corollari 3 prove l2 communicationfre hyperplan partit theorem 2 communicationfre hyperplan partit exist condit list theorem 2 satisfi otherwis l2 exist communicationfre hyperplan partit due dimens data space dsv 1 tive without loss gener data hyperplan coeffici vector respect assum theta follow requir satisfi feasibl communicationfre hyperplan partit examin onebyon need examin condit c1 c3 valu r ij 1 condit c2 obtain condit c4 obtain solv linear system gener solut 11 12 21 22 31 2t gammat f0g therefor theta verif condit c5 follow theta theta theta data hyperplan coeffici vector within legal rang statementiter hyperplan coeffici vector determin condit c6 follow legal statementiter hyperplan coeffici vector check condit c7 follow observ statementiter data hyperplan coeffici vector legal fact reveal nest loop communicationfre hyperplan partit next data statementiter hyperplan constant term decid first let one data hyperplan constant term fix say c rest data hyperplan constant term determin condit c8 similarli statementiter hyperplan constant term determin condit c9 data hyperplan constant term decid correspond partit group follow v 3 v 3 fig 4 illustr communicationfre hyperplan partit partit group c g 1 0 correspond parallel program follow doall endif enddoal 6 conclus paper present techniqu find statementlevel communicationfre hyperplan partit perfectli nest loop sequenc imperfectli nest loop necessari suffici condit feasibl communicationfre partit along hyperplan propos techniqu appli loop affin array refer use inform data depend distanc direct vector although goal determin communicationfre partit loop realiti loop communicationfre program communicationfre techniqu figur 4 communicationfre statementiter hyperplan data hyperplan partit group loop l 2 statementiter hyperplan siss 1 b statementiter hyperplan siss 2 c statementiter hyperplan siss 3 statementiter hyperplan siss 4 e data hyperplan dsa f data hyperplan dsb g data hyperplan dsc use identifi subset statementiter data space communicationfre statementiter necessari gener commun code two import task futur work develop heurist search subset statementiter communicationfre gener effici code commun inevit r global optim parallel local scalabl parallel machin communicationfre data alloc techniqu parallel compil multicomput demonstr automat data partit techniqu parallel compil multicomput compil fortran mimd distributedmemori machin evalu compil optim fortran englewood cliff communicationfre hyperplan partit nest loop program parallel compil program nonshar memori machin compil global namespac parallel loop distribut ex ecut index domain align minim cost crossreferenc distribut array data align phase compil program distributedmemori machin communicationfre parallel via affin transform memori storag pattern parallel process compiletim techniqu data distribut distribut memori machin process decomposit local refer dino parallel program languag optim fortran compil mimd distributedmemori machin loop transform theori algorithm maxim parallel high perform compil parallel comput superb vienna fortran tr ctr wenglong chang chihp chu jiahwa wu communicationfre align array refer linear subscript three loop index variabl quadrat subscript journal supercomput v20 n1 p6783 august 2001 skew data partit align techniqu compil program distribut memori multicomput journal supercomput v21 n2 p191211 februari 2002 wenglong chang jihwoei huang chihp chu use elementari linear algebra solv data align array linear quadrat refer ieee transact parallel distribut system v15 n1 p2839 januari 2004