partial correct probabilist demon program recent work sequenti program semant produc oper et al sci comput program 282 axiomat morgan et al acm tran program languag system 183 1996 325353 seidel et al tech report prgtr696 program research group februari 1996 treatment total correct probabilist demon program extend kozen origin work j comput system sci 22 1981 328350 kozen proc 15th acm symp theori comput acm new york 1983 ad demon nondetermin practic applic eg combin loop invari termin constraint import retain tradit distinct partial total correct jone monograph ecslfcs90105 phd thesi edinburgh univers edinburgh uk 1990 defin probabilist partial correct probabilist demon program paper combin give oper axiomat framework partial total correct probabilist demon sequenti program among thing provid theori support earlierand practicalpubl probabilist demon loop morgan jifeng et al ed proc bcsfac seventh refin workshop workshop comput springer berlin 1996 copyright 2001 elsevi scienc bv b introduct determinist comput state space model function type initi final state powerdomain construct extend nondetermin although tradit powerdomain smyth hoar plotkin differ treatment nontermin agre nondetermin demon resolv arbitrari way probabilist powerdomain 7 6 instead resolv nondetermin accord specifi distribut final state demon choic remov replac probabilist choic et al 4 remov demon choic rather model demon probabilist nondetermin jointli combin special case probabilist powerdomain imper program 9 smyth de monic construct morgan et al 13 complement program logic greatest preexpect extend kozen work 10 result overal treatment total correct probabilist demon sequenti program paper extend construct morgan partial correct also one import applic form correct justif invariantvari principl probabilist demon loop although publish 11 principl base postul connect wp wlp probabilist program provid theori proof anoth applic abstract probabilist demon choic discuss issu conclus model partial hoarestyl total smythstyl correct within framework choos eglimiln construct demon choic rather smyth base distribut rather simpl state introduc novel consider particular need linear interpol distribut logic abl formul greatest greatest liber preexpect reflect totalparti distinct standard program logic 2 sec 2 construct probabilist plotkinstyl powerdomain convex powerdomain subset gener represent abramski jung 1 show extract partial total inform sec 3 link greatestpreconditionbas probabilist program logic sec 4 sec 5 specialis liber ordinari logic sequenti program languag probabilist demon nondetermin extens discuss exampl gener treatment loop given elsewher 11 throughout use infix dot function applic associ left fxi mean fxi write defin equal quantif includ set comprehens written order quantifi f set bound variabl option type rang final term thu exampl set first ten squar 2 convex powerdomain distribut program semant powerdomain use studi nondetermin phenomenon aris program output arbitrari result drawn set possibl result rather singl determin function input consid powerdomain domain probabl distribut rather definit singl state sever way order set distribut result differ powerdomain choic depend criteria explain term desir treatment program possibl nontermin behaviour smyth order 1 def b2 treat nontermin worst behaviour thu smyth powerdomain model total cor rect similarli hoar order def b3 model partial correct nontermin treat best outcom order plotkin power domain use eglimiln order def b4 combin view use partial total correct model within singl framework gener plotkin powerdomain decompos smyth hoar powerdomain special case abramski jung 1 show one case underli domain continu def b9 section show abramski jung result appli appropriatelydefin powerdomain distribut thu provid singl semant space partial total correct program exhibit probabilist demon nondetermin 1 fact definit domain theori follow convent set 1 summaris detail paper often specialis particular applic appendix b write state space assum finit space probabl distribut defin follow definit 21 state space space distribut 2 v defin f f 0 defin show first v continu complet partial order lemma 22 finit state space distribut v form continu complet partial order proof complet v trivial given complet interv 0 1 real show continu need exhibit countabl basi def b8 sinc finit use set distribut contain sinc real least upper bound ration waybelow def b7we defin plotkinstyl powerdomain subset write upclosur downclosur def b1 say upclos smythclos downclos hoareclos eglimilnerclos 3 closur condit relat continu special distribut precis call discret subprob measur 9 necessarili sum 1 deficit give probabl nontermin everywher zero distribut exampl assign zero probabl state model nowheretermin behaviour altern though less conveni treatment would assign probabl 1 special state 3 often call convex close need term anoth purpos definit 23 subset defin limit closur lca smallest set contain togeth ta 0 ua 00 updirect def b5 subset 0 downdirect def b6 subset 00 4 say limitclos defin powerdomain must introduc one closur condit specif distribut distribut f f 0 p 0 1 form f p phi f 0 weight averag defin pointwis p theta f 1gammap theta f 0 usual scalar multipl addit set distribut defin paverag follow definit 24 p 0 1 subset 0 defin say convex p phi defin powerdomain subset plotkin powerdomain definit 25 convex powerdomain cs vem space distribut compris subset nonempti eglimiln close limit close convex order vem usual eglimiln order def b4 2 convex powerdomain subset plotkin powerdomain includ convex subset latter aim section show cs limit complet limit smyth hoar limit extract make suitabl applic probabilist program semant thu show least upper bound eglimilnerdirect subset cs lie within cs combin hoar least upper bound th smyth least upper bound next lemma specialis gener decomposit result plotkin powerdomain v write lenss def b10 set nonempti eglimiln close limit close subset 5 4 note ta ua exist subset particular direct 5 thu cs compris convex lens lemma 26 eglimilnerdirect subset lenss limit tema exist satisfi insist limit closur th seen continu 6 condi tion proof decomposit consequ isomorphim abstract plotkin powerdomain def b12 space lens continu domain topolog eglimiln order def b13 isomorph given abramski jung 1 reproduc thm b1 decomposit 1 hold abstract plotkin powerdomain gener 8 establish isomorph note first closur condit lenss impli vem lens reduc topolog egli milner order lem 22 ensur condit thm b1 name v continu complet partial order 2 sinc cs subset lenss follow corollari closur limit corollari 27 eglimilnerdirect subset cs limit tem exist cs satisfi proof given lem 26 need show lct h element follow elementari fact close preserv convex vmonoton p phi intersect convex set convex downclos preserv convex similar upclos union direct set convex set convex limitclos preserv convex vcontinu p phi 2 6 consid eglimiln chain set real interv 0 1 limit f1g limit point underli seri union set halfclos interv 0 1 howev intersect set f1g fail limitclos hoar limit would produc empti result cor 27 give us main result eglimiln limit determin smyth limit smyth order hoar limit hoar order write respect def b14 smyth equival hoar equival element cs theorem show addit limit indistinguish rel appropri equival theorem 28 vem direct subset cs follow equival hold proof properti abstract plotkin powerdomain 8 follow isomorph thm b1 use proof thm 27thi section defin convex powerdomain whose use model probabilist imper program follow construct smythstyl domain 4 exampl sequenti composit generalis function composit nondeterminist choic union convex closur probabilist choic weight averag defin sec 4 give detail recurs one take limit chain signific thm 28 must sure take limit convex domain agre specialis limit smyth domain specialis limit hoar domain allow us use gener convex domain either known equival hold standard nonprobabilist domain 7 thm 28 confirm preserv properti probabl includ next section link convex powerdomain partialtot probabilist program logic 7 fact gener argument section establish sinc standard approach take flat domain state space trivial continu finit even countabl 3 probabilist program logic section use convex powerdomain cs sec 2 construct model total partial correct probabilist demon program 8 begin review method treat two aspect separ standard nonprobabilist demon program popular model total correct ss flat domain extend state space nontermin form smyth powerdomain dijkstra weakest ordinari precondit ps ps 2 support program logic suitabl total correct partial correct one use hs hoar model weakest liber precondit logic final although partial total correct avail simultan via ks plotkin r ks postcondit q ps still conveni defin separ weakest precondit weakest liber precondit 2 give total wp partial wlp program logic note definit 2 work togeth ks intersect hs ss wp work hs wlp work ss nelson 14 give nice treatment issu probabilist program et al 4 propos c total correct c like cs previou section base smyth order morgan et al 13 provid probabilist greatest pre expect logic expect nonneg realvalu function state space extend kozen treatment 10 non program access total partial correct simultan analog standard case simpli replac he smythbas c eglimiln base c yet rather defin two form logic 2 generalis morgan mciver 12 allow expect take neg valu roughli speak total correct one use nonneg postexpect partial correct one use nonposit kozen 9 model total correct probabilist demon program jone 6 extend partial correct 4 model total partial correct probabilist demon program begin detail construct probabilist demon model program definit 31 finit state space space probabilist demon program msvem given order induc pointwis cs ms occasion use v vh ms analog lift cs 2 thu program take initi state set final distribut plural set repres demon nondetermin distribut contain repres probabilist nondetermin next task investig dual represent program expect transform extend expect found morgan et al 13 11 topic total correct smyth order upclos set expect type 0 1 use gamma1 1 instead write es gamma1 1 use lowercas greek letter typic element expect transform thu function type es es r f ff expect valu ff es averag distribut f special case expect interpret predic f0 1g valu function state space predic hold state conveni scalar c write c constant expect evalu c convent predic true fals correspond expect 1 0 respect final relat expect write everywher everywher equal generalis respect implic equival revers implic predic logic base extend greatest preexpect transform defin follow definit 32 let r program ms take initi state set final distribut greatest preexpect state program r respect postexpect ff es defin 9 z f ff effect definit consid possibl postdistribut f rs demon choos one give least worst expect ff thu nondetermin demon minimis preexpect initi state def 32 greatest expect everywher pointwis minima standard program execut program r state certain establish postcondit state contain associ weakest precondit definit would ewpra 1 probabilist program standard postcondit establish probabl least p say greatest preexpect execut r initi least p thu special case predic interpret ewpra greatest assur probabl hold execut r discov variou refin order correspond via ewp order ms first generalis observ standard program eg 14 smyth order program correspond implic order lift predic transform hoar order similarli correspond lift revers implic use ps typi cal element denot set nonneg valu expect ns typic element nonposit valu expect subset es lemma 33 r 9 reduc kozen definit 9 determinist program program function initi state distribut minimis rang singleton set thu superflu 10 appar confus expect probabl deliber harm less probabl event distribut equal expect valu characterist function distribut proof ms ps reason follow r impli rs r 0 definit v impli r r f r r defer justif appeal monoton arithmet nonneg argument without subtract rs differ rs addit larger element accord def 21 minimum select made def 32 increas make select upclosur instead result follow generalis similar argument justifi second statement note revers w 2 lem 33 key defin expectationtransform equival smyth hoar eglimiln order usual eglimiln order intersect smyth hoar order definit 34 0 defin eglimiln order program preserv ewp directli corollari 35 proof lem 33 def 34 2 corollari show ewp orderpreserv map msvem vem next result section show also inject therefor program model equival either relat expect transform establish ewp embed prove convers cor 35 lemma 36 proof suppos contradict ewpr vem ewpr 0 r 6v em r 0 ms without loss gener assum r 6v r 0 distribut f state f 62 rs 3 3 aid separ hyperplan lemma a1 expect ps z f z thu r ewpr 4 howev ewpr 0 r directli give togeth z f contradict hypothesi state 2 sinc proof lem 36 actual prove convers lem 33 state correspond relat model program logic three order theorem 37 follow equival hold r r vem r 0 iff ewpr vem ewpr 0 shown ewp inject ms mani vem monoton expect transform ewpimag ms final result section identifi exact subspac expect transform form imag ms ewp identifi healthi style dijkstra 2 standard program 11 relev healthi condit appli program logic treat sec 5 morgan et al 13 probabilist program identifi imag program ms within import result theorem prove within healthi expect transform correspond theorem program ms first healthi condit slight generalis sublinear morgan 13 state defin expect ff fi es real nonneg scalar c expect fffi cff paverag distribut mean pointwis lift standard addit scalar multipl definit 38 expect transform sublinear iff ff fi es b c nonneg real note first sublinear satisfi imag ms ewp lemma 39 expect transform ewpr r ms sublinear proof def 32 properti arithmet morgan 13 give detail proof 2 total correct smyth c sublinear tell whole stori 13 thm 87 gener cs howev sublinear element ms ewpimag take twoelement state space fx yg consid result set convex eglimiln close 12 associ expect transform form ewp sublinear ewpimag element ms characteris eglimiln closur captur second healthi condit partial linear state tff depend preexpect appli expect ps ns fact closur ff indistinguish use ewp ff ps ns definit 310 expect transform said partial linear state expect ff es expect ps ns note implicit existenti quantif def 310 mean may mani decomposit ff sum 13 complet correspond healthi expect transform ms next theorem state proof omit overli technic necessari rest paper theorem 311 expect transform sublinear partial linear r ms 4 probabilist guard command section illustr construct previou two section give equival relat ms expect transform semant simpl sequenti program languag extend dijkstra guard command 2 binari probabilist choic oper p phi 14 relat semant fig 1 write point distribut 15 13 perhap allur healthi condit would tff determin posit part ff 0 neg part ff u 0 hold gener probabilist program although restrict set standard program f0 1 gamma1gvalu expect 12 14 et al 4 morgan et al 13 give similar present semant total rather partial correct detail motiv found note demon choic retain replac 15 state defin point distribut 0 1 special case write s0 distribut evalu 0 everywher r ms ms p phi u sequenti composit eglimiln closur taken righthand side figur 1 probabilist relat semant concentr singl state u demon combin pro gram symbol p phi use probabilist combin program pgammaaverag explain sec 2 set distribut contain demon nondetermin three primit command yield singleton result set probabilist choic p phi return weight averag result set operand singleton set argument 16 result set demon nondeterminist choic two program convex closur union result operand closur model oper demon could resolv choic flip coin arbitrari bia sequenti composit r r 0 consid set pure probabilist program compat program say thu type write r 3 f compat mean 8s delta fs 2 rs sinc effect two pure probabilist program sequenc singl distribut 00 say defin z fs ds 0 5 averag effect f 0 intermedi distribut produc fs gener case vari 5 f f 0 give fact p depend state simplic assum constant f v monoton function f figur 2 probabilist ewp semant oe ps ns simplifi definit fig 1 regard f 0 r parametris 00 abbrevi 0 r ds 0 ewpsemant fig 2 postexpect oe vari ps ns 17 use u also pointwis minimum expect probabilist choic p phi return weight averag result expect operand u take pointwis minimum reflect demon strive worst least result sequenti composit becom simpl function composit standard predic transform 2 case recurs dealt least fix point appropri order thm 37 show two order correspond concern next section recov total partial semant separ fig 2 show defin probabilist wp wlp generalis dijkstra oper interpret satisfi probabilist version standard law combin partial total correct 5 partial total correct athough ewp act es extract two morespecialis logic act convent nonneg expect ps 17 eglimilnerclos set determin smyth hoar closur suffici total correct logic mere restrict ps directli use order v definit 51 let r program ms greatest preexpect program r respect postexpect ps associ 0 nontermin defin easili sublinear ps wpr ps also moreov lem 33 show wp semant program correspond relat model smyth order 13 nontermin worst outcom semant partial correct defin probabilist wlp restrict subspac ps v definit 52 r program ms greatest liber pre expect program r respect postexpect ps associ 1 nontermin easili sublinear ewpr ns 32 readili show def 52 ident z f demon generalis probabilist wlp defin nondemon program jone 6 morgan 12 show 6 also generalis standard wlp 2 thu sinc lie ns ewpr gamma 1 deduc wlpr welldefin expect transform ps ps also lem 33 impli wlp semant correspond relat model hoar order accordingli nontermin best outcom exampl let finit portion n natur number n assign take everi initi state final state n program illustr differ wp wlp write expect evalu 1 n 0 otherwis indic greatest expect termin state 0 pq initi state greatest expect either termin 0 nontermin found wlp thu wp observ give greatest guarante probabl 19 termin 0 nontermin guarante noth wlp observ hand return probabl either 0 reach program fail termin usual interpret partial correct 19 follow usual interpret expect valu f0 1gvalu random variabl respect probabl distribut chanc random outcom establish event evalu 1 f v monoton function f figur 3 probabilist wlp semant ps greatest fix point use recurs similarli wlp semant loop program calcul greatest fix point 20 monoton function ps rather least wp easili check specialis fig 2 wlp produc chang shown fig 3 note ps ns close sigma1 altern view wlp wp often put forward regard function program satisfi certain properti exampl nelson 14 defin standard wp wlp axiomat enforc coupl law 7 conjunct properti wp wlp induc conjunct predic transform thu efficaci probabilist definit lie generalis properti lem 53 thm 54 also generalis respect conjunct coupl 7 form main result section state coupl standard program 5 r program predic use though origin mean wp wlp 2 v impli state law 7 impli wpr wlpr agre initi state termin guarante thu underli practic treatment loop program prove total correct iter work divid ensur partial correct loop invari independ termin argument variant probabilist coupl thm 54 allow similar treatment probabilist loop program follow def 52 sinc least fix point v monoton function becom specialis first w ns ns order shift ps ps appli 1 consid first appropri generalis conjunct conjunct predic replac probabilist conjunct 17 defin nonneg expect 0 pointwis maximum expect probabilist conjunct reduc ordinari conjunct specialis predic 21 import probabilist reason subdi tribut wp wlp imag program anoth consequ sublinear 22 lemma 53 r ms 0 ps proof sublinear monoton ewpr def 51 52 2 next deal coupl thm 54 generalis 7 main result section theorem 54 r ms 0 ps proof take extrem valu 0 1 22 one might guess u appropri generalis u even sub distribut 6 17 establish wpr 0 take t0 side sinc left effect achiev result 2 corollari recov standard rule generalis combin partial total correct corollari 55 r ms ps proof thm 54 j 1 ps 2 special case note wlp result impli wp result state termin occur probabl 1 wpr1 1 ident 6 conclus technic contribut paper extend plotkin construc tion eglimiln order act probabl distribut rather point show decomposit 15 respect convex hoar partial correc convex smyth total correct pow erdomain continu hold even take limit key featur imposit convex linear interpol distribut jone 6 defin partial correct logic base expect nondemon program discuss healthi condit applic logic calcul tool depend realis 13 ad nondetermin kozen model correspond weaken addit properti logic sublinear make proof thm 54 11 reduc simpl arithmet argument use gener expect thu supersed pure nonneg expect 13 lead even simpler present sublinear use two healthi condit describ two immedi applic first discoveri proof rule loop partial total correct separ wp wlp togeth shown 11 preserv loop bodi suffici v wpdo g bodi odi u g provid v give initi state probabl loop termin second applic abstract program termin probabilist partial correct establish inform consid probabilist choic demon algorithm fall categori typic use random method search larg space potenti wit exampl includ find perfect hash function find irreduc polynomi mehlhorn rabin 3 suppos loop g bodi od contain probabilist choic bodi denot bodi result replac demon choic fair probabl essenti loop termin result standard loop though probabilityfre would termin wp analysi would useless theori partial correct howev reason follow standard loop invari g u v wlpbodyi establish standard reason say henc v wlploopi u g standard loop rule henc v wlploopi u loop loop two loop contain bodi bodi respect thu standard reason bodi reach probabilist conlus loop last step reli loop v loop wlpmonoton od follow bodi v bodi turn guarante u v p phi p note probabilist wlp essenti last step would hold written wpbodi one would conclud argument determin j wploop1 sepa rate thm 54 standard result linear program lemma a1 separ hyperplan lemma let c convex limit close subset r n f point r n lie c separ hyperplan ff f one side c proof see exampl trustrum 18 2 use lem 36 base interpret distribut f point r n expect ff collect normal famili parallel hyperplan integr r f ff give constant term ffhyperplan pass point f gener convex region c r n minimum z f give constant term ffhyperplan touch c normal point c thu specialis applic paper lemma impli f 62 c close convex set distribut c expect ff z f z moreov c upclos downclos rang ff specialis ps ns fact definit domain theori summaris abramski jung present 1 fact domain theori give page number appropri assum v complet partial order ie everi direct defin set least upper bound 1 downclosur subset defin upclosur set similarli defin downclosur set 2 smyth order p97 smyth order v pd subset 0 given 3 hoar order p97 hoar order vh pd subset 0 given vh 0 iff 4 eglimiln order eglimiln order vem subset combin smyth def b2 hoar def b3 order subset defin vem 0 iff 0 5 updirect def 218 p10 subset updirect simpli direct iff u v w also least upper bound exist 6 downdirect subset downdirect iff u v w also w v u w v v write ua greatest lower bound exist 7 waybelow def 221 p15 waybelow relat defin follow u v say u updirect subset v v ta w u v w also say u approxim v iff u v 8 basi def 223 p16 basi subset b everi element tlimit element way b 9 continu def 226 p17 continu countabl basi 10 len def 6215 p100 defin lens lensd set nonempti eglimiln close limitclos subset 11 ideal p10 subset ideal direct downclos 12 plotkin powerdomain theorem 623 p95 plotkin powerdo main basi b given ideal def b11 complet fb denot set finit nonempti subset b 13 topolog eglimiln order def 6216 p101 defin topolog eglimiln order v tem set eglimiln close subset lensd follow 14 smyth hoareequival two subset 0 smyth equival hoareequival theorem b1 theorem 6219 p101 continu complet partial order plotkin powerdomain isomorph lensd v tem 2 r domain theori disciplin program probabilist model guard command languag probabilist nondetermin probabilist powerdomain evalu privat commun semant probabilist program probabilist pdl proof rule probabilist loop unifi wp wlp probabilist predic transform gener dijkstra calculu pisa note introduct probabilist predic transform linear program tr parallel program design foundat gener dijkstra calculu probabilist nondetermin build uniti experi random sequenti distribut algorithm domain theori integr domain theori probabilist predic transform pcf extend real number model verif random distribut realtim system unifi italicwpital italicwlpital probabilist model guard command languag disciplin program probabilist pdl ctr joe hurd annabel mciver carrol morgan probabilist guard command mechan hol theoret comput scienc v346 n1 p96112 23 novemb 2005 yuxin deng rob van glabbeek matthew hennessi carrol morgan chenyi zhang remark test probabilist process electron note theoret comput scienc entc 172 p359397 april 2007