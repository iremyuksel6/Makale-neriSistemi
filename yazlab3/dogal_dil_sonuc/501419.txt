neighborhood awar sourc rout novel approach sourc rout ad hoc network introduc take advantag maintain inform regard twohop neighborhood node neighborhood awar sourc rout nsr protocol present base approach perform compar simul peform dynam sourc rout dsr protocol simul analysi indic nsr requir much fewer control packet deliv least mani data packet dsr b introduct ondemand rout protocol shown eectiv ad hoc network success cach algorithm ondemand rout protocol depend strategi use delet link rout cach 5 dsr shown incur less rout overhead util cach data structur base graph represent individu link link cach rather base complet path dsr remov fail link link cach rout error packet report failur link link remov age lifetim link estim base node perceiv stabil endpoint node link sce nario use link cach shown produc overhead trac littl 50 incur path cach 5 result report dsr indic rout protocol base linkstat inform make better rout decis one base path inform fresh rout inform process determin timestamp sequenc number assign head node link hand ad hoc network easi given node learn neighbor neighbor base obser vation introduc new approach linkstat rout ad hoc network base ondemand sourc rout knowledg link exist twohop neighborhood node call approach neighborhood awar sourc rout nsr protocol nsr node maintain partial topolog network consist link immedi neighbor 1hop neighbor link 2hop neighbor link request path destin two hop away link remov partial topolog graph age lifetim link determin node link start head node link ect good degre certainti degre mobil node section 2 describ nsr detail section 3 present perform comparison nsr dsr use 50node network eleven simul experi dierent number sourc destin simul result indic nsr incur far less commun overhead deliv packet better deliveri rate dsr use path cach section 4 present conclus 2 nsr descript 21 overview describ nsr topolog network model direct graph node graph uniqu identi repres router link connect node describ paramet link node u node v denot u v node u refer head node link node v refer tail node link studi assum link unit cost router assum oper correctli inform assum store without error event process one time within nite time order detect broadcast packet transmit unreli assum linklevel protocol inform nsr packet sent particular link sourc rout contain data packet speci sequenc node travers packet sourc rout chang router along path destin maximum length bound nsr attempt maintain rout everi node everi node network rout discov ondemand basi maintain long necessari router run nsr exchang linkstat inform sourc rout known destin comput run dijkstra shortestpath rst partial topolog inform topolog graph maintain router nsr rout destin local gener data packet sourc rout ad header packet forward next hop otherwis nsr broadcast rout request rreq neighbor ask linkstat inform need build sourc rout destin neighbor path rreq broadcast entir network destin data packet allow send sourc rreq rout repli rrep contain complet path destin router forward data packet need send rout error rerr packet sourc data abl nd altern path broken sourc rout failur link sourc rout need report sourc data packet order eras outdat linkstat inform nsr properti loopfre time chang made path travers data packet includ node travers path link new neighbor brought nsr receiv packet neighbor link neighbor taken either linklevel protocol unabl deliv unicast packet neighbor timeout elaps last time router receiv trac neighbor node run nsr period broadcast neighbor node hello hello packet hello packet dual purpos use notifi presenc node neighbor way obtain reason uptod inform set link two hop away node linkstat inform refresh period node forward data packet may need notifi sourc packet repair done broken sourc rout 22 rout inform maintain nsr node run nsr maintain node epoch e node sequenc number sn averag lifetim node link neighbor l broadcast id neighbor tabl topolog graph shortestpath tree data queue rreq histori tabl rerr histori tabl node epoch increment node boot nsr start oper node epoch data need kept nonvolatil storag use maintain integr rout inform across node reset separ section describ role nsr oper nsr use sequenc number valid linkstat informa tion outgo link node identi monoton increas sequenc number node increment sequenc number need send control packet link brought taken sinc last time control packet transmit lifetim node link neighbor updat period appli decay factor current lifetim averag time link neighbor broadcast id use node address uniqu identifi rreq packet broadcast id valu increment new rreq packet creat entri neighbor tabl contain address neighbor time link neighbor brought neighbor id delet ag link neighbor taken delet ag set 1 mark entri delet neighbor tabl 255 entri neighbor id consist number entri tabl entri mark delet reus link neighbor list entri brought guarante neighbor id preserv time across link failur use build sourc rout base id describ later topolog graph updat state link report control packet data packet paramet link u v topolog graph consist tupl sn cost lifetim agetim nbrid sn link sequenc number cost cost link lifetim link lifetim report u agetim ageout time link nbrid neighbor id assign node u neighbor v linkstat inform delet topolog graph due age lifetim link determin head node link outgo link node consid lifetim comput accord function estim averag time link neighbor shortestpath tree obtain run dijkstra shortestpath topolog graph control packet receiv state outgo link chang link agesout period shortestpath tree updat within given time interv data packet local gener node wait rout destin kept data queue packet tail queue delet queue full new packet arriv enqueu packet also delet queue certain period time elaps sinc insert queue leaki bucket control rate data packet dequeu transmiss order reduc chanc congest node maintain rreq histori tabl spe cic length time record sourc address broadcast id rreq receiv node receiv rreq sourc address broadcast id alreadi list tabl forward packet node send rerr packet node src neighbor nbr consequ process data packet sent node src destin dst detect failur link u v entri rerr histori tabl tupl src dst u v nbr entri delet tabl certain period time elaps sinc creat rerr histori tabl mechan use avoid gener storm rerr packet report failur link 23 rout inform exchang nsr nsr gener four type control packet rreq rrep rerr hello rout inform also sent header data packet rreq hello packet broadcast unreli rrep rerr transmit reliabl unicast packet link nexthop along path travers rrep rerr packet taken sever retransmiss linklay fail deliv packet intend neighbor packet transmit nsr eld keep track number hop travers packet packet forward travel max pathlen hop howev linkstat inform carri process rrep rerr data packet contain sourc rout sourc rout consist sequenc node travers packet ident node sourc rout need node address neighbor id assign node preced sourc rout neighbor id encod 1 byte repres signic reduct overhead ad sourc rout data packet address node encod sever byte eg 4 byte ipv4 6 16 byte ipv6 2 everi packet hello updat state link receiv receiv node head link neighbor sent packet tail link sourc data packet also add sourc rout sequenc number link along path travers receiv node process sourc rout updat topolog graph state link travers packet link state inform lsi report nsr given link consist cost link encod 1 byte sequenc number head link encod 2 byte lifetim link encod 4 bit lsi report control packet extra eld encod 1 byte neighbor id assign head link tail node node relay rreq rrep rerr packet add packet neighborhood link state nl consist lsi outgo link neighbor nl also contain partiallsi ag set node report partial list outgo link due packet size constraint link nl sequenc number lifetim process lsi receiv nl partiallsi ag set node set inniti cost link topolog graph head node nl smaller sequenc number sequenc number link updat sequenc number report nl consequ node advertis nl report set link remov nl due failur hello packet carri node nl relay receiv node receiv hello process nl report packet way nlss process receiv rreq packet rreq packet contain sourc node address de tinat address maximum number hop tra vers broadcast id increment time sourc node initi rreq broadcast id address sourc node form uniqu identi rreq two kind rreq sent nonpropag rreq travel one hop propag rreq relay max pathlen node rerr packet gener due failur link sourc rout data packet rerr contain sourc rout receiv data packet head node fail link lsi head node head fail link lsi link altern path destin 24 oper nsr nsr protocol compos four mechan work togeth allow reliabl comput sourc rout ondemand basi connect manag node learn state link path node two hop away cost repair sourc rout due link failur signicantli reduc avail uptod state link sequenc number manag sequenc number use valid linkstat inform updat integr preserv across nodereset network partit mechan also ensur rreq uniqu iden tie across nodereset rout discoveri sourc data packet obtain sourc rout destin node alreadi know rout rout mainten node relay data packet abl detect repair sourc rout contain broken link sourc data packet abl optim sourc rout broken sourc rout may repair multipl time reach destin without need notifi sourc data packet repair 241 connect manag mechan respons determin node lifetim l state link neighbor node link new neighbor brought packet receiv neighbor link neighbor taken node receiv packet neighbor given period time hello packet broadcast period reschedul rreq packet transmit node lifetim l recomput period base averag time link neighbor minimum lifetim lmin assum second maximum lifetim lmax assum 1800 second report lsi node lifetim encod 4 bit round nearest one follow valu second lmin 45 60 75 90 105 120 150 165 180 240 360 480 900 lmax 242 sequenc number manag nsr work assumpt sourc data packet noti failur link path travers data packet given cost link may chang time without notic node network link topolog graph linkstat inform must agedout prevent router keep stale rout node ascertain whether linkstat inform report neighbor valid compar sequenc number lsi sequenc number store topolog graph link router consid receiv lsi valid sequenc number greater sequenc number store link entri link topolog graph sequenc number use valid linkstat inform consist two counter maintain head node link node epoch e node sequenc number sn e sn encod one byte valu rang 1 254 assum sn wrap around valu either 127 254 increment valu sn increment whenev router need advertis chang nl assum time interv node reset greater equal lmin second sn wrap around least node head link lifetim set lmax delet link topolog graph age e sn wrap around sn wrap around lmax second elaps sinc previou wrap around e increment sn set 1 procedur use determin whether valu x base sn e greater valu shown figur 1 sn get increment valu sn greater 127 node network alreadi agedout link report sn rang 1 sn 127 likewis sn get increment valu sn smaller 128 router alreadi agedout link report sn rang 128 sn perspect node x 6 network combin e sn seen unbound counter valu e sn lifetim result fals els result true els result true x greater els x greater figur 1 compar valu deriv e sn sequenc number receiv lsi link u v greater sequenc number store topolog graph link eu compon lsi sequenc number greater respect eu store topolog graph epoch snu compon lsi sequenc number greater respect snu compon topolog graph broadcast id set node rreq packet also consist two counter node epoch e 4byte sequenc number b sourc rreq increment b creat rreq transmiss e part broadcast id rreq uniqu identi across node reset 243 rout discoveri nsr receiv data packet upperlay router sourc rout destin sourc rout insert packet header packet forward next hop toward destin oth erwis nsr insert data packet data queue initi rout discoveri process none alreadi progress data packet destin broadcast nonpropag rreq send nonpropag rreq nsr prevent unnecessari ood neighbor sourc rout requir de tinat none neighbor send rrep within timeout period propag rreq transmit time propag rreq transmit timeout period doubl preden number attempt made kept constant preden number rreq transmit given desti nation rout discoveri process restart send nonpropag rreq data queue hold packet destin node receiv rreq process lsi packet check whether seen compar sourc address broadcast id rreq entri rreq histori tabl rreq discard node alreadi seen otherwis node said receiv valid rreq entri ad rreq histori tabl valu rreq sourc address broadcast id nonpropag rreq alway consid valid rreq receiv node nonpropag rreq send rrep sourc rout destin rreq sinc b c e b c e f b b c e c figur 2 linkstat inform learn rreq rrep b c e b c e b b c e f c figur 3 repair appli sourc rout rrep rrep nonpropag rreq gener destin rreq lifetim lsi report rrep must correspond time left agedout node topolog graph node process valid rreq destin rreq send rrep back sourc rreq sourc rout contain rrep consist revers path travers rreq packet node destin valid rreq add nl packet broadcast likewis node destin rrep add nl packet forward linkstat inform learn rreq rrep increas chanc node nding sourc rout topolog graph consequ increas likelihood repli nonpropag rreq exampl consid network topolog shown figur 2a solid line indic path travers rst rreq packet receiv destin node e sourc node dash line figur 2b repres link learn rrep receiv node destin e dash line figur 2c repres link learn rreq receiv node e node solid line figur 2b 2c correspond link learn hello packet node forward rrep packet may chang sourc rout link next hop fail broken sourc rout repair node abl nd altern path 2hop node path travers rrep packet order node broken sourc rout visit seek altern path tail node toward node correspond tail fail link figur 3 show type repair appli sourc rout shown solid line rrep figur 3a failur link b c caus node b replac link b c c b figur 3b failur link b c caus node b replac link b c c b f f figur 3c failur link b c caus node b replac link b c b f f c extrahop ad broken sourc rout length new path exceed max pathlen hop 244 rout mainten node forward data packet attempt repair sourc rout either link next hop link head next hop path travers fail repair consist nding altern path destin data packet may involv transmiss rerr packet sourc data packet repair made forward node sourc rout data packet trigger transmiss rerr packet follow rule satis rule1 node process packet list origin sourc rout receiv data packet rule2 one node yet visit data packet list origin sourc rout two hop away router repair sourc rout path travers rerr packet consist revers path travers data packet destin sourc data packet trigger tran mission rule1 rule2 guarante sourc data packet noti link failur present sourc rout rerr reach destin sourc data packet updat topolog graph recomput shortestpath tree figur 4 illustr case repair appli sourc rout data packet without trigger gener rerr link shown solid line figur 4 correspond sourc rout carri data packet origin node destin f dash line repres link ad new sourc rout repair node indic lled circl figur 4a illustr fact node consid sourc rout broken link next two hop follow node process packet fail particular case node b receiv hello packet node c report failur link c b receiv data packet forward node forward data packet may topolog graph link one hop away sourc rout order prevent node drop data packet nsr allow packet forward sequenc number sourc rout hello b c e f f b c e b f b c e c e b c f b c f e figur 4 type repair appli sourc rout miss link greater sequenc number link report neighbor failur link b c shown figur 4c make link b c c sourc rout replac link b g g failur link b c shown figur 4d caus link b c replac link b g sourc rout extend one hop ad link g c failur link b c shown figur 4e caus link b c replac link b g sourc rout shorten one hop replac link c e link g e node g shown figur 4 receiv data packet sourc rout repair node b detect sourc rout broken rerr packet need transmit even g altern path sinc rule1 satis node attempt repair rout figur 5 illustr case trigger transmiss rerr packet sourc rout data packet detect broken link shown solid line figur 5 correspond sourc rout carri data packet origin node destin f dash line repres link ad new sourc rout repair node indic lled circl gener rerr packet report failur link space time interv sourc rout process gener sourc node data packet destin data rerr rerr b c e f rerr rerr b c e f b f rerr rerr b c e c rerr b c e f b c e f rerr figur 5 broken sourcerout lead transmiss rerr packet packet receiv neighbor caus transmiss previou rerr packet mechan prevent gener rerr packet everi data packet transit carri sourc rout transmit rerr packet node updat rerr histori tabl ad entri inform rerr packet failur link c shown figur 5a caus node c transmit rerr packet sourc data packet receiv forward rerr packet report new sourc rout destin f consist link c g g h h f instead link c e e f data packet process sourc rout updat accordingli forward node g node b receiv rerr packet topolog graph updat linkstat inform report packet shortestpath tree recomput nl ad packet packet forward node b shown figur 5b add rerr packet receiv node c altern path f forward packet nsr allow node forward rerr add altern path rerr packet neighbor head node fail link trigger gener rerr packet node shown figur 5c receiv rerr packet report altern path destin b c e f figur use neighbor id sourc rout node b shown figur 5d 5e forward rerr packet altern path destin next data packet receiv sourc rout repair altern path 25 use neighbor id sourc rout sourc rout given data packet form sequenc neighbor id map link along path travers packet instead form node address approach make sourc rout compact allow data carri packet exampl consid scenario depict figur 6 number besid link shown solid line figur 6 correspond sourc rout carri data packet origin node destin f dash line repres link ad new sourc rout repair node indic lled circl number besid link neighbor id given head link tail node neighbor tabl contain map neighbor id address neighbor entri node neighbor id 5 delet neighbor tabl node b link b c fail fig ure 6a allow b get address c repair sourc rout accordingli link delet topolog graph due age node b figur 6b abl identifi tail fail link c look link topolog graph node c head link neighbor id 5 sourc rout receiv node f data packet sourc contain state link revers path travers data packet failur either link b c link c sourc rout receiv node f contain lsi link g g b node f updat topolog graph state g g b link part f topolog graph sourc rout list neighbor id instead node address likelihood nding altern path destin increas uptod linkstat inform carri data pack et especi data ow bidirect reason sourc data packet requir period use address instead neighbor id sourc rout 3 perform evalu run number simul experi compar averag perform nsr respect dsr nsr dsr use servic medium access mac protocol base rtsctsdataack packet exchang unicast trac similar ieee 80211 standard 1 promiscu mode oper disabl dsr mac protocol use multipl channel transmit data nsr dsr might benet node network interfac run promiscu mode physic layer model frequenc hop spread spectrum radio link bandwidth 1 mbitsec accur simul physic aspect wireless multihop network 31 mobil pattern simul experi use 50 node move rect angular space 5km x 7km initi randomli distribut densiti 15 node per squar kilomet node move simul accord random waypoint model 3 model node begin simul remain stationari paus time second select random destin move destin speed 20 meter per second period time uniformli distribut 5 11 second upon reach destin node paus paus time sec ond select anoth destin proce previous describ repeat behavior durat simul simul experi run paus time 0 15 30 45 60 90 900 second total simul time experi 900 second paus time second correspond continu motion node paus time 900 second node stationari 32 data traffic model overal goal simul experi measur abil rout protocol react chang network topolog deliv data packet destin aggreg trac load gener ow simul network consist size data packet 64 byte data trac load kept small ensur congest link due heavi control trac appli simul network three dierent commun pattern pattern nsourc ndestin pattern nsourc 8destin nsrc 8dst pattern nsourc 1destin nsrc 1dst commun pattern run number simul experi dierent number data ow data ow consist continu bit rate trac ow simul experi gener trac data rate node sourc one data ow run four simul experi 8 16 32 50 sourc nsrcndst nsrc1dst pattern 3 simul experi 16 32 50 sourc nsrc8dst pattern data ow start time uniformli distribut 10 120 second simul time 33 protocol configur valu constant control dsr oper simul present ns2 implement dsr 4 valu constant control nsr oper list time success transmiss rreq destin 05 second time doubl transmiss kept constant 10 second transmiss sixth rreq minimum lifetim lsi second maximum lifetim 1800 second averag time interv transmiss hello packet 59 second standard deviat 1 second maximum number entri data queue rreq histori tabl rerr histori tabl 50 200 200 respect lifetim entri data queue rreq histori tabl rerr histori tabl 30 30 5 second respect data packet sourc rout remov data queue transmiss space 50 millisecond maximum number node max pathlen travers packet 10 34 simul result figur 7 8 9 summar compar perform nsr dsr simul experi coordin valu 100 xaxi figur 10 11 correspond result obtain network stationari node number control packet gener nsr fall rang 950 6490 dsr rang 260 83010 figur 7 see dsr abl gener less 6490 packet 24 experi ment benet brought abil nsr repair sourc rout without need inform sourc data packet notic n sourc send data packet destin nsrc1dst trac pattern rout repli gener node run dsr carri stale rout inform lead transmiss rout request shown figur 10d 10e 10f behavior independ paus time except node stationari number data ow low nsr may gener control packet dsr scenario hello packet transmit period case depict figur 10a 10b 10d node move figur show number control packet transmit node run nsr deviat littl averag among dierent paus time dsr present larg deviat averag especi compar experi high node mobil experi stationari node also see type workload introduc network make dsr behav unpredict manner nsr littl af fect simul experi nsrcndst trac pattern dsr gener 99 time control packet nsr nsrc1dst trac pattern dsr gener 366 time control packet nsrc8dst trac pattern dsr gener 157 time control packet nsr observ figur 8a averag nsr abl deliv destin data packet dsr 79 simul experi nsr deliv 50 data packet gener dsr deliv 50 59 simul experi lack sourc rout destin experi nsrc1dst trac pattern caus dsr discard high number packet await rout figur 8c figur 11 give averag perform nsr dsr term percentag data packet deliv destin given paus time trac pattern see highest number packet deliv node becom less mobil behavior expect packet enqueu transmiss linklay drop link failur link failur occur less frequent node network becom stationari endtoend delay experienc data packet figur rout nsr similar endtoend delay experienc data packet rout dsr curv shown figur 9b show data packet rout dsr smaller endtoend delay rout nsr percentag data packet deliv dsr nsrc1dst trac pattern low compar nsr observ data packet rout nsr travers 2 3 hop packet rout dsr travers 2 4 hop 4 conclus present neighborhood awar sourc rout protocol nsr deriv perform improv observ dsr link cach use eas node inform neighbor neighbor key featur nsr node reduc eort requir x sourc rout due node mobil use altern link avail twohop neighborhood simul demonstr advantag deriv avail altern path futur work focus compar simul perform nsr dsr link cach use 5 r ns note document cach strategi ondemand rout protocol wireless ad hoc network internet protocol tr perform comparison multihop wireless ad hoc network rout protocol cach strategi ondemand rout protocol wireless ad hoc network ctr j j garcialunaacev marc mosko charl e perkin new approach ondemand loopfre rout network use sequenc number comput network intern journal comput telecommun network v50 n10 p15991615 14 juli 2006 j j garcialunaacev marc mosko charl e perkin new approach ondemand loopfre rout ad hoc network proceed twentysecond annual symposium principl distribut comput p5362 juli 1316 2003 boston massachusett hari rangarajan j j garcialunaacev use label path loopfre ondemand rout ad hoc network proceed 5th acm intern symposium mobil ad hoc network comput may 2426 2004 roppongi hill tokyo japan giovanni resta paolo santi analysi node spatial distribut random waypoint mobil model ad hoc network proceed second acm intern workshop principl mobil comput octob 3031 2002 toulous franc chao gui prasant mohapatra short selfheal optim rout techniqu mobil ad hoc network proceed 4th acm intern symposium mobil ad hoc network comput june 0103 2003 annapoli maryland usa chao gui prasant mohapatra framework selfheal optim rout techniqu mobil ad hoc network wireless network v14 n1 p2946 januari 2008 christian bettstett giovanni resta paolo santi node distribut random waypoint mobil model wireless ad hoc network ieee transact mobil comput v2 n3 p257269 march kadayif kandemir n vijaykrishnan j irwin integ linear programmingbas tool wireless sensor network journal parallel distribut comput v65 n3 p247260 march 2005 satyabrata chakrabarti amitabh mishra qualiti servic mobil ad hoc network handbook ad hoc wireless network crc press inc boca raton fl