prefetch improv bu wrapper perform core reus core reduc design time systemsonachip reus depend abl easili interfac core bu enabl interfac mani propos separ core interfac intern use bu wrapper howev separ lead perform penalti read core intern regist paper introduc prefetch analog cach techniqu reduc elimin perform penalti involv tradeoff power size describ prefetch techniqu classifi differ type regist describ initi prefetch architectur heurist certain class regist highlight experi demonstr perform improv sizepow tradeoff introduc techniqu automat design prefetch unit satisfi userimpos registeraccess constraint techniqu benefit map prefetch problem wellknown realtim process schedul problem extend techniqu allow userspecifi regist interdepend use petri net model result even effici prefetch schedul b overview separ core interfac behavior intern behavior lead perform penalti exampl consid core architectur shown figur 1a 1b 1c show core bu wrapper core bu wrapper bw without prefetch core bw prefetch respect latter two architectur similar propos vsia bw interfac system bu whose protocol may arbitrarili complex includ varieti featur like arbitr bw also interfac core intern core intern bu bu typic extrem simpl implement straightforward data transfer intern bu vsi onchip bu group standard without bw read core intern regist onchip bu may take littl two cycl shown figur 2a bw read core intern regist may requir four cycl two intern modul bw acm transact design autom electron system vol 7 1 januari 2002 prefetch improv bu wrapper perform 7 fig 3 pvci locat systemonachip two bw bu thu read may requir extra cycl compar core whose interfac intern behavior combin howev core interfac behavior separ bu wrapper believ much easier retarget differ buse core whose interfac behavior integr intern behavior standard interfac core intern bu wrapper retarget core may becom easier 32 pvci decid singl onchip bu standard unlik vsia develop vci virtual socket interfac associ 1997b vci propos standard interfac core intern core bu wrapper illustr figur 3 retarget core use vci involv roughli chang bu wrapper sinc vci ensur chang limit wrapper intern sinc bu provid even provid bu wrapper templat bu vci vci far simpler protocol typic bu protocol sinc pointtopoint transfer protocol contrast bu protocol may involv advanc featur arbitr data multiplex pipelin thu standard vci far simpler standard bu protocol pvci simpli version vci specic intend periph eral pvci core would resid lowerspe peripher bu shown figur 3 thu would need highspe featur vci eg packet chain gener structur pvci shown figur 4 consist two unidirect buse one bu lead wrapper intern wrapper set read line indic read write set address line valid address write also set wdata line assert val line actual initi read write wrapper must hold line constant intern assert ack line write mean intern captur write data read mean intern put read data rdata bu transact acm transact design autom electron system vol 7 1 januari 2002 8 lysecki vahid fig 4 pvci gener structur complet next rise clock edg fast intern modul keep ack assert continu provid fast transfer similar spirit synchron wait protocol vahid givargi 1999 33 experi bu wrapper sought evalu impact wrapper pvci use simpl peripher bu use bu twophas handshak protocol ensur commun fast possibl given peripher previous demonstr use wrapper result twocycl overhead per read compar integr core figur 2a illustr time read cycl peripher bu integr core peripher bu master case bridg place address addr strobe rd peripher respond place data data strobe rdi earli cycl receiv rd strobe thu total read cycl could littl two clock cycl figur 2b illustr read cycl bu core use bu wrapper bu master place address strobe rd wrapper respond translat read request read request intern bu translat involv translat address one appropri core place address wrp addr assert wrp read core intern respond place data wrp data assert wrp rdi wrapper receiv data put peripher bu strobe rdi write cycl need incur perform overhead wrapper ver sion bu master set address strobe appropri readi line wrapper respond immedi captur data strobe readi line like integr core wrapper proceed write captur data core intern bu master proce activ exampl evalu simpl version digit camera system illustr figur 5 camera system consist simpli mip mi croprocessor bio memori system bu bridg system bu peripher bu isa ccd chargecoupl devic prefetch improv bu wrapper perform 9 fig 5 digit camera exampl system preprocessor simpl codec compressordecompressor twolevel bu structur accord hierarch bu concept describ virtual socket interfac associ 1997a camera written registertransf level synthesiz vhdl synthes 100000 cell use synopsi design compil well synopsi power analysi tool evalu differ design metric power perform measur process one frame made chang ccd preprocessor codec core sinc repres peripher peripher bu core use heavili process frame creat three version camera system 1 integr ccd preprocessor codec core written interfac behavior inlin intern behavior core thu synthesi gener one entiti core 2 nonpvci wrapper ccd preprocessor codec core written interfac behavior separ wrapper thu synthesi gener two connect entiti core interfac two wrapper intern entiti consist singl bidirect bu strobe control line readwrit control line howev mani address line necessari distinguish among intern regist 3 pvci wrapper previou version except interfac wrapper intern entiti pvci nonpvci wrapper version creat anoth purpos well pvci standard develop knowledg version would use experi thu structur develop simpl possibl tabl summar size perform power result size report equival nand gate time nanosecond power milliwatt size overhead use buswrapp nonpvci compar integr version roughli 1500 gate per core overhead come extra control acm transact design autom electron system vol 7 1 januari 2002 tabl comparison interfac version use custom bu version ex size wrapper size power total time io time integr wrapper ccd 1661 34556 811 79055 15520 codec 1674 1904 pvci wrapper ccd 1439 33978 798 79055 15520 codec 1434 1588 regist integr version core intern includ control interfac peripher bu wrapper version control replac control interfac wrapper size core intern stay howev wrapper must implement control interfac intern interfac peripher bu repres overhead wrapper must also includ regist whose content copi tofrom intern repres addit overhead reason nonpvci wrapper version show size overhead pvci wrapper version nonpvci version use singl bu transfer two core intern wherea pvci speci two separ buse result less logic wire fifteen hundr gate size overhead seem quit reason given continu increas chip gate capac given peripher core typic poss 20000 gate mentor graphic nd system power overhead 1 extra power come transfer item twice per access write item must transfer rst bu wrapper wrapper intern read item must transfer rst intern wrap per wrapper bu howev power consum memori system bu processor domin extra power due wrapper smalleven though ccd codec heavili use process frame tabl see 100 increas peripher io access time bu wrapper employ overhead due use wrapper would occur whether use pvci anoth wrapper experi ccd access 256 time per imag frame codec access total 128 time per frame mip processor execut approxim 5000 instruct per frame overal overhead bu wrapper amount approxim 5 one differ nonpvci pvci interfac appear result number wire intern core nonpvci version use multiplex bu fewer signal pvci signal shown thu would fewer intern wire note ccd codec core rel small simpl interfac took us 6 design hour exclud synthesi simul time retarget design one wrapper anoth eg convert ccd nonpvci wrapper pvci implement synthesi time ccd codec approxim 1 hour simul time captur acm transact design autom electron system vol 7 1 januari 2002 prefetch improv bu wrapper perform 11 one imag frame slightli 10 hour power analysi addit 5 hour time obtain synthes model gate use synopsi design compil medium map effort use lsi10k librari suppli synopsi area delay constraint speci use dual 200mhz ultra sparc ii machin perform synthesi simul synthesi simul time rel integr bu implement use bu wrapper note peripher devic capabl dma burst mode io interrupt requir time integr system although use bu wrapper improv use core make easier retarget vari system reusabl come cost bu wrapper introduc perform power overhead demon strate tightli constrain system peripher access time critic overhead often infeas ideal use bu wrapper could allow quick retarget core degrad perform next section present techniqu call prefetch effect elimin perform overhead bu wrapper 4 basic prefetch 41 overview focu minim perform penalti order maxim use core seek manner transpar develop core intern behavior well develop onchip bu continu exponenti growth chip capac seek gain perform make tradeoff increas size sinc size constraint continu eas howev note approach increas switch activ core thu must also evalu increas power consumpt seek minim increas focu peripher core whose regist read microprocessor onchip bu perhap via bu bridg idea minim read latenc experienc microprocessor basic techniqu propos call prefetch prefetch techniqu copi core intern regist data prefetch regist core bw read request bu occur core immedi output prefetch data without spend extra cycl rst get data core intern modul use term hit miss manner ident cach hit mean desir data prefetch regist miss mean data must rst fetch prefetch regist output onchip bu exampl figur 2c show prefetch core intern regist bw regist d0 result system read requir two cycl rather four 42 classic core regist immedi recogn need classifi common type regist found peripher core sinc differ type would requir differ prefetch approach 12 lysecki vahid examin core primarili inventra librari mentor graphic nd focus bu peripher serial commun encrypt com pressiondecompress dene regist classic scheme base four attribut updat type access type notic type structur type 1 updat type regist describ regist content mod i possibl type includ staticupd regist updat system system devic devic commun core onchip bu exampl static regist congur regist system updat regist regist content chang system updat b volatileupd regist updat sourc system eg intern core extern core environ either random xed rate exampl analogtodigit convert sampl extern data convert data digit store result regist xed rate c inducedupd regist updat direct result anoth regist within core updat thu associ regist induc regist typic induc regist one provid statu inform 2 access type regist describ whether system read andor write regist possibl type includ readonli access b writeonli access c readwrit access 3 notic type describ system made awar regist updat possibl type includ interrupt notic core gener interrupt regist updat b registerbas ag notic core set ag bit bit may part anoth regist c output ag notic core specic output signal assert regist updat notic system inform updat simpli use recent regist data 4 structur type regist describ actual storag capabl regist possibl type includ singli structur regist access address intern implement one regist b queuestructur regist regist access address intern implement block memori common exampl buffer regist uart c blockstructur regist block regist access consecut address regist le memori prefetch improv bu wrapper perform 13 43 commonli occur regist type rst attempt develop prefetch techniqu core focus follow three commonli occur combin regist core 1 core1congur regist mani core congur set control set congur regist typic congur regist featur static updat readwrit access notic singli structur refer exampl core1 2 core 2task regist mani core carri specic task start complet combin data input regist data output regist statu regist indic complet core task exampl codec compressdecompress core typic set regist look prefetch data output statu regi ter data output regist follow featur volatileupd random rate readonli access registerbas ag notic ag store statu regist singli structur statu regist follow featur induc updat updat data output reg ister readonli access notic singli structur although data input regist prefetch featur volatileupd random rate writeonli access notic singli structur refer exampl core2 3 core3inputbuff regist mani core combin queue data buffer receiv data statu regist indic number byte buffer common exampl core uart featur data buffer includ volatileupd random rate readonli access registerbas ag notic store statu regist queuestructur statu regist featur includ inducedupd updat data regist readonli access notic singli structur refer exampl core3 44 prefetch architectur heurist 441 architectur order implement prefetch list combin regist develop architectur bu wrapper figur 6 illustr architectur three combin respect bw architectur three region 1 control control main task interfac onchip bu thu handl read write core regist write control write data core intern bu core intern regist read control output appropri prefetch regist data onto bu hit output done immedi miss done forc prefetch unit rst read data core intern 2 prefetch regist regist directli connect onchip bu fast output output bu must pass one regist 14 lysecki vahid bu wrapper architectur time diagram core1 b core2 c core3 fig 6 prefetch improv bu wrapper perform 15 3 prefetch unit pfu implement prefetch heurist respons read data core intern prefetch regist goal maxim hit architectur core1 situat shown figur 6a show one regist correspond prefetch regist d0 sinc updat onchip bu prefetch unit need instead write d0 whenev write lack pfu except normal situat figur 6b show architectur core2 situat data output regist statu regist prefetch regist bw data input regist di sinc never read onchip bu pfu carri prefetch heurist see next section unless control assert write line case pfu suspend prefetch control may write di core intern bu figur 6c show architectur core3 exampl writeaccess regist henc includ bu control core intern bu 442 heurist appli follow prefetch heurist within core bu wrapper upon system write data regist simultan write data prefetch data regist d0 assum write data regist occur prior read regist system write data input regist di read core intern statu regist prefetch statu regist s0ifth statu indic complet read core intern data output regist prefetch dataoutput regist do0 repeat process continu read core intern statu regist prefetch statu regist s0 statu indic buffer longer empti read core data regist prefetch data regist d0 wait system read data continu read core intern statu regist prefetch statu regist therebi provid current statu inform data read system depend whether buffer empti either read next data item core repeat process figur 6 show time diagram three core bw prefetch ing three core read latenc core bw prefetch equal latenc core without bw thu elimin perform penalti note bw architectur heurist depend core intern accept sinc core develop build bw bw control bu interfac howev depend core intern desir 45 experi implement core repres three earlier common exampl order evalu perform power size tradeoff achiev acm transact design autom electron system vol 7 1 januari 2002 tabl ii impact prefetch sever core size wo bw gate size wbw wo pf gate size wbw wpf gates26692638617211506perform wo bw ns perform wbw wo pf ns perform wbw wpf ns9835551555454305power wo bw microwatt power wbw wo pf microwatt power wbw wpf microwatts13994805601521energi wo bw nj energi wbw wo pf nj energi wbw wpf nj1376265311655prefetch result summar tabl ii three core written soft core registertransferlevel behavior vhdl three core requir 136 220 226 line vhdl respect synthes core use synopsi design compil perform averag power energi metric measur use synopsi analysi tool use suit core test vector core import note core simpl intern behavior use experiment purpos although exampl small pfu unit independ core intern approach appli larger exampl well three core prefetch ad bw perform penalti effect elimin core2 core3 trivial onetim 30n 10n overhead associ initi time requir start restart prefetch process particular prefetch heurist addit bw core add size overhead design size constraint continu relax chip capac continu exponenti growth three core describ averag increas size core 1352 gate larg percentag increas size core1 due fact core unusu small begin sinc simpl intern behavior 1000 2000 gate typic core would closer 10000 20000 gate percentag increas caus thousand extra gate would much smaller order prefetch viabl solut problem power energi consumpt must also accept power function amount switch core energi function switch total execut time bw without prefetch caus increas power due addit intern transfer bw increas overal energi consumpt due longer execut time three core compar bw without prefetch bw prefetch may increas decreas power depend prefetch heurist particular applic ex ampl core1 core3 increas power due constant activ prefetch unit core2 decreas power due period time prefetch unit idl howev three core use prefetch bw decreas energi consumpt acm transact design autom electron system vol 7 1 januari 2002 prefetch improv bu wrapper perform 17 tabl iii impact prefetch digit camera perform read cycl wo prefetch cycl w prefetch ccdstatu ccddata codecstatu codecdata25625710241028512514 total 2 core 772 3088 1544 digit camera peripher io access digit camera processor execut digit camera 48616 47072 tabl iv impact prefetch digit camera powerenergi prefetch bw wprefetch power mw 954 981 981 energi j 449 477 462 bw without prefetch reduc execut time addit increas energi consumpt rel core without bu wrapper fairli small evalu use prefetch analyz digit camera shown figur 5 initi implement ccd codec core use bw without prefetch therefor modi use prefetch compar two version digit camera system tabl iii provid number cycl read statu data regist two core captur one pictur frame number cycl requir core prefetch half number cycl requir without prefetch improv perform read ccd codec 50 overal improv perform digit camera 1500 cycl ad prefetch two core total 47000 cycl captur pictur frame prefetch perform increas digit camera directli relat ratio io access processor comput digit camera spend 78 execut time perform comput 12 perform io access prefetch larg impact overal perform howev increas perform peripher io access 25 therefor design io intens one would expect greater percentag perform increas furthermor processor pipelin number cycl requir program execut would decreas percentag time requir io access would increas thu one would expect greater percentag perform increas prefetch ad prefetch core would cours result even reduct power energi penalti shown tabl iv see exampl prefetch abl elimin perform overhead associ keep interfac intern separ core prefetch enabl elimin perform penalti fulli support idea vsi standard intern bu bw core intern also vari tradeoff perform size power ideal futur tool would synthes bw satisfi power perform size constraint given user core 5 realtim prefetch 51 overview one drawback prefetch techniqu describ prefetch unit manual design creat desir also investig automat solut design prefetch unit bu wrapper autom approach ident architectur previou bu wrapper prefetch howev reden task prefetch unit pfu prefetch unit respons keep prefetch regist uptod possibl prefetch core intern regist intern bu intern bu use write control ie intern bu idl cycl one regist read core intern time assum given list core readabl regist must prefetch also assum bu wrapper accommod one copi regist regist list annot two import readaccess constraint regist age constraint constraint repres number cycl old data may read word repres period prefetch regist must updat least age constraint 0 mean data must recent data turn mean data must come directli core henc prefetch allow sinc prefetch data necessarili least one cycl old constraint 0 also mean accesstim constraint must least four cycl regist accesstim constraint constraint repres maximum number cycl read access may take minimum two case regist must prefetch accesstim constraint greater 2 denot addit cycl may toler wish design pfu read core intern regist prefetch regist use schedul satis age accesstim constraint regist note certain regist may prefetch frequent other requir satisfi differ regist access constraint tradeoff prefetch perform improv expens size power main goal perform improv ensur size power grow accept amount futur work may includ optim cost function perform size power exampl figur 7 show core three regist b c assum regist b independ regist readonli updat randomli core intern assum b regist age constraint four six cycl respect might use naiv prefetch heurist prefetch everi idl cycl read 60 prefetch improv bu wrapper perform 19 fig 7 bu wrapper prefetch tabl v prefetch schedul core figur 7 idl cycl schedul 1 schedul 213579 b 40 time lead schedul 1 tabl v howev creat efcient schedul shown schedul 2 although schedul meet constraint rst schedul like consum power naiv schedul also consid effect regist write taken consider use realtim schedul techniqu investig heurist solv prefetch problem notic problem could map wide studi problem realtim process schedul rich set power heurist analysi techniqu alreadi exist describ map provid sever prefetch heurist base realtim schedul heurist analysi method 52 map realtim schedul simpl denit realtim schedul problem follow given set n independ period process set processor must acm transact design autom electron system vol 7 1 januari 2002 20 lysecki vahid order execut n process onto processor process period pi deadlin di comput time ci period process rate process request execut deadlin length time process must complet execut request execut final comput time length time process take perform comput therefor realtim schedul task order execut n process among processor ensur process execut everi period pi within deadlin di process take ci time complet map prefetch problem realtim processschedul problem follow process regist must schedul prefetch correspond process must schedul execut intern bu processor intern bu accommod one prefetch time likewis processor accommod one process execut time thu intern bu correspond processor prefetch process execut prefetch occur intern bu thu correspond process execut occur processor regist age constraint process period regist age constraint dene period regist must prefetch correspond period process must schedul regist accesstim constraint process deadlin accesstim constraint dene amount time read may take rel read request correspond amount time process must complet execut rel time request servic process comput time prefetch correspond process execut time prefetch correspond comput time process paper assum prefetch requir two cycl although heurist analysi would cours appli extend regist model allow rather rare situat differ regist would requir differ amount time read core intern given map use sever known realtim schedul analysi techniqu solv prefetch problem 53 heurist 531 cyclic execut approach cyclic execut approach burn well 1997 straightforward process schedul method use xed set period process approach construct xed repeat schedul call major cycl consist sever minor cycl xed durat minor cycl rate process highest prioriti execut minor cycl therefor equal smallest age regist prefetch approach attract due simplic howev handl sporad process case sporad write prefetch improv bu wrapper perform 21 tabl vi prefetch core descript core regist max age prioriti rm pf time respons time util util bound process period registerag constraint must multipl minor cycl time construct execut may comput infeas larg number process regist serv exampl describ three core variou requir tabl vi contain data pertain three core tabl vi contain inform regard maximum regist age constraint max age regist access time constraint deadlin rate monoton prioriti assign prior iti rm time requir prefetch regist pf time respons time regist respons time util regist set util util bound regist set util bound core1 implement singlechannel dac convert although analog portion convert could model vhdl techniqu convert analog input implement core singl regist data readonli updat randomli extern system core2 calcul greatest common divisor gcd three input provid checksum inform input result core contain three regist gcd1 gcd2 cs result gcd calcul valid gcd1 equal gcd2 regist gcd1 gcd2 cs independ readonli regist updat extern system core3 regist stat bia b re stat statu regist readonli indic statu core ie busi busi regist b readonli regist updat randomli outsid system re readonli regist contain result comput regist b bia bia writeonli regist repres programm adjust comput use cyclic execut approach creat schedul three core core1 minor cycl major cycl three core2 minor cycl 10 major cycl 20 final core3 construct cyclic execut minor cycl major cycl 25 532 rate monoton prioriti assign gener schedul approach use complex exampl wherein determin process schedul regist prefetch next base prioriti scheme rate monoton prioriti assign burn well 1997 assign prioriti regist base upon age regist smallest age highest prioriti likewis regist largest age lowest prioriti exampl use prioriti 1 indic highest prioriti possibl rate monoton prioriti assign known acm transact design autom electron system vol 7 1 januari 2002 22 lysecki vahid optim sens process set schedul xedprior assign scheme set also schedul rate monoton assign scheme refer tabl vi data pertain three core core1 regist age constraint regist data three cycl given data regist present assign highest prior iti core2 regist gcd1 gcd2 cs age constraint 10 10 respect therefor correspond prioriti highest lowest gcd1 gcd2 cs howev regist age constraint gcd1 gcd2 equal prioriti core2 could also highest lowest gcd2 gcd1 cs import note prioriti regist age constraint assign arbitrari rel prioriti long constraint met core3 age constraint regist stat b re respect 5 25 25 10 therefor prioriti regist highest lowest would stat re b 533 utilizationbas schedul test utilizationbas schedul test 8 use quickli indic whether set process schedul case whether regist prefetch n regist regist set prefetch equat 1 true ci comput time regist ai age constraint regist n number regist prefetch lefthand side equat repres util bound regist set n regist righthand side repres current util given regist set regist set pass test regist prefetch schedul analysi need howev regist set fail test schedul regist set meet constraint might still exist word utilizationbas schedul test indic regist set prefetch indic regist set prefetch analyz core determin whether schedul tabl vi see core1 core2 pass utilizationbas schedul test respect util 667 500 correspond util bound 100 780 indic creat schedul core need perform analysi howev core3 util 860 util bound four regist 757 therefor fail utilizationbas schedul test though schedul might still exist 534 responsetim analysi responsetim analysi burn well 1997 anoth method analyz whether process set case regist set schedul howev addit test schedul set regist also provid worstcas respons time regist calcul respons regist use equat acm transact design autom electron system vol 7 1 januari 2002 prefetch improv bu wrapper perform 23 2 ri respons time regist ci comput time regist ii maximum interfer regist experi time interv c ri interfer regist amount time process must wait higherprior process execut ri ci c ii 2 regist set schedul regist set respons time less equal age constraint tabl vi see regist three core meet regist age constraint therefor possibl creat prefetch schedul three core interest note although utilizationbas schedul test fail core3 respons time analysi indic regist prefetch refer reader burn well 1997 detail responsetim analysi write consid impact write core regist write come unknown interv write tie core intern bu thu delay prefetch done therefor view regist write highprior sporad process attribut maximum rate write command sent core also introduc deadlin write deadlin write similar accesstim regist prefetch deadlin indic write occur must complet within speci number cycl order analyz regist write impact schedul creat dummi regist wr regist set age wr regist period correspond maximum rate write occur wr accesstim equal deadlin analyz regist set determin prefetch schedul exist analysi provid us analysi worst case scenario write occur everi period 536 deadlin monoton prioriti assign point interest mainli static schedul regist set howev write sporad must provid dynam mechan handl thu dynam schedul techniqu use accur predict write therefor use advanc prioriti assign scheme deadlin monoton prioriti assign burn well 1997 deadlin monoton prioriti assign assign prioriti process regist base upon deadlin accesstim smaller accesstim correspond higher prioriti still incorpor rate monoton prioriti assign order assign prioriti regist equal accesstim deadlin monoton prioriti assign known optim sens process set schedul prioriti scheme schedul deadlin monoton prioriti assign exampl order accommod write bia regist core3 add bia regist prefetch algorithm deadlin bia regist ensur write alway acm transact design autom electron system vol 7 1 januari 2002 fig 8 perform ns top size gate middl energi nj bottom highest prioriti use deadlin monoton prioriti assign use prioriti assign mechan prioriti regist highest lowest would bia stat re b 54 experi realtim prefetch addit implement adjust core describ implement two addit exampl order evalu impact perfor manc size energi use realtim prefetch codec core contain three regist din dout stat core behav like simpl compressordecompressor wherebi input data modi via arbitrari translat stat regist updat reect complet fifo core contain two regist data stat core repres simpl fifo data store data current number item fifo store stat model core synthesiz registertransf vhdl model requir 215 204 253 line code respectivelynot intent describ intern behavior core rather regist accessrel behavior could see impact prefetch clearli use synopsi design compil synthesi well synopsi power analysi tool figur 8 summar result three core core examin three possibl bu wrapper congur bu wrapper bw bu wrapper without prefetch bw bu wrapper realtim prefetch rtpf rst chart figur 8 summar perform result use realtim prefetch heurist see good perform improv compar bu wrapper without prefetch howev fifo acm transact design autom electron system vol 7 1 januari 2002 prefetch improv bu wrapper perform 25 see small perform improv use realtim prefetch ing small improv due fact data regist fifo prefetch use approach prefetch use realtim prefetch would empti fifo lose data fur thermor without prefetch see signic perform penalti second chart figur 8 summar size result expect size core increas bu wrapper ad increas prefetch ad bu wrapper averag increas size caus ad realtim prefetch bu wrapper 14k gate increas design complex due need keep track current regist age furthermor size increas rel small compar typic core size 10k 20k gate third chart figur 8 summar energi consumpt test vector three core overal increas energi consumpt bu wrapper ad core howev addit prefetch bu wrapper alway strictli increas decreas energi consumpt fact realtim prefetch increas energi consumpt codec fifo decreas energi consumpt adjust expect compar core without bu wrapper prefetch result increas energi consumpt 6 updatedepend base prefetch use petri net 61 overview case core design may abl provid us inform regard core intern regist get updatedin particular updat depend among regist eg regist updat extern regist b updat one cycl later use inform design schedul perform fewer prefetch satisfi given constraint thu yield advantag abl handl complex problem use less power 62 gener regist attribut need method captur inform design provid regard regist updat section 32 provid taxonomi regist attribut use categor regist use extend introduc updat dependeci updat depend provid detail regist get updat result updat induc two kind updat depend intern depend depend regist must accur describ depend regist affect oper core time regist updat therefor depend extrem import provid accur model core behavior 26 lysecki vahid extern depend updat regist via read write ocb also need includ model inform import read write directli updat regist trigger updat regist eg write control regist codec core trigger event updat output data regist likewis updat extern port intern core regist must also present model event occur random interv directli monitor bu wrapper therefor need provid complet model core need creat model captur inform analyz mani possibl model describ intern extern updat depen denci conclud petri net model would best requir 63 petri net model construct petri net model place arc transit model place repres data storag ie regist bu bu wrapper monitor model bu place gener token pute outgo arc consum data storag place whenev appropri transit red transit repres updat depend either bu regist two regist transit may label condit repres requir data come transit howev mani case regist may updat extern sourc ie regist updatetyp volatil therefor need mechan describ updat use transit without incom arc without associ condit repres behavior refer transit random transit given random transi tion token also gener extern sourc directli monitor bu wrapper thu model provid complet descript core intern regist depend without provid detail core intern behavior implement three core exampl analyz updat depend model prefetch techniqu order demonstr use model describ one core implement refer adjust elabor exampl throughout paper adjust contain three regist go md first annot regist gener regist attribut describ earlier go regist attribut staticupd write access notic singli structur md regist attribut volatileupd readwrit access notic singli structur final regist attribut volatil updat readonli access notic singli structur next construct petri net adjust figur 9 show regist updat depend model adjust model see regist updat go updat whenev write request go initi ocb updat randomli extern event unknown prefetch unit md updat go equal 1 write request md initi ocb extern acm transact design autom electron system vol 7 1 januari 2002 prefetch improv bu wrapper perform 27 fig 9 adjust regist depend event occur therefor complet model adjust core use creat prefetch algorithm use current model adjust need three prefetch regist bu wrapper name go0md0 s0go0 would updat whenev write go initi ocb md need method refresh prefetch regist keep uptod possibl later discuss heurist updat regist incom random transit howev know prefetch md regist would requir write md made ocb go regist equal 1 simpl interpret model reduc power consum prefetch unit prefetch md need 64 model renement depend renement regist updat depend model made elimin random transit although model particular core may mani random transit may exist relationship regist random transit two regist updat extern event possibl relationship may exist regist exampl typic codec core would nd data regist statu regist data regist updat statu regist also updat indic oper complet although regist updat random time know statu regist indic compl tion data regist updat thu elimin one random transit replac random transit transit incom arc relat regist assign appropri condit transit thu success rene model elimin random transit goal renement elimin mani random transit possibl import note possibl elimin random transit therefor still need method refresh content regist incom random transit figur show rene regist updat depend model adjust core new model elimin one random transit replac acm transact design autom electron system vol 7 1 januari 2002 28 lysecki vahid fig 10 rene adjust regist depend transit equal 1 henc need modifi prefetch algorithm accompani chang know need prefetch md equal 1 go equal 1 write md initi ocb renement simpli prefetch algorithm reduc power consumpt 65 prefetch schedul given updat depend model core need construct schedul prefetch core regist bu wrapper prefetch regist figur 11 describ updat depend model prefetch heurist use pseudo code heurist use updat depend model conjunct realtim prefetch creat schedul prefetch core regist follow descript elabor heurist order implement prefetch heurist need two data struc ture rst data structur need prefetch regist heap prioriti queue use store regist need prefetch second need list updat arc must analyz regist prefetch read write request detect ocb use data structur next describ prefetch unit design rst step prefetch heurist add regist incom random transit prefetch regist heap regist alway remain heap need repeatedli prefetch order satisfi regist age constraint next prefetch heurist need respond read write request ocb event read request prefetch unit add outgo arc list arc need analyz describ realtim prefetch work write treat anoth regist special age accesstim constraint ie regist age constraint 0 accesstim constraint initi set inniti core intern bu may current use perform prefetch use mechan elimin content describ set accesstim constraint write regist 0 ensur write next action perform therefor write request handl rst copi data acm transact design autom electron system vol 7 1 januari 2002 prefetch improv bu wrapper perform 29 fig 11 gener regist model prefetch heurist use implement pfu correspond prefetch regist set accesstim constraint 0 ad write regist prefetch regist heap addit outgo arc ad list updat arc use realtim prefetch prefetch regist accord prioriti assign deadlin monoton prioriti assign two regist prioriti assign mechan use prioriti assign ratemonoton prioriti assign schedul prefetch accord heurist regist accesstim constraint 0 prefetch rst mean write request describ later regist updat prefetch rst note write still take highest prioriti regist age constraint 0 write request regist without incom random acm transact design autom electron system vol 7 1 januari 2002 transit need prefetch prefetch heurist next schedul regist incom random transit accord ratemonoton prioriti assign therefor prefetch regist heap sort rst deadlinemonoton prioriti assign ratemonoton prioriti assign regist prefetch made read write request detect ocb need analyz arc updat arc list transit re outgo arc transit ad list token reach anoth place set correspond regist accesstim 0 add heap thu ensur regist prefetch soon possibl order better understand prefetch heurist look adjust core adjust one random transit connect regist notic design averag need read content everi six cycl therefor set regist age constraint six cycl regist accesstim constraint two indic regist must prefetch everi six cycl md regist age accesstim constraint two cycl go howev neither age constraint accesstim constraint writeonli regist note even though go writeonli regist copi must maintain bu wrapper need order analyz updat depend prefetch algorithm monitor ocb write go regist made data copi go0 write regist accesstim set 0 write md regist accesstim set also go equal 1 equal 1 set accesstim md 0 final use schedul prefetch regist need perform write oper 66 experi updatedepend prefetch implement updat depend prefetch three core name adjust codec fifo figur 12 summar result three core four possibl bu wrapper congur core bu wrapper bw bu wrapper without prefetch bw bu wrapper realtim prefetch rtpf bu wrapper updat depend prefetch model udpf rst chart figur 12 summar perform result three core use updat depend prefetch method almost entir elimin perform penalti associ bu wrapper still slight overhead caus start prefetch unit use realtim prefetch heurist see although perform improv compar bu wrapper without prefetch perform well updat depend model second chart figur 12 summar size result averag increas size caus ad updat depend prefetch techniqu bu wrapper 15k gate comparison realtim prefetch result averag increas 14k gate interest note two acm transact design autom electron system vol 7 1 januari 2002 prefetch improv bu wrapper perform 31 fig 12 perform ns top size gate middl energi nj bottom approach although quit differ result approxim size increas state earlier use realtim prefetch increas design complex due need keep track current regist age howev use extend approach complex increas due ad logic need analyz updat depend third chart figur 12 summar energi consumpt test vector howev addit prefetch bu wrapper alway strictli increas decreas energi consumpt fact see adjust fifo decreas energi consumpt updat depend prefetch ad bu wrapper codec increas hand realtim prefetch increas energi consumpt codec fifo decreas energi consumpt adjust importantli compar result realtim prefetch updat depend prefetch notic updat depend prefetch result signicantli less energi consumpt easili explain fact approach prefetch regist updat wherea realtim prefetch prefetch regist often keep uptod possibl therefor elimin need prefetch regist within regist age constraint reduc energi consumpt 7 conclus keep core interfac intern behavior separ key core market demonstr use bu wrapper nonpvci pvci result size power perform overhead thu retarget advantag standard seem come penalti introduc prefetch techniqu overcom perform head demonstr common case regist combin prefetch elimin perform degrad expens accept increas size power overcom perform degrad associ bu wrapper prefetch thu improv use core provid power solut problem map problem realtim processschedul domain appli heurist analysi techniqu domain also provid gener regist updat depend model use construct efcient prefetch schedul conjunct realtim prefetch demonstr effect solut sever experi show good perform improv accept size energi increas furthermor demonstr use updat depend model abl better prefetch regist compar realtim prefetch methodolog two approach thu complementaryth realtim approach use regist constraint provid modelbas approach paper use regist updat inform also provid 8 futur work although prefetch work well mani possibl improv ment current approach assum regist core prefetch howev core larg number regist approach feasibl thu consid restrict number regist appear bu wrapper creat new cachelik issu map replac coher issu present current design addit evalu effect prefetch larger core exampl anoth direct involv develop prefetch heurist optim given cost function perform power size r interfac cosynthesi techniqu embed system fast prototyp system design java driven codesign prototyp network embed system new direct comput architectur research descript simul hard waresoftwar system java interfac design corebas system inventra core librari comput architectur introduct rapid silicon prototyp hardwaresoftwar codesign embed systemsonachip ic associ year1999year intern technolog roadmap semiconductor case con objectori commun librari hardwaresoftwar codesign experi system level design consum ic construct applicationspec heterogen embed architectur custom hwsw applic virtual socket interfac associ virtual socket interfac associ virtual socket interfac associ accept may tr comput architectur quantit approach realtim system program languag interfac cosynthesi techniqu embed system construct applicationspecif heterogen embed architectur custom hwsw applic interfacebas design case configureandexecut paradigm fast prototyp java driven codesign prototyp network embed system schedul algorithm multiprogram hardrealtim environ new direct comput architectur research interfac design corebas system objectori commun librari hardwaresoftwar codesign busbas commun synthesi systemlevel ctr ken batcher robert walker cluster miss predict instruct cach embed network applic proceed 14th acm great lake symposium vlsi april 2628 2004 boston usa mina dasygeni erik brockmey bart durinck francki catthoor dimitrio soudri antonio thanailaki combin dma applicationspecif prefetch approach tackl memori latenc bottleneck ieee transact larg scale integr vlsi system v14 n3 p279291 march 2006