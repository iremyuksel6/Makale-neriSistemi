estim state line statist sequenti circuit articl present simulationbas techniqu estim signal statist switch activ signal probabl flipflop output node state signal gener sequenti circuit apart provid estim power consum flipflop inform need calcul power combin portion circuit statist comput collect sampl obtain fast rtl simul circuit input sequenc either randomli gener independ select userspecifi pattern set import advantag approach desir accuraci specifi front user approxim algorithm iter specifi accuraci achiev approach implement test number sequenti circuit shown handl larg sequenti circuit handl exist method use reason amount cpu time memori circuit s385841 1426 flipflop analyz 10 minut b introduct dramat decreas featur size correspond increas number devic chip combin grow demand portabl commun comput system made power consumpt one major concern vlsi circuit system design brodersen et al 1991 inde excess power dissip integr circuit discourag use design portabl environ also caus overh work support part intel corp digit equip corp semiconductor research corp author address v saxena accelchip inc schaumburg il f n najm univers toronto depart ece 10 king colleg road toronto ontario canada m5 3g4 email fnajmutorontoca n hajj dean faculti engin architectur american univers beirut beirut lebanon permiss make digit hard copi part work person classroom use grant without fee provid copi made distribut profit commerci advantag copyright notic titl public date appear notic given copi permiss acm inc copi otherwis republish post server redistribut list requir prior specif permiss fee acm transact design autom electron system vol 7 3 juli 2002 page 455473 456 v saxena et al circuit combin sequenti circuit latch present state next state input output xxx fig 1 fsm model sequenti logic circuit lead soft error perman damag henc need accur estim power dissip ic design phase main conceptu difficulti power estim power depend input signal drive circuit simpli put activ circuit consum power thu one straightforward method power estim simul design possibl input comput power dissip input averag result howev approach prohibit expens thu main difficulti power estim power input patterndepend possibl overcom patterndepend problem use probabl describ set possibl logic signal studi power result collect influenc signal formul achiev certain degre patternindepend allow one effici estim power dissip recent propos power estim tool najm 1994 base probabilist approach limit combin circuit techniqu propos sequenti circuit review next section consid circuit popular wellstructur design style synchron sequenti circuit shown figur 1 word consist flipflop driven common clock combin logic block whose input output flipflop output input therefor averag power dissip circuit broken power consum flipflop consum combin logic block provid conveni way decoupl problem simplifi analysi estim state line statist 457 articl present statist estim techniqu collect signal statist switch activ signal probabl flipflop output work extend improv preliminari work propos najm et al 1995 statist comput collect sampl obtain fast registertransferlevel rtl simul circuit input sequenc either randomli gener independ select userspecifi pattern set given possibl use exist combin circuit techniqu comput power combin circuit use rtl zerodelay simul affect accuraci power estim sinc assum flipflop edgetrigg filter glitch hazard may exist input follow section give background review previou approach section 2 formul problem detail section 3 present approach section 4 give experiment result section 5 conclud discuss section 6 furthermor number theoret result present summar appendix 2 background let um primari input node sequenti logic circuit shown figur 1 let x 1 x 2 x n present state line simplic present assum circuit contain singl clock drive bank edgetrigg flipflop fall edg clock flipflop transfer valu input output input u present state valu determin next state valu circuit output circuit implement finit state machin fsm exist power estim techniqu handl combin circuit najm 1994 requir inform circuit input statist tran sition probabl etc allow extens sequenti circuit therefor suffici comput statist flipflop output correspond flipflop power exist techniqu would appli comput power consum combin block briefli survey recent propos techniqu estim power sequenti circuit propos techniqu handl sequenti circuit ismaeel breuer 1991 hachtel et al 1994 monteiro devada 1994 tsui et al 1994 make simplifi assumpt fsm markov papouli 1984 futur independ past present state specifi propos techniqu comput probabl signal transit flipflop output wherea other also comput power approach ismaeel breuer 1991 solv directli transit probabl present state line use chapmankolmogorov equat papouli 1984 comput expens anoth approach also attempt direct solut chapmankolmogorov equat given hachtel et al 1994 although effici remain quit expens largest test case present contain less 458 v saxena et al better solut offer monteiro devada 1994 tsui et al 1994 base solv nonlinear system give present state line probabl follow given probabl p p um input line let vector present state probabl p p x n appli combin logic block assum present state line indepen dent one comput correspond next state probabl vector f p ps function f nonlinear vectorvalu function determin boolean function implement combin logic gener next state probabl form vector p ns p ns ps flipflop output necessarili independ method monteiro devada 1994 tsui et al 1994 make independ assumpt p ns f p ps final sinc p ns p ps due feedback obtain state line probabl valu solv system system solv use newtonraphson method monteiro devada 1994 use picardpeano iter method tsui et al 1994 one problem approach clear system f p uniqu solut nonlinear may multipl solut case clear correct one anoth problem independ assumpt need hold practic especi view feedback techniqu tri correct monteiro devada 1994 done account mwise correl state bit comput probabl requir 2 addit gate get expens nevertheless show good experiment result approach tsui et al 1994 unrol combin logic block k time less expens monteiro devada 1994 author observ good result obtain final order fsm markov input vector must independ ident distribut anoth assumpt also may hold practic new simulationbas approach introduc author najm et al 1995 make assumpt fsm behavior markov otherwis make independ assumpt state line allow user specifi desir accuraci confid achiev result approxim algorithm iter specifi accuraci achiev assumpt made given next section autocovari logic signal mild gener true period logic signal method involv collect statist number parallel simul circuit driven independ set vector statist gather use determin state line probabl articl extend approach comput latch switch activ addit probabl provid improv converg criterion significantli improv runtim signific loss accuraci 3 problem formul sinc system clock conveni work discret time fsm input time k u k present state time x k estim state line statist 459 determin next state x k1 output order take account effect larg set input one typic interest averag power dissip long period time therefor assum fsm oper time k infinit logic signal xk character two measur signal probabl p x fraction clock cycl time unit signal high transit densiti dx averag number logic transit per clock cycl measur formal present appendix also shown logic signal deriv xk x cycl xk make transit 0 otherwis 1 stress result true discretetim logic signal signal make one transit per clock cycl glitchfre articl mainli concern flipflop output obvious glitchfre result relev order studi properti logic signal use consid random model logic signal use bold font repres random quantiti denot probabl event pa x random variabl denot mean ex infinit logic signal xk view sampl stochast process xk consist infinit set shift copi logic signal process call companion process embodi detail logic signal includ probabl densiti detail basic result relat companion process given appendix a2 extens previou continuoustim work najm 1993b specif companion process stationari time instant k probabl xk high equal signal probabl logic signal result hold logic signal conceptu construct companion process correspond fsm signal view fsm system oper stochast input consist companion um k stochast state consist process x 1 k x 2 k x n k given statist input vector um k one would like comput statist state vector go need make one mild assumpt relat covari process xk assumpt 1 state machin time k becom independ initi state time 0 k assumpt mild gener true practic nonperiod logic signal two valu signal separ larg number clock cycl becom increasingli uncorrel one necessari condit assumpt fsm aperiod acm transact design autom electron system vol 7 3 juli 2002 460 v saxena et al cycl repetit pattern state aperiod implicitli assum previou work sequenti circuit specif whenev fsm assum markov case aperiod becom equival assumpt fsm usual also assum aperiod leav section consid question exactli statist xk requir order estim power statist must suffici comput combin circuit power mani techniqu combin circuit power estim najm 1994 requir signal probabl transit densiti everi input discretetim signal know transit densiti equival know transit probabl sinc power consum flipflop also deriv dx state line p suffici comput power whole circuit algorithm comput statist present next section 4 comput state line statist propos obtain state line statist perform mont carlo logic simul design use highlevel function descript say registertransferlevel comput probabl larg number sampl produc highlevel simul done fast one afford simul larg number cycl howev need defin simul setup mechan determin length simul necessari obtain meaning statist also import correctli choos input vector use drive simul issu discuss 41 simul setup first discuss estim state line probabl p suppos fsm known state x 0 time 0 use 2 given assumpt 1 state signal x lim breviti denot condit probabl lim method consist estim p k increas valu k converg accord 3 achiev accomplish perform number simul run circuit parallel start state drive simul input vector stream consist statist uk simul run driven separ independ chosen input vector stream result logic waveform x design run number n acm transact design autom electron system vol 7 3 juli 2002 estim state line statist 461 number simul run averag result everi time k obtain estim probabl time follow law larg number follow lim wedo actual perform infinit number run use establish techniqu estim proport miller johnson 1990 predict mani run perform order achiev userspecifi errortoler confid 1 level specif shown najm 1993a want 1 100 confid must perform least n maxn 2 z 2 z 2 z 2 realvalu function defin follow let z random variabl standard normal distribut normal distribut mean 0 varianc 1 given z 2 defin real number pz z 2 valu z 2 obtain erf function avail comput system instanc z confid ie z confid equat seen 490 run enough obtain result accuraci confid userspecifi requir valu n found front given initi n parallel simul fsm state signal x obtain waveform repres p k increas valu methodolog use estim dx simul statist estim state transit densiti also collect along statist state line probabl estim result anoth set waveform state signal x repres defin 1 remain question determin k larg enough said converg p discuss next section 462 v saxena et al 42 converg time accur determin converg time k comput expens time converg long studi system dynam determin converg expens stanc even rel simpler case system assum markov converg relat eigenvalu system matrix whose size exponenti number flipflop overcom difficulti use heurist techniqu effici check converg simpli state monitor waveform valu time converg detect order simpl approach work well practic make care choic specif way waveform monitor converg check describ result method found work quit well practic sever import featur 1 monitor two waveform instead one 2 check averag differ two waveform time window 3 use lowpass filter remov nois waveform explain restrict discuss probabl waveform sinc treatment densiti waveform similar 421 two waveform check converg one waveform say may done simpli monitor waveform valu level remain steadi length time simpl approach advis possibl waveform level time chang reach steadyst valu order reduc chanc type error monitor two version p k waveform x check converg look done consid two differ initi state denot x 0 clear equat 3 choic initi state affect final result may affect rate converg final probabl densiti valu requir order error toler confid result valid n simul run start state thu perform two set simul run machin consist n machin run parallel n machin set start initi state differ initi state x 0 x 1 use two set mechan determin x 0 x 1 present section 43 machin driven independ select see section 45 input stream observ data differ machin constitut random sampl state line signal statist collect n parallel simul set result two waveform steadyst probabl p k increas k valu possibl improv techniqu examin three waveform may observ use two waveform give suffici accuraci second waveform basic give second opinion found need third 422 time window use two measur check converg pair p k waveform sinc p k acm transact design autom electron system vol 7 3 juli 2002 estim state line statist 463 converg p differ defin p k defin remain within 0 k remain within fix valu certain time window consid converg steadyst p experi variou time window size found window three cycl suffici simul simultan obtain anoth set two waveform correspond transit densiti k state signal x converg criteria use p present also appli determin converg dx state signal x declar converg p 423 filter combin two featur present give good result practic found sometim take longer observ converg mean instanc waveform p k found hover long time around valu effect converg constant fluctuat around steadyst valu imped converg check fluctuat charact random nois case may simpli due slow system dynam case clear remov imper order get faster converg check achiev waveform filter converg criteria appli use linear phase ideal lowpass filter empir select f c equal 002 conjunct ham window width 100 impuls respons filter 0 otherwis first sidelob ham window 41 db main lobe result neg compon frequenc respons neglig comparison filter window han rectangular window result fir filter rippl passband although blackman bartlett triangular window also result filter without rippl passband ham window introduc narrowest transit band window size oppenheim schafer 1989 chen 1979 sinusoid variat time period less 100 1 f c timestep remov filter process elimin highfrequ nois oscil waveform least 100 time step requir one suffici datapoint use filter reason filter appli waveform 100 cycl pass amount warmup period 100 cycl speed converg check without compromis qualiti result filter paramet chosen found work well practic specif paramet valu critic matter filter remov high frequenc fluctuat waveform 464 v saxena et al everi state signal x four waveform p k separ state signal converg simul termin averag filter version report signal probabl p x averag filter version k report transit densiti dx 43 determin initi state carri simul describ requir two initi state fsm case inform design fsm avail user may suppli set two state correspond normal oper circuit care taken ensur state far apart state space fsm connect subset state space lead better coverag state space simul process practic may possibl user suppli two differ state thu present simulationbas techniqu determin second state x 1 given state x 0 circuit consider explicit reset state x 0 could chosen equal case reset state known state occur regular oper circuit could suppli user use x 0 case usersuppli inform avail choos x default valu initi simul fsm start x 0 simul carri 100 timestep use either randomli select usersuppli see section 45 input vector requir x 1 chosen correspond state largest ham distanc x 0 observ 100 timestep although guarante optim start point statespac use method absenc inform design fsm mechan also ensur x 1 correspond state fsm would visit circuit normal oper choic 100 timestep empir usercontrol simul determin x 1 carri main simul start contribut total runtim neglig less 1 44 low densiti state signal observ circuit exist state signal low switch activ refer signal lowdens state signal signal low densiti observ regardless initi state fsm x 0 x 1 signal typic find transit densiti waveform k signal probabl waveform may converg fast signal may get stuck logic 0 1 remain long time low switch activ result p k may close 1 p k waveform may close 0 vice versa although waveform signific variat time thu satisfi averag criterion satisfi differ criterion converg result case acm transact design autom electron system vol 7 3 juli 2002 estim state line statist 465 circuit simul process may continu long time without tangibl gain knowledg node statist account state signal incorpor stop criterion call low densiti criterion essenti relax error toler state signal declar low densiti result signific speedup allow handl larg circuit simul keep note last timestep k last least one state signal declar converg use regular converg criterion continu simul process use regular converg criterion long k current last k nochang k nochang fix threshold valu indic long one will wait possibl special case handl lowdens node implement k nochang userdefin constant special case handl follow consid state signal yet converg check see either k userspecifi lowdens threshold min case state signal x declar lowdens state signal sinc lowdens state line littl impact circuit power lowdens signal immedi assum converg although user caution presenc obviou result section 5 number state line low sinc switch activ state line low absolut error power estim introduc result termin neglig author also observ lowdens criterion effect result remain node converg normal simul continu case state signal remain neither converg classifi low densiti new state signal converg anoth k nochang timestep lowdens threshold increment small amount lowdens criterion appli benchmark circuit consid happen point section 5 45 input gener view assumpt 1 one requir appli input sequenc u k period anoth condit requir estim 4 hold differ u sequenc use differ simul run select independ otherwis limit place input sequenc exact way input select depend design inform avail input instanc fsm meant execut microcod fix set instruct everi sequenc may piec microcod program u select independ pool typic microcod section method input gener faith reproduc bit correl u k well tempor correl u k u altern user inform rel frequenc instruct occur practic specif program select instruct sequenc random number gener use select instruct random acm transact design autom electron system vol 7 3 juli 2002 466 v saxena et al appli machin would preserv bit correl tempor correl success instruct conceiv correl data avail one bia random gener process reproduc correl gener situat machin input arbitrari simpler random gener process use instanc may import applic reproduc correl bit success vector user may inform statist individu input bit probabl p input case one design random gener process produc signal requir p statist follow use equat a3 appendix one comput p mean high time mean low time signal assum certain distribut type high low puls width one easili gener logic signal requir statist instanc one use geometr distribut equival signal x individu markov one obtain fix valu probabl px px shown xakelli najm 1994 gener logic signal accordingli incident case even though input markov fsm necessarili markov system final probabl p avail input node import reproduc input correl inform one gener input sequenc coin flip use random number gener case input said independ ident distribut fsm shown markov individu state bit x may markov implement result approach report next section base last case independ ident distribut input howev techniqu applic mechan input genera tion explain 5 experiment result techniqu implement prototyp c program accept netlist descript synchron sequenti machin program perform zero delay logic simul monitor flipflop output probabl densiti converg improv speed simul 31 copi machin parallel use bitwis oper test program number circuit iscas89 sequenti benchmark set brglez et al 1989 result present base error toler 005 ie confid ie impli circuit choos x condit typic converg characterist shown figur 2 two waveform shown correspond p n start x 0 p n start x 1 node x3 circuit s8381 circuit 34 input 32 flipflop 446 gate estim state line statist 467 probabl fig 2 converg probabl s8381 node x3 tabl iscas89 circuit circuit input latch gate decay sinusoid converg typic although case converg simpli decay exponenti much faster order assess accuraci techniqu compar 005 95 result muchmor accur run program use 0005 error toler 99 confid accur simul requir separ copi machin two initi state x 0 x 1 66349 machin simul independ sinc use 100point filter converg window 3 timestep least 103 timestep requir start appli converg criteria assum converg shortest possibl time 103 cycl impli total 68 million 103 66 349 vector fed set machin x 0 x 1 sinc interest steadyst node valu simu lation need use accur time simul circuit simul make comparison highli accur run take long time therefor perform limit set benchmark circuit given tabl comput differ statist 005 95 run 0005 99 run figur 3 show result error histogram state line probabl flipflop output circuit tabl figur 4 error histogram state line transit densiti notic node error well within acm transact design autom electron system vol 7 3 juli 2002 468 v saxena et al206010002 015 01 005 0 proberr fig 3 flipflop probabl error histogram desir userspecifi 005 error bound state line probabl transit densiti monitor speed techniqu report result tabl ii execut time sun sparc5 workstat circuit much larger especi term flipflop count largest isca circuit test previou method monteiro devada 1994 tsui et al 1994 furthermor circuit tabl also test monteiro devada 1994 tsui et al 1994 techniqu work much faster sinc method use bdd comput probabl memori problem run larg circuit largest circuit s385841 requir 192 mb sun sparc5 tabl ii also give number cycl requir converg number state signal classifi low densiti lowdens criterion paramet use k nochang 500 increment requir 005 mention earlier least 103 timestep requir start appli converg criteria smaller circuit without lowdens flipflop converg within 120 timestep ex pect howev number cycl requir increas larger circuit larger flipflop count mean machin state space much larger probabl individu machin state becom much smaller result mani cycl may requir achiev equilibrium larger circuit also requir cpu time per cycl sinc simul acm transact design autom electron system vol 7 3 juli 2002 estim state line statist 469103050709002 015 01 005 0 denserr fig 4 flipflop densiti error histogram tabl ii converg inform iscas89 benchmark circuit input latch gate cycl cpu time low den s92341 36 211 5597 614 1212 min 3 s385841 38 1426 19253 112 1025 min 0 470 v saxena et al combin part circuit also take time comparison smaller circuit case circuit lowdens flipflop number cycl requir least 603 103 appli normal criteria 500 wait cycl appli lowdens criterion circuit s132071 one need increment lowdens threshold min 6 conclus exist power estim techniqu limit combin cir cuit wherea practic circuit design sequenti present new statist techniqu estim state line statist synchron sequenti circuit simul multipl copi circuit independ select input sequenc statist flipflop output collect allow effici power estim whole design import advantag approach desir accuraci result specifi front user approxim algorithm iter specifi accuraci achiev implement techniqu test number sequenti circuit 1526 flipflop state space size greater 10 459 addit converg criterion lowdens node new simulationbas mechan determin start state fsm lead reduc runtim confirm accuraci specifi user inde achiev techniqu memori requir reason larg circuit handl eas discretetim logic signal set integ let xk k z function discret time take valu 0 1 use time function model discretetim logic signal digit circuit definit result present repres extens similar concept develop continu time signal najm 1993b main result proposit 1 3 therefor given without proof proposit 2 present bound relationship probabl densiti discretetim signal a1 probabl densiti notic set integ k 2 contain exactli k element k 0 posit integ definit 1 signal probabl xk denot p x defin kk xk a1 shown limit a1 alway exist estim state line statist 471 xk xk 1 say signal undergo transit time k correspond everi logic signal xk one construct anoth logic signal undergo transit k otherwis x let n x k number transit xk k 2 therefor definit 2 transit densiti logic signal xk denot dx defin k k a2 notic n x k limit a2 exist time two consecut transit xk refer intertransit time xk transit next transit intertransit time length n two transit let 1 0 averag high low correspond intertransit time xk gener guarante exist 0 1 total number transit posit time finit say infinit intertransit time follow last transit 0 1 exist similar convent made neg time proposit 1 0 1 exist dx a3a b proposit 2 p x dx relat as2 dx proof a3 easi arriv time discret 1 1 0 1 combin a4 lead requir result anoth way express result say given p x dx restrict shade region shown figur 5 a2 companion process let xk k z discretetim stochast process najm 1993a take valu 0 1 transit random discret transit time process call 01 process logic signal xk thought sampl 01 stochast process xk xk one infin possibl signal compris famili xk 472 v saxena et al fig 5 relationship densiti probabl stochast process said stationari statist properti invari shift time origin najm 1993a among thing mean exk process constant independ time denot ex let n x k denot number transit xk k 2 1 k 2 given k n x k random variabl xk stationari en x k depend k independ locat time origin furthermor one show xk stationari mean en x k k constant irrespect k let z z random variabl cumul distribut function f z finit k f z say z uniformli distribut whole integ set z use z construct xk stochast 01 process xk call companion process defin follow definit 3 given logic signal xk random variabl z uniformli distribut z defin 01 stochast process xk call companion process xk given given random variabl function random variabl z intuit xk famili shift copi xk shift valu random variabl z thu xk sampl xk one also relat statist process xk properti logic signal xk follow proposit 3 companion process xk logic signal xk station ari r combin profil sequenti benchmark circuit probabilist analysi larg finit state machin probabl error detect sequenti circuit use random test vector probabl statist engin methodolog effici estim switch activ sequenti logic circuit statist estim signal probabl vlsi circuit survey power estim techniqu vlsi circuit power estim sequenti circuit exact approxim method calcul signal transit probabl fsm statist estim switch activ digit circuit revis januari tr discretetim signal process probabl error detect sequenti circuit use random test vector survey power estim techniqu vlsi circuit methodolog effici estim switch activ sequenti logic circuit exact approxim method calcul signal transit probabl fsm probabilist analysi larg finit state machin statist estim switch activ digit circuit power estim sequenti circuit onedimension digit signal process ctr sanjukta bhanja karthikeyan lingasubramanian n ranganathan stimulusfre graphic probabilist switch model sequenti circuit use dynam bayesian network acm transact design autom electron system toda v11 n3 p773796 juli 2006