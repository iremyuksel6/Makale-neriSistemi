event detect algebra reactiv system reactiv system execut driven extern event system respond appropri action event simpl system often suppos react sophist situat involv number simpler event occur accord pattern systemat approach handl type system separ mechan detect composit event rest applic logicin paper present event algebra composit event detect show number algebra law facilit formal reason justifi algebra semant show extent oper compli intuit final present implement algebra identifi larg subset express detect perform bound resourc b introduct mani realtim embed system reactiv mean execut driven extern event system react appropri respons mani applic system react complex event pattern sometim call composit event rather permiss make digit hard copi part work person classroom use grant without fee provid copi made distribut profit commerci advantag copi bear notic full citat first page copi otherwis republish post server redistribut list requir prior specif permiss andor fee septemb 2729 2004 pisa itali singl event occurr systemat approach handl type system separ mechan detect composit event rest applic logic detect mechan take input primit event detect occurr composit event use input applic logic separ concern facilit design analysi reactiv system detect complex event given formal semant independ applic use remain applic logic free auxiliari rule inform partial complet pattern exampl 1 consid system input event includ button b pressur alarm p temperatur alarm one desir reaction system perform action button press twice within two second unless either alarm occur achiev set rule specifi reaction three event combin behaviour implement desir reaction altern separ detect mechan use defin composit event e correspond describ situat singl rule state occurr e trigger action two approach illustr figur 1 applic logic event detect applic logic figur 1 implicit explicit detect composit event mechan detect composit event construct event algebra ie number oper express built repres event pattern interest paper propos event algebra specif target applic limit resourc embed realtim system present number algebra law facilit formal reason justifi algebra semant show extent oper compli intuit final identifi criteria detect perform limit resourc present transform algorithm allow mani express transform form criteria met propos algebra consist five oper disjunct b repres either b oc cur denot ab conjunct mean event occur possibl simultan denot ab negat denot ab occur occurr occurr b sequenc ab occurr follow occurr b final tempor restrict occur occurr shorter time unit exampl 2 composit event e previou exampl correspond express bb2pt algebra oper semant describ inform specifi handl situat occurr could particip sever occurr composit event exampl three occur follow two occurr b result six occurr ab may accept even desir applic memori requir occurr b must rememb forev increas number simultan event mean unsuit mani case common way deal introduc variant oper impos stronger constraint addit basic condit give exampl possibl sequenc variant requir addit occur b recent occurr far variant defin mean gener restrict polici combin oper restrict polici yield oper variant specif semant restrict appli individu oper occurr express exist event algebra restrict polici user algebra must understand interfer nest restrict eect restrict dierent oper combin develop novel restrict polici conceptu appli express whole rather individu oper result algebra simpler intuit semant polici care design appli top level semant consist appli recurs subexpress allow ecient implement far know previou research event algebra address conform algebra law particular event algebra suit system limit resourc typic exhibit unintuit semant poor algebra prop erti throughout paper proof reduc left due space limit reader refer 3 full proof rest paper organis follow section 2 survey relat work algebra defin section 3 follow present algebra properti section 4 section 5 present implement includ analysi time memori complex section 6 describ semanticpreserv transform algorithm section 7 conclud paper 2 relat work oper algebra well use interv semant restrict detect influenc work area activ databas snoop 6 ode 9 samo 8 exampl activ databas system event algebra use specifi reactiv behaviour system dier primarili choic detect mechan samo base petri net snoop use event graph ode event definit equival regular express detect state automata area activ databas event algebra often given formal semant algebra properti oper investig also resourc ecienc typic main concern common system consid composit event instantan ie occurr associ singl time instant normal time detect galton augusto shown result unintend semant oper composit 7 exampl occurr follow b c accept occurr composit event bac sinc b occur occurr ac also present core altern intervalbas semant handl problem use similar semant base algebra extend restrict polici allow algebra implement limit resourc retain desir algebra properti solicitor 12 intervalbas event specif languag base snoop languag target realtim system particular achiev predict resourc requir composit event explicit expir time liu et al use real time logic defin system composit event express time constraint handl gener time constraint monitor techniqu present mechan earli detect time constraint violat show upper bound memori time deriv 11 middlewar platform event detect techniqu use handl high volum event occurr allow consum subscrib certain event pattern rather singl event type sanchez et al present event correl languag event express translat nest petri net like automata 14 event detect mechan describ provid assist develop term algebra properti event express equival theori case memori usag address exampl mean restrict polici result complic nonintuit semant knowledg represent techniqu use similar oper reason event occurr rather detect complex event occur focu express formal fact event occur defin infer rule type statement exampl includ interv calculu 1 event calculu 10 propos algebra larg class composit event detect limit resourc algebra defin simpl declar semant present number algebra law facilit formal reason support claim intuit mean oper valid also complex nest express preliminari version algebra less use algebra properti memori bound describ previou paper 4 3 declar semant simplic assum discret time model throughout paper declar semant algebra use dens time model well restrict prevent primit event occur infinit mani time finit time interv definit 1 tempor domain set natur number 31 primit event assum system predefin set primit event type abl react event extern sampl environ origin anoth system intern violat condit system state timeout detect mechan distinguish categori primit event use associ addit inform occurr exampl occurr temperatur alarm might carri measur temperatur valu use respond ac tion valu manipul algebra group forward part system react detect event definit 2 let p finit set identifi repres primit event type interest system identifi p p let domp denot domain valu p taken occurr primit event assum instantan atom algebra repres event instanc contain event type occurr time valu formal repres primit instanc singleton set allow primit complex instanc treat uniformli definit 3 p p domp singleton set p primit event instanc togeth occurr certain event type form event stream allow simultan occurr gen eral occurr primit event type assum nonsimultan definit 4 primit event stream set primit event instanc identifi dierent time set identifi valu domain captur static aspect system instanc event stream ever dynam concept describ happen particular scenario interpret formal represent singl scenario describ one possibl way primit event occur definit 5 interpret function map identifi p p primit event stream contain instanc identifi p exampl 3 let high low st 12 2t 14 3t 8 5 p low 4 exampl primit event stream ip possibl interpret 32 composit event composit event repres express built identifi oper algebra definit 6 ap event express b event express ab ab ab ab event express next extend concept instanc stream composit event well primit way instanc construct defin algebra semant defin structur definit 7 event instanc union n primit event instanc 0 n inform instanc composit event repres primit event occurr caus occurr composit event sinc semant interv base associ instanc interv follow definit definit 8 event instanc defin interv starta enda thought smallest interv contain occurr primit event caus occurr note primit event instanc event instanc primit instanc exampl 4 let 12 2p low 4t 8 5 event instanc starta2 enda 5 also need definit gener event stream use repres instanc composit event accord definit primit event stream event stream name suggest definit 9 event stream set event instanc name convent use u event stream b c event express lower case letter use event instanc gener belong event stream event stream defin etc 33 semant interpret provid occurr primit event map identifi event stream role algebra semant extend map composit event defin event express follow function event stream form core algebra semant defin basic characterist five oper definit 10 event stream defin neg semant algebra defin recurs appli correspond function oper express definit 11 mean event express given interpret defin follow simplifi present use notat instead choic obviou arbitrari definit result algebra simpl semant intuit algebra properti dicult implement limit resourc deal resourc limit defin formal restrict polici requir implement comput valid restrict event stream specifi algebra semant formal restrict polici defin relat rem rem mean valid restrict altern seen nondeterminist restrict function famili accept restrict func tion reason repeat typic desir implement algebra determinist theoret point view howev prefer leav mani detail design decis possibl open ensur implement consist restrict polici relat guarante properti describ paper basi restrict polici restrict event stream contain multipl instanc end time one ecienc issu formal instanc end time restrict polici keep exactli one maxim start time definit 12 two event stream rem hold follow condit hold 1 2 ss startsstart 3 ss endsend ss rather comput given event express implement algebra comput event stream rema hold user alg bra mean time one occurr one detect 4 properti aid user algebra present select algebra law law facilit reason formal inform algebra system embed also show extent oper behav accord intuit first defin express equival definit 13 event express b defin hold interpret trivial equival relat moreov follow theorem show satisfi substitut con dition henc defin structur congruenc event express theorem 1 proof follow straightforward way definit law formul extens set law formal proof reader refer 3 theorem 2 event express b c follow law hold follow law describ tempor restrict propag express section 6 law use defin algorithm transform event express equival express detect ecient theorem 3 event express b follow law hold p min ab b ab b ab ab ab b ab ab law identifi express semant equiv alent order handl resourc limit expect implement algebra comput event stream rema rather comput result detect might yield dierent stream detect even consequ clarifi extent law present still applic restrict appli theorem 4 event express rema hold rema hold well thu ensur result implement detect alway valid result long reason base algebra semant restrict polici detail particular detect algorithm equal valid equival express investig relat equival express restrict appli notic restrict polici impli detect event stream equival express alway contain instanc correspond start end time mean part system respond detect event occurr notifi time equival express possibl dierent valu attach detect occurr formal express follow definit 14 event stream defin hold follow hold start end trivial equival relat theorem 5 event stream rem rem hold proof take sinc second condit definit rem exist also thu accord third condit definit rem impli mean startt startt startt thu startt startt start end time trivial opposit hold well corollari 1 rema rema thu ensur implement consist restrict polici instanc found detect start end time mean part system respond detect event occurr notifi time equival express possibl dierent valu attach detect occurr order get desir ecienc subexpress express must detect ecient way thu restrict polici appli recurs everi subexpress scenario would normal requir user algebra understand restrict dierent subexpress interfer eect dierent oper combin avoid oper restrict polici care design support follow theorem inform state restrict subexpress well whole express give result valid also case restrict appli top level theorem 6 rem remt hold event stream u follow implic hold proof present proof negat refer 3 full proof assum remneg u subset requir definit rem u exist startu startt endt endu must exist startt startt contradict fact u neg sinc exist u neg thu u neg satisfi first condit definit rem next take arbitrari u neg u exist u endu exist startu startt endt endu fact contradict exist mean exist u u startu startu endu second constraint definit rem final remneg u ensur instanc u dierent end time togeth show three constraint definit 12 satisfi thu remneg u hold 5 event detect algorithm section present imper algorithm given event express e comput event stream reme hold throughout section e denot event express detect number 1 assign subexpress e bottomup order let e denot subexpress number consequ p figur 2 present algorithm algorithm execut everi time instant comput current instanc e current instanc primit event store inform past oper occurr express requir state variabl thu variabl index 1 variabl use store current instanc thu contain output algorithm execut auxiliari variabl l r q store inform past need detect e properli l r singl event instanc store store time instant q contain set event instanc symbol use repres nonoccurr defin startend1 simplifi algorithm algorithm design detect arbitrari ex pression main loop select dynam part algorithm execut subexpress system event express interest static known time develop main loop unrol toplevel condit well dice static determin concret exampl given figur 3 51 algorithm correct next relat algorithm algebra semant describ previou section must estab lish purpos need formalis algorithm output construct correspond event stream definit 15 1 defin outi denot valu execut algorithm time 0 due space limit give inform descript oper refer 3 formal proof 1 current instanc e current instanc ak els j l els startak starta j j r els l ak ak foreach e q e ak j els figur 2 algorithm detect event express initi 1 l r disjunct oper fairli simpl requir auxiliari variabl e j e k occur time restrict polici requir one latest start time select start time implement give preced right subexpress fact implement disjunct oper correspond declar semant restrict respect instanc detect subex pression formul remdisaj ak ai conjunct necessari store instanc maximum start time far two subexpr sion start time instant l element e eaj end maximum start time set empti correspond properti hold r ak first two condit conjunct part algorithm correctli updat state next time stant new state use construct current output instanc conjunct one current instanc none a2 current instanc p none a4 current instanc b none t5 starta4 t5 starta4 t5 starta3 a5 a3 els a5 figur 3 static simplifi algorithm detect tpb initi t5 1 accord semant negat oper instanc b instanc bc unless invalid instanc c occur within interv current instanc b invalid invalid instanc c maximum start time occur far thu sucient store singl start time sinc end time trivial known less end time current instanc b start time instant maximum start time element e e ak end set empti first condit updat state valid next time instant updat variabl use check current instanc e j invalid sequenc oper requir complex algorithm reason order detect sequenc bc correctli must store sever instanc b c occur start time instanc determin store instanc b combin form instanc bc follow hold start time instant maximum start time element e eaj end 1 set empti q first condit select best match current instanc instanc store q creat output instanc match instanc found second condit state updat ensur q contain fulli overlap instanc e j instanc check ad tempor restrict tempor restrict fairli straightforward implement requir auxiliari state variabl put togeth follow theorem establish correct algorithm state subexpress e includ detect instanc correspond valid restrict theorem 7 1 reme ai hold proof p assumpt interpret correctli repres realworld scenario thu reme ai hold trivial ak foreach e q e ak foreach e q q q e l e figur 4 algorithm next assum reme x ax hold 1 x accord discuss remdisaj ak ai sinc subexpress number bottomup j k assumpt reme j aj reme k ak hold accord theorem 6 remdis j hold mean reme ai hold similar proof construct oper duction theorem hold 52 memori complex instanc fix size instanc subexpress e contain m2 primit stanc one identifi occurr e thu assum element valu domain constant size size singl event instanc bound quick analysi algorithm reveal di junction conjunct negat tempor restrict event express requir limit amount storag storag requir sequenc oper depend maximum size q bound exist gener case import class sequenc express howev detect algorithm redefin ensur limit memori time complex sequenc ab know maximum length instanc b express b b limit number instanc must store order detect sequenc correctli inform start instanc b time unit back time thu need store one instanc end earlier store one maximum start time instanc end later point time need store sever origin algorithm improv algorithm detect ab b b bound memori present figur 4 c use access current time instant state similar state use sequenc origin algorithm q contain sux q variabl origin version remain element singl element maximum start time store l sinc size q never exce 1 type sequenc detect limit memori larg valu exampl system fine granular timebas resourc bound might suffici practic also ab bound larg overapproxim unless occur frequent inform minimum separ time primit event ie minimum time two consecu figur 5 transform function tive occurr event precis worst case memori estim deriv 3 53 time complex result instanc fix size assign instanc variabl might constant oper rather proport instanc size thu oper contribut least factor complex whole algorithm sequenc straightforward represent q variabl give linear time complex find best match instanc respect size limit q variabl give total complex omn number subexpress e n maxmn n maximum size limit due particular characterist q elabor implement possibl best match found logarithm time updat bound factor variables instanc detail see 3 use implement total complex omn 6 transform algorithm section describ event express automat transform equival express allow ecient detect transform algorithm base algebra law describ tempor restrict propag express present theorem 3 simplifi present extend algebra syntax two construct symbol ad tempor domain allow tempor restrict unrestrict express treat uniformli formal defin sinc improv sequenc algorithm defin sequenc ab b b introduc notat b label sequenc inform transform algorithm base recurs function take express time input return transform express time function defin figur 5 input time repres tempor restrict appli express without chang mean express whole return time repres tempor restrict appli transform express without chang mean mean express unchang algo rithm sequenc label correctli specifi follow theorem proof reader refer 3 theorem 8 transform e also sequenc e label form b hold trivial time complex transform algorithm linear respect size e sequenc e label e consequ e correctli detect limit memori exampl 5 transformbb2 ppt b0b2p2 pt2 2 mean express detect limit memori note tempor restrict left subexpress negat propag right subexpress make detect limit memori 7 conclus futur work present fulli formal event algebra oper disjunct conjunct negat sequenc tempor restrict allow ecient implement formal restrict polici defin restrict polici appli express whole rather individu oper occurr mean user algebra requir understand eect nest restrict number algebra law present facilit formal reason justifi algebra semant show extent oper compli intuit present imper algorithm comput restrict version event stream specifi algebra semant accord restrict polici user algebra mean time one occurr composit event one detect algorithm final criteria detect perform limit resourc identifi describ algorithm mani express transform meet criteria ongo work includ investig combin algebra languag specif target reactiv system particular esterel 2 frp 13 15 timber 5 also consid extend algebra delay oper allow definit timeout event ad support manipul valu associ event occurr 8 r action event interv tempor logic esterelv5 languag primer intuit resourceeci event detect algebra intervalbas algebra restrict event detect semant layer timber express event specif languag activ databas two approach event definit event activ objectori databas system compos system composit specif detect logicbas calculu event unifi approach specifi time constraint composit event activ realtim databas system function reactiv program event correl languag semant tr logicbas calculu event snoop express event specif languag activ databas function reactiv program continu eventdriven frp compos two approach event definit unifi approach specifi time constraint composit event activ realtim databas system