dynam configur messag flow control faulttoler rout abstractfaulttoler rout protocol modern interconnect network reli heavili network flow control mechan use optimist flow control mechan wormhol switch ws realiz good perform prone deadlock presenc fault conserv flow control mechan pipelin circuit switch pc ensur exist path destin prior messag transmiss achiev reliabl transmiss expens perform paper propos gener class flow control mechan dynam configur tradeoff reliabl perform rout protocol design vicin fault protocol use conserv flow control mechan major messag travers faultfre portion network util ws like flow control maxim perform refer protocol twophas protocol abil provid new avenu optim messag pass perform presenc fault fulli adapt twophas protocol propos compar via simul base ws pc architectur network router support configur flow control also describ b introduct modern multiprocessor interconnect network featur use messag pipelin coupl virtual channel improv network throughput insur deadlock freedom 692124 messag broken small unit call flit flow control digit 9 wormhol switch ws data flit immedi follow rout header flit network 9 rout algorithm use ws character optimist network resourc eg buffer channel commit soon becom avail optimist natur lead high network throughput low averag messag latenc howev presenc research support part grant nation scienc foundat grant ccr9214244 grant spanish cicyt grant tic940510c0201 preliminari version paper present part 22nd annual intern symposium comput architectur santa margherita ligur itali june 1995 fault behavior lead situat rout header becom block longer make progress henc caus network becom deadlock typic addit rout restrict andor network resourc requir ensur deadlock freedom presenc fault 45811 exampl fault ring construct around convex faulti region use addit virtual channel attend rout restrict 4 addit sourc hardwar synchron mechan propos chang rout decis presenc fault 20 partial adapt rout around convex fault region addit channel feasibl 5 recent use timeout deadlock recoveri mechan propos 22 altern pipelin circuit switch pc flow control mechan path setup data transmiss stage decoupl 15 header flit first rout construct path presenc fault header may perform control limit backtrack oppos ws rout algorithm base pc conserv natur commit data network complet path establish result extrem robust reliabl commun protocol howev path setup exact signific perform penalti form increas messag latenc decreas network throughput especi short messag paper propos use configur flow control mechan fulli adapt rout pipelin network paper contribut dynam configur flow control mechan lowest level twophas rout protocol rout layer rout protocol design vicin faulti compon messag use pc style flow con trol control misrout backtrack use avoid fault deadlock configur time messag use ws flow control faultfre portion network attend perform advantag protocol refer twophas protocol fulli adapt deadlockfre twophas protocol faulttoler rout mesh tori propos analyz paper formal properti twophas rout establish result experiment evalu present evalu establish perform impact specif design decis address choic conserv vs configur flow control faulttoler rout discuss relat deadlocklivelock freedom issu final paper describ architectur oper singl chip router implement twophas rout protocol distinguish featur approach reli addit virtual channel alreadi need fulli adapt rout ii perform consider better conserv faulttoler rout algorithm equival reliabl iii base flexibl fault model ie support link andor node fault requir convex fault region iv support exist techniqu recoveri dynam transient failur link switch vi provid rout protocol greater control hardwar messag flow con trol open new avenu optim messag pass perform presenc fault follow section introduc definit network channel fault mod el new class flow control mechan introduc section 3 section 4 introduc fault toler rout section 41 provid analysi rout properti requir deadlock freedom section 42 introduc fulli adapt twophas rout protocol mesh tori architectur support discuss section 5 result simul experi present section 6 paper conclud plan implement router futur research direct preliminari 21 network model although twophas rout use topolog theoret result gener topolog specif class network consid paper toru connect bidirec tional kari ncube multidimension mesh kari ncube hypercub n dimens k processor dimens toru connect kari ncube processor connect immedi neighbor modulo k everi dimens multidimension mesh similar kari ncube without wrap around connect messag broken small unit refer flow control digit flit flit smallest unit flow control perform repres smallest unit commun pipelin network process element pe network connect rout node pe rout node oper concurr assum one physic link rout node use pe connect network commun link fullduplex link channel width flit size assum equival number virtual channel implement direct physic channel virtual channel realiz independ manag flit buffer share physic channel bandwidth flitbyflit basi mechan describ 6 use alloc physic channel bandwidth virtual channel demanddriven manner flit move input channel buffer output channel buffer within node intern crossbar switch given header flit rout network intermedi node rout function specifi set candid output virtual channel may use messag select function use pick channel set 12 profit link link messag header move closer destin backtrack protocol one may acquir releas virtual channel path setup releas virtual channel use correspond free buffer crossbar port use messag channel 22 virtual channel model follow virtual channel model use paper unidirect virtual channel v compos data channel correspond channel complementari channel refer virtual channel trio 15 rout header travers subsequ data flit travers complementari channel reserv use special control flit correspond channel complementari channel essenti form control network coordin fault recoveri adapt rout header flit includ limit control backtrack header flit complementari channel trio travers physic channel direct opposit associ data channel channel model illustr figur 1a two virtual channel v v r v j v r2 r1 one messag progress data channel therefor compar exist channel model model requir exactli 2 extra flit buffer data channel one correspond channel complementari channel respect sinc control flit traffic small percentag overal flit traffic practic control channel across physic link multiplex singl virtual control channel 1 shown figur 1b exampl control channel c 1 figur 1b correspond flit buffer v r v v j c v c 23 fault model onlin fault detect difficult problem paper assum exist fault c detect mechan focu inform may use robust reliabl com munic detect mechan identifi two differ type fault either entir process element associ router fail commun channel may fail physic link fail virtual channel particular physic link mark faulti pe router fail physic link incid fail pe also mark faulti addit mark physic channel incid fail pe faulti physic channel incid pe adjac fail pe andor commun channel may mark unsaf unsaf channel 23 design use rout across may lead encount fail compon protocol present section 42 use unsaf channel figur 2 show fail pe fail physic link unsaf channel two dimension mesh network fail pe longer send receiv messag thu remov multiprocessor network failur either static dynam static failur present network system power dynam failur occur random oper type failur consid perman ie remain system repair static failur dynam failur occur idl link router header flit encount fail link rout protocol attempt find altern path figur 1 interrout virtual channel model logic channel model 2 virtual channel router r1 b implement logic channel model c c c c c c r c r howev dynam failur occur busi link interrupt messag transmiss fur thermor failur transmiss flit across channel caus flit lost sinc header flit contain rout inform data flit whose progress block failur progress remain network hold resourc eventu caus deadlock reli exist recoveri mechan remov dead flit network exist least two techniqu implement distribut recoveri 16 22 dynam fault case failur link gener control inform propag upstream andor downstream along messag path resourc along path recov altern third approach recov messag interrupt fault found 8 scheme nontrivi requir hardwar support develop elsewher 8 22 16 assum exist techniqu evalu perform impact section 6 scout switch famili flow control mechan scout switch ss flow control mechan configur provid specif tradeoff fault toler perform ss first data flit constrain remain k link behind rout header flow control equival wormhol switch larg valu ensur path setup prior data transmiss path exist figur 3 illustr timespac diagram messag pipelin five link use ss mechan paramet k refer scout distanc probe lead everi time channel success reserv rout header return posit acknowledg acknowledg flow direct opposit figur 2 fail node unsaf channel faulti node faulti channel unsaf channel rout header gap header first data flit grow 2k 1 link header advanc rout header backtrack must send neg acknowledg ment associ virtual channel programm counter virtual channel reserv header increment counter everi time receiv posit acknowledg decrement counter everi time receiv neg acknowledg valu counter equal k data flit allow advanc perform reason acknowledg sent across channel case data flit immedi follow header flit exampl figur 4 header block faulti link node first data flit constrain remain k link behind header node b figur see header backtrack releas link establish altern path across link c static fix valu k fix tradeoff network perform overhead posit neg ack fault toler abil header backtrack rout around fault dynam modifi k gain improv runtim tradeoff fault toler perform l messag length flit l number link path k scout di tanc deriv express minimum messag latenc type rout mech figur 3 timespac diagram ws scout pc su data data data su su data scout pipelin circuit switch rout setup data transmiss rout header pc acknowledg data flit scout acknowledg wormhol switch anism 4 faulttoler rout basic idea propos paper messag rout one two phase messag travers faultfre segment network rout use protocol base ws messag travers segment network fault conserv flow control mechan associ faulttoler rout protocol employ use ss flow control made dynam simpli modifi valu k design effect twophas protocol depend upon relationship scout distanc k ii number fault f iii number link header flit may forc backtrack rout around fault b iv number step header may rout along nonminim path analysi follow subsect establish relationship kari ncube multidimension mesh section 42 describ fulli adapt twophas faulttoler rout protocol 41 analysi messag assum alway follow shortest path absenc fault figur 4 backtrack faulti region data flit progress fail channel rout header progress scout l header encount faulti link allow either misrout backtrack prefer given misrout theorem 1 absenc previou misrout maximum number consecut link header flit backtrack toru connect kari ncube singl sourcedestin path number faulti compon proof previou misrout header flit allow misrout presenc fault even number misrout limit thu header backtrack healthi channel one previous use reach node figur 5 case kari ncube everi node 2n channel incid distinct pe sinc header arriv nonfaulti pe forc backtrack 2n 1 channel faulti next node sinc header backtrack nonfaulti pe origin arriv nonfaulti pe forc backtrack remain 2n 2 channel faulti addit backtrack step forc 2n 2 addit fail channel thu consid second case shown figur 5 turn end alley order caus rout header backtrack initi need 2n 1 faulti channel second backtrack requir 2n 2 faulti channel third backtrack necessit 2n 3 node figur 5 node fault caus backtrack case 1 case 2 faulti node faulti link fault 2n 2 channel fault subsequ backtrack requir 2n 2 addit fault thu theorem 2 absenc previou misrout maximum number consecut link header flit backtrack ndimension mesh singl sourcedestin path number faulti compon proof previou misrout oper messag allow misrout presenc fault even maximum number misrout oper limit sever possibl case rout probe node 2n channel case toru connect kari ncube henc number fault requir forc first backtrack 2n 1 forc addit backtrack 2n 2 addit fault requir per addit backtrack probe node less 2n channel earlier case channel except one use reach node use case fault either rout misrout worst case figur 6a occur node minimum number channel ndimension mesh node locat corner n channel one channel use probe reach node henc failur n 1 channel node caus rout probe backtrack probe edg mesh node channel one channel alreadi use reach node first time anoth one previou backtrack oper therefor n 1 channel avail rout channel must faulti forc backtrack oper thu maximum number mandatori backtrack oper f div n 1 f number fault consid second case shown figur 6b turn end alley exist order caus initi backtrack need n fault n 2 fault requir caus backtrack corner process element addit backtrack requir n 1 ii fault henc maximum number backtrack oper f 1 div n 1 ii n 1 faulti channel n 2 faulti node first addit backtrack theorem establish relationship number backtrack oper number fault mesh tori consid relationship number misrout oper number fault number backtrack step determin configur fault specifi follow theorem use determin scout distanc theorem 3 toru connect kari ncube less 2n fault maximum number consecut backtrack step b header make forward progress 3 iii figur 6 fault caus backtrack mesh faulti link faulti node b figur 7 fault configur show requir search input one plane legend sourcedesin node fail node fail channel maximum number misrout allow 6 ii misrout prefer backtrack iii necessari output channel select rout function misrout me sage dimens input channel messag proof consid figur 7 adjac node destin one plane faulti rout header would take maximum six misrout check possibl input link destin lie within plane elimin two dimens search n possibl dimens permit misrout use rout header arriv previous visit node rout header must backtrack backtrack misrout remov path decrement misrout count rout header backtrack two hop point figur 7 point rout header take one misrout n 2 remain dimens j exampl j one two dimens form plane figur 7 rout header two hop away node adjac destin lie along dimens j rout header check see node faulti one profit hop node faulti rout header forc backtrack two hop back point altern two hop header check link adjac destin faulti case maximum backtrack distanc three hop back point point one misrout two profit rout rout header check statu everi node one hop away destin andor everi link adjac destin sinc number fault allow system limit 2n 1 exist one healthi node one healthi channel adjac destin guarante henc maximum number backtrack rout header perform three theorem 4 ndimension mesh less n fault maximum number consecut backtrack step b header make forward progress 3 maximum number misrout allow 6 ii misrout prefer backtrack iii necessari output channel select rout function misrout messag dimens input channel messag proof consid case destin node surround fault plane iii node failur consid number backtrack requir per backtrack oper 2 figur 8 show corner mesh 3 corner node mesh two three inputoutput channel corner node faulti rout probe enter corner node forc backtrack one step howev sinc addit faulti link node network due limit number fault rout probe reach destin without backtrack oper rout probe corner node node edg mesh sinc node edg mesh sinc maximum n 1 fault allow backtrack requir misrout prefer backtrack consid case destin node surround fault plane mean situat similar shown figur 7 occur even node edg mesh number misrout limit 6 result theorem 3 appli maximum number consecut backtrack step 3 2n n fault requir disconnect network kari ncube ndimension mesh respect howev practic network often remain connect consider larger number fail node channel total number fault allow greater 2n n possibl messag may undeliver allow remain network messag impact perform may lead deadlock techniqu describ 62section 23 use detect remov messag figur 8 backtrack corner node mesh fail link fail node network 42 twophas rout protocol rout protocol oper two phase optimist phase rout faultfre segment conserv phase rout faulti segment former use exist fulli adap tive minim rout algorithm 12 section propos two candid conserv phase candid differ primarili impact perform function number fault propos twophas tp protocol shown figur 9 oper follow absenc fault tp use deadlockfre rout function base duato protocol dp 12 dp virtual channel physic link partit restrict unrestrict partit fulli adapt minim rout permit unrestrict partit adapt determinist rout allow restrict partit determinist channel select function use prioriti scheme select candid output channel router node first select function examin safe adapt channel one channel avail either due faulti busi select function examin structur twophas rout detour complet complet detour destin reach detour complet reset header dp mode end dp rout use dp rout restrict unsaf channel select safe profit adapt channel return select safe determinist channel return safe determinist channel faulti return block progress end select unsaf profit adapt channel ack sent sent depend switch ss mode set ack counter one two differ conserv phase tp rout use select unsaf determinist channel switch ss mode set ack counter set header detour mode end detour rout restrict detour mode select profit channel return misrout end end figur 9 structur twophas rout safe determinist channel safe determinist channel busi rout header must block wait channel becom free safe adapt channel becom free determinist channel freed header free take adapt channel determinist channel faulti select function tri select profit adapt channel regardless safe unsaf select function select unsaf channel avail safe channel unsaf channel select altern misrout backtrack unsaf profit channel select output channel messag enter vicin faulti network region indic set statu bit rout header subsequ counter valu everi output channel travers header set k valu k 0 permit rout header backtrack avoid fault need aris messag flow control conserv support flexibl protocol rout around faulti region unsaf profit channel avail header chang detour mode detour mode posit acknowledg gener posit acknowledg ment data flit advanc construct detour rout header perform depthfirst backtrack search network use maximum misrout adapt channel use construct detour detour complet misrout made construct detour correct destin node reach detour complet ss acknowledg flow data flit resum progress note channel none detour accept data flit resum progress requir ensur deadlockfreedom detour mode identifi set statu bit header desir remain ws faultfre rout optimist phase altern possibl conserv phase conserv phase tp figur 9 header enter ss mode unsaf channel select altern conserv phase may chose continu optimist ws flow control across unsaf channel case necessari mark channel unsaf ws forward progress stop due fault detour construct use increas misrout necessari detour complet one acknowledg sent resum flow data flit note case alway posit neg acknowledg transmit larger valu k use figur 9 increas abil backtrack rout around fault region reduc probabl construct detour thu see choic k tradeoff acknowledg traffic increas misroutingbacktrack occur detour construct expect choic appropri valu k depend upon network load failur pattern tradeoff evalu section 6 note proof deadlock freedom reli unsaf channel therefor design freedom configur appropri mechan function failur pattern figur show rout exampl use twophas rout protocol shown figur seven node failur initi set 0 rout header rout node b forc cross unsaf channel valu k increas 3 header rout profit node data flit advanc node b node rout header make progress toward destin enter detour mode misrout upward two addit misrout longer misrout due limit rout header forc backtrack node sinc output channel select rout header forc backtrack node c misrout twice downward find profit link destin case detour complet destin reach also notic data flit advanc header detour mode thu first data flit still node b comparison purpos consid use altern conserv phase describ figur 10 rout exampl fail channel fail node unsaf channel use k alway 0 refer figur 10 rout header rout profit node case thu first data flit also reach node sinc rout profit node detour construct header misrout upward three link find path around fault region therefor forc backtrack back node rout header forc misrout node c node c misrout downward travers path destin notic case path two hop longer sinc data flit pass node howev header rout node b node acknowledg flit gener two exampl indic specif choic flow controlrout protocol conserv phase tradeoff dictat fault pattern network load theorem section 41 cover network fix number fault arbitrari number fault f small valu destin node failur possibl header may backtrack locat first data flit fact may occur link simpli busi rather faulti one solut retri point howev possibl also succeed point reli recoveri mechan referenc section 23 tear path design retri sourc success failur establish path sourc higher level protocol reli upon take appropri action behavior particularli address messag destin fail node certain number attempt higher level protocol may mark node unreach sourc livelock address fashion follow theorem establish deadlock freedom tp theorem 5 twophas rout deadlockfre proof let c set virtual channel c 1 set determinist channel c 2 set adapt channel follow situat occur messag rout rout header encount faulti node channel tp rout use dp rout restrict shown deadlockfre faultfre network 12 rout header encount unsaf channel select safe channel unsaf channel deadlock occur sinc safe adapt channel still contain set virtual channel c 2 rout set induc deadlock rout header forc take unsaf adapt channel deadlock occur sinc unsaf channel still channel set c 2 rout c 2 induc deadlock rout header encount faulti node channel rout profit take determinist channel c 1 faulti rout header construct detour deadlock occur build detour probe alway backtrack node first data flit resid deadlock occur attempt construct detour sever retri detour construct recoveri mechan tear path thu releas channel occupi messag detour use adapt channel channel c 2 deadlock aris rout messag detour construct take account condit complet detour order channel determinist channel c 1 still preserv final detour use adapt channel c 2 thu build detour prevent messag use determinist channel avoid deadlock 5 architectur support figur 11 illustr block diagram router implement twophas rout modifi version pc router describ 1 input output physic channel associ link control unit lcu input lcu feed firstinfirstout fifo data input buffer dibu virtual channel input control channel multiplex singl virtual channel therefor feed singl fifo control input buffer cibu data fifo feed input crossbar control fifo arbitr access rout control unit rcu rcu implement twophas rout protocol select output link map appropri input link crossbar select output link modifi control flit sent rcu output arbitr unit appropri control output virtual chan nel lcu dibu support ss flow control describ later section singl chip version router pc flow control implement metal layer cmo process fabric mosi 1 overal design contain 14000 transistor 0311 cm squar chip 88 pin core logic router chip consum 55 chip area crossbar occupi 14 area dedic core circuitri addit 10 logic payload devot rcu rout header figur 12 twophas protocol consist six field first field header bit field identifi flit rout header second field backtrack field bit signifi whether rout header go toward sourc ie backtrack toward destin next field misrout field record number misrout oper perform rout header sinc twophas protocol must allow maximum 6 misrout ensur deliveri messag network 2n 1 node fault field three bit size fourth field detour bit bit use control logic determin messag detour mode bit clear ss bit set figur 11 overview router chip lcu cpu cpu data buffer inputoutput control buffer inputoutput data input bu data output bu control input bu control output bu legend cibucobu dibudobu lcu lcu lcu lcu lcu lcu lcu crossbar rcu rcu rcu input enabl buffer figur 12 format header flit bit header backtrack misrout detour xnoffset x2offset x1offset ss router gener acknowledg flit everi time rout header advanc acknowledg propag complementari control channel follow detour field ss bit ss bit set ss flow control use across everi channel travers header thu set counter k next field actual set offset one offset n dimens kari ncube size depend size interconnect network ie valu k depend upon conserv phase implement physic channel requir unsaf channel statu bit maintain rcu rout header enter rcu input virtual channel address use access unsaf channel store histori store histori store maintain record output channel search backtrack header figur 13 show organ rcu major distinguish featur router architectur due support backtrack search done header detail discuss architectur requir rout found 15 1 associ virtual channel counter record acknowledg regist valu k scout distanc two bit counter requir virtual channel counter maintain counter manag unit cmu rcu posit neg acknowledg flit arriv virtual circuit cmu increment decrement counter correspond data virtual channel counter valu k data flit allow flow otherwis block dibu show figur 14 figur 13 rout control unit channel map decis unit incdec bank histori store decod unsaf store header modifi output virt chan dibu enabl input virt chan header unit counter manag achiev provid dibu output enabl rcu final rcu propag acknowledg beyond first data flit messag 6 perform evalu perform faulttoler protocol evalu simul studi messag pass 16ari 2cube messag rout header 1 flit long simul perform timestep simul network oper flit level messag destin traffic uniformli distribut simul run made repeatedli 95 confid interv sampl mean accept less 5 mean valu simul model valid 14 use determinist commun pattern use congest control mechan similar 3 place limit size buffer eight buffer per inject channel inject channel input buffer fill messag inject network messag buffer rout flit cross link one cycl perform tp compar perform duato protocol dp 12 dp wormhol base rout protocol partit virtual channel two set adapt escap adapt channel permit fulli adapt minim rout escap channel use implement deadlockfre subnetwork measur fault toler tp compar misrout backtrack misrout mbm 15 mbm pc base rout protocol allow fulli adapt rout misrout per virtual circuit figur 14 data flit flow control cobu cibu rcu arb rcu dobu dobu dobu crossbar enabl line rcu dibu dibu dibu crossbar router router b metric use measur perform tp averag messag latenc network throughput averag messag latenc averag time messag spend network respect rout header inject network time tail flit consum destin node network throughput defin total number flit deliv divid number node network total simul time clock cycl fault present network tp rout use dp rout restrict result perform ident dp fault perform tp evalu configur tp use faulti region ie use unsaf channel use misrout backtrack search construct detour header advanc 61 static fault figur 15 plot latencythroughput curv tp mbm 1 10 20 fail node randomli place throughout network theorem develop paper depend number fault less degre process element ie connect kari ncube plot show perform tp larger valu fault fault randomli distribut throughout network randomli place 2n 1 fault perturb system significantli perform rout protocol drop number fail node increas sinc number undeliver figur 15 latencythroughput tp mbm node fault throughput latenc clock cycl latenc vs throughput tp mbm faulti network mbm 1f mbm 10f mbm 20f messag increas number fault increas howev latenc tp rout messag given network load remain 30 40 lower mbm rout messag mbm degrad grace steadi small drop network satur traffic load satur traffic network load averag messag latenc increas dramat littl increas network throughput number fault increas figur 16a show latenc messag success rout via mbm remain rel flat regardless number fault system number parenthesi indic number messag offerednode5000 clock cycl howev network offer load 02 flitsnodecycl 30 msgsnode5000 cycl latenc increas consider number fault increas low number fault system offer load flitsnodecycl satur point network congest control mechan provid simul addit offer load accept howev satur point increas number fault caus aggreg bandwidth network increas beyond satur therefor caus messag latenc increas network throughput drop offer load 032 flitsnodecycl network alreadi beyond satur increas number fault lesser effect low moder load lower number fault latenc throughput characterist tp significantli superior mbm major benefit deriv messag faultfre segment network transmit trol tp howev perform poorli number fault increas satur traffic figur 16 latenc throughput tp mbm function node fault node failures20006000lat clock cycl latenc vs node fault tp mbm tp 1 mbm 1 mbm 30 node failures010030throughput throughput vs node fault tp mbm tp 1 mbm 1 mbm 30 one fail node 032 flitsnodecycl drop slightli 20 fail node 17 origin network throughput simul system 16 ari 2cube 2n 1 fault 3 henc 20 fail node much greater limit set theorem propos paper figur 16 also show latenc throughput tp function node failur vari offer load higher load increas number fault effect posit acknowledg due detour construct becom magnifi perform begin drop due increas number search rout header perform path success establish correspond increas distanc sourc node destin tradeoff version tp increas number detour construct vs perform messag faultfre section network larger number fault former eventu domin region pure conserv protocol appear remain superior summari lower fault rate network satur load tp perform better conserv counterpart also note tp protocol use experi design 3 fault 2 dimension network rel conserv version could configur figur 17 compar perform tp one fault network low network traffic version realiz similar perform howev high network traffic larger number fault aggress tp perform consider better due fact k 0 substanti acknowledg flit traffic introduc throughput flitscyclenode10002000lat clock cycl latenc vs throughput conserv vs aggress sr aggress 1f aggress 10f aggress 20f conserv 1f conserv 10f conserv 20f figur 17 comparison aggress conserv ss rout behavior network domin effect increas number detour 62 dynam fault dynam fault occur messag may becom interrupt 16 special type control flit call kill flit introduc permit distribut recoveri messag pipelin interrupt pe span fail channel pe releas kill flit virtual circuit affect kill flit follow virtual circuit back sourc destin messag control flit releas reserv buffer notifi sourc messag deliv notifi destin ignor messag current receiv also interest guarante messag deliveri presenc dynam fault complet path must held last flit deliv destin messag acknowledg sent destin travers complementari control channel remov path flush copi messag sourc kill flit requir one addit buffer control channel recoveri approach describ 16 interest impact perform tp figur 18 illustr overhead recoveri reliabl messag deliveri mechan addit messag acknowledg introduc addit control flit traffic sy tem messag acknowledg tend throttl effect inject new messag result tp rout use mechan satur lower network load deliv messag higher latenc compar case probabilist insert f fault dynam ii f2 static fault averag number dynam fault would occur simul result shown figur 18 see low load perform impact support dynam fault recoveri signific howev inject rate increas addit traffic gener recoveri mechan use messag acknowledg begin produc substanti impact perform point interest dynam fault recoveri use rang feasibl oper load tp protocol fact rang extend almost satur traffic 63 trace driven simul true measur perform interconnect network well perform real commun pattern gener actual applic network consid fail program prevent complet due undeliver messag commun trace deriv sever differ applic program ep gaussian deviat mm matrix multipli mmp anoth matrix multipli program trace gener use spasm execut driven simul 25 commun trace driven simul perform allow randomli place physic link failur node failur would requir remap process result remap affect perform recoveri mechan use recoveri undeliver messag trace gener applic execut 16ari 2cube simul network 16ari 2cube 8 16 virtual channel per physic link aggress version tp use ie unsaf channel use figur 19 show three plot probabl complet rate three differ program trace differ valu misrout trace said complet trace messag deliv henc probabl complet defin ratio number trace abl execut complet total number trace run even one messag deliv ere program execut complet result show effect recoveri mechan simul implement retri attempt messag backtrack sourc node contain first data flit respons probabl complet 10 even small number fault perform effect recoveri mechan illustr figur 18 expect 2 3 retri suffici practic maintain complet probabl 10 larger number fault instanc increas number misrout result poorer complet rate figur 18 comparison tp without tailacknowledg flit throughput flitscyclenode10002000lat clock cycl latenc vs throughput comparison dynam faulttoler mechan wo tack 1f wo tack 10f wo tack 20f tack 1f tack 10f tack 20f believ primarili due lack recoveri mechan retri increas misrout caus network resourc reserv messag may turn increas probabl messag forc backtrack due busi resourc without tri complet rate suffer see import implement rel simpl heurist small number retri final larger number virtual channel offer better perform sinc provid increas network resourc henc reduc probabl backtrack due busi link 64 summari perform specif perform evalu provid follow insight link failures080100 probabl complet probabl complet m3 v8 m4 v8 m5 v8 link failures0408prob complet probabl complet m3 v8 m4 v8 m5 v8 link failures070090110 probabl complet probabl complet m3 v8 m4 v8 m5 v8 figur 19 probabl complet variou program trace number allow misrout cost posit acknowledg domin cost detour construct suggest use low valu k prefer configur flow control enabl substanti perform improv pc low modest number fault sinc major traffic faultfre portion realiz close ws perform low modest number fault perform cost recoveri mechan rel low high fault rate still must use conserv protocol ensur reliabl messag deliveri applic program complet conclus rout presenc fault demand greater level flexibl requir faultfre network howev design router base rel rare occurr fault requir messag traffic penal even messag rout faultfre portion network overhead may aris due set faultfre path prior data transmiss pc mark processor channel faulti construct convex fault region 45 increas number virtual channel rout messag around faulti compon 4 low moder number fault configur flow control mechan lead deadlockfre faulttoler rout protocol whose perform superior conserv rout protocol compar reliabl network larg number fault tp partial optimist behavior result sever perform degrad conserv rout protocol network resourc reserv path setup sourc destin tp requir complex renumb scheme provid faulttoler 1920 requir construct convex region 45 requir addit virtual channel 4 dynam faulttoler version tp reli timeout 11 pad messag 22 howev result complex channel model affect link speed router design support tp requir slightli hardwar router support pc 1 make implement feasibl current effort redesign pc router support tp protocol howev appar one import perform issu effici mechan implement positiveneg acknowledg ment current evalu implement add control signal physic channel modifi physic flow control accordingli logic behavior remain unchang implement acknowledg flit hardwar hope extend superior low load perform tp significantli higher number fault r disha effici fulli adapt deadlock recoveri scheme comparison adapt wormhol rout algorithm reliabl router reliabl highperform commun substrat parallel comput high perform bidirect signal vlsi system theori faulttoler rout wormhol network new theori deadlockfre adapt rout wormhol network scout fulli adapt comput system perform evalu effect fault multiprocessor net work tracedriven studi adapt rout protocol hypercub interconnect network turn model adapt rout cray t3d new dimens cray research compressionless rout framework faulttoler rout faulttoler commun scheme hypercub comput machin abstract local issu studi parallel system tr ctr dong xiang faulttoler rout hypercub use partial path setup futur gener comput system v22 n7 p812819 august 2006 dong xiang ai chen jiaguang sun faulttoler rout multicast hypercub use partial path setup parallel comput v31 n34 p389411 marchapril 2005