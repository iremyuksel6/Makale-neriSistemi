constraint tight loos versu local global consist constraint network simpl represent reason framework divers applic paper identifi two new complementari properti restrict constraint networkconstraint tight constraint loosenessand show use estim level local consist need ensur global consist estim level local consist present network particular present suffici condit base constraint tight level local consist guarante solut found backtrackfre manner condit use applic knowledg base queri preprocess cost amort mani queri also present suffici condit local consist base constraint loos straightforward inexpens determin condit use estim level local consist network turn use decid whether would use preprocess network backtrack search decid local consist condit still need enforc want ensur solut found backtrackfre manner two definit local consist employ character condit tradit variablebas notion recent introduc definit local consist call relat consist b introduct constraint network simpl represent reason framework problem repres set variabl domain valu variabl set constraint variabl central reason task find instanti variabl satisfi constraint spite simplic framework mani interest problem formul constraint network includ graph color scene label natur languag pars tempor reason gener make constraint network hard solv contain mani local inconsist local inconsist instanti variabl satisfi relev constraint extend addit variabl part global solut use backtrack search find solut inconsist lead dead end search insight led definit condit character level local consist network 12 18 21 develop algorithm enforc local consist condit remov local inconsist eg 2 7 10 18 21 local consist proven import concept theori practic constraint network primarili two reason first common method find solut constraint network first preprocess network enforc local consist condit perform backtrack search preprocess step reduc number dead end reach backtrack algorithm search solut similar aim local consist techniqu interleav backtrack search effect use local consist techniqu two way studi empir eg 4 6 13 14 23 second much previou work identifi condit certain level local consist suffici guarante network global consist solut found backtrackfre manner eg 5 7 11 12 21 29 paper identifi two new complementari properti restrict constraint networkconstraint tight constraint loosenessand show use estim level local consist need ensur global consist estim level local consist present network particular present follow result show constraint network constraint ariti r less tight less network strongli 1r consist global consist inform constraint network strongli kconsist instanti k gamma 1 fewer variabl satisfi constraint extend consist addit variabl also inform given rari constraint instanti r gamma 1 variabl particip constraint paramet upper bound aaai94 27 number instanti rth variabl satisfi constraint gener suffici condit bound level local consist guarante global consist import applic constraint network use knowledg base mainten mani queri knowledg base cost preprocess amort mani queri also interest explanatori power use character difficulti problem formul constraint network also show constraint network domain size less constraint loos greater network strongli ddd gamma meconsist 2 inform given rari constraint instanti r gamma 1 variabl particip constraint paramet lower bound number instanti rth variabl satisfi constraint bound straightforward inexpens determin contrast loword local consist expens verifi enforc optim algorithm enforc kconsist k k network n variabl domain size 2 24 condit base constraint loos use two way first use decid loword local consist techniqu chang network thu use process given constraint network exampl use result show nqueen problem wide use testb compar backtrack algorithm high level inher local consist consequ gener fruitless preprocess network second use decid local consist condit still need enforc want ensur solut found backtrackfre manner two definit local consist employ character condi tion tradit variablebas notion recent introduc definit local consist call relat consist 9 29 definit preliminari constraint network r set n variabl fx domain possibl valu variabl x set constraint relat constraint relat r subset cartesian product form say constrain variabl fx j g ariti constraint relat number variabl constrain set fs call scheme r assum assum variabl name order variabl constrain relat import see 26 pp 4345 use subset integ ng subset variabl fx 2 dxe ceil x smallest integ greater equal x ng subset variabl constraint network instanti variabl element given instanti variabl extens variabl x tupl domain x introduc need oper relat adopt relat calculu see 26 detail relat let set variabl constrain r let 0 subset variabl project rs onto set variabl 0 denot pi 0 rs relat constrain variabl 0 contain tupl u 2 j exist instanti variabl gamma 0 tupl u 2 r ng subset variabl constraint network instanti variabl satisfi consist relat r tupl pi fag 2 r instanti variabl consist network r scheme r satisfi r solut constraint network instanti n variabl consist network constraint relat r ariti k call mtight variabl x constrain r instanti remain constrain r either extens x satisfi r exactli jd j extens definit 3 mloos constraint relat r ariti k call mloos variabl x constrain r instanti remain constrain r least extens x satisfi r tight loos properti complementari properti constraint network tight upper bound number extens loos lower bound except univers relat constraint relat 1 loos 2 tight case exactli jd j extens variabl x handl special definit tight everi constraint relat 0loos constraint relat dloos univers relat domain variabl constrain relat size everi constraint relat gamma 1tight constraint relat 0tight either null relat univers relat follow interest least upper bound greatest lower bound number extens relat constraint network easi check given constraint network constraint relat ariti r e tupl relat determin least relat mtight requir otr time bound appli determin greatest relat mloos exampl 1 illustr definit use follow network r variabl fx 1 domain bbb bca cab cba cccg g project given r ccg instanti acb variabl consist r sinc pi s2 instanti variabl consist r sinc pi s2 aaab instanti variabl fx 1 g tupl consist r therefor solut network set solut network given faaab aacb abca bacb bcac cabb cbac cccag verifi constraint 2tight 1loos partial verif binari constraint r s3 consid extens variabl x 3 given instanti variabl x 4 instanti x 4 1 extens x 3 b 3 extens definit 2tight still satisfi c 1 extens local consist proven import concept theori practic constraint network review previou definit local consist character variablebas relationbas 21 variablebas local consist mackworth 18 defin three properti network character local con sistenc node arc path consist freuder 10 gener k consist defin follow definit 4 kconsist global consist constraint network r kconsist given 1 k gamma 1 distinct variabl 2 instanti variabl consist r exist extens kth variabl ktupl consist r network strongli kconsist jconsist j k strongli nconsist network call global consist n number variabl network node arc path consist correspond one two threeconsi tenci respect global consist network properti solut found without backtrack 11 b figur 1 3consist b 4consist exampl 2 illustr definit kconsist use wellknown nqueen problem problem find way place nqueen n theta n chess board one queen per column pair queen attack one possibl constraint network formul problem follow variabl column chess board x domain variabl possibl row posit binari constraint two queen attack consid constraint network 4queen problem seen network 2consist sinc given place singl queen board alway place second queen queen attack howev network 3consist exampl given consist placement two queen shown figur 1a way place queen third column consist previous place queen similarli network 4consist see figur 1b 22 relationbas local consist 29 extend notion arc path consist nonbinari lation new local consist condit call relat arc pathconsist 9 gener relat arc pathconsist relat mconsist definit relat mconsist relat rather variabl primit entiti shall see subsequ section allow express relationship restrict constraint local consist way avoid explicit refer ariti constraint definit slightli weaker given 9 definit 5 relat mconsist constraint network r relat mconsist given 1 distinct relat r 2 x 2 3 instanti variabl consist r exist extens x extens consist relat network strongli relat mconsist relat jconsist everi j exampl 3 consid constraint network variabl fx 1 domain bacg g constraint relat 1consist exampl instanti abb variabl consist network trivial sinc 1 6 extens x 5 satisfi r s1 similarli constraint relat 2consist exampl instanti cbaa variabl fx 1 consist network trivial extens x 5 satisfi r s1 rs2 add constraint r fx2g fag r fbg set solut network chang verifi network relat 1 2consist constraint binari relat mconsist ident variablebas condit differ enforc variablebas mconsist done polynomi time unlik relat mconsist achiev tractabl sinc even solv npcomplet problem proposit satisfi see exampl 6 direct argument suggest increas time space complex fact algorithm may need record relat arbitrari ariti variablebas localconsist improv effici enforc relat consist enforc along certain direct linear order variabl algorithm enforc relat consist direct relat consist given 9 28 3 constraint tight vs global consist section present relationship tight constraint level local consist suffici ensur network global consist much work done identifi relationship properti constraint network level local consist suffici ensur global consist work fall two class identifi topolog properti underli graph network eg 7 8 11 12 identifi properti constraint eg 3 15 16 21 29 dechter 5 identifi follow relationship size domain variabl ariti constraint level local consist suffici ensur network global consist theorem 1 dechter 5 constraint network domain size relat ariti r strongli consist global consist network dechter theorem tight level local consist specifi theorem realli requir graph color problem formul constraint network exampl network dechter theorem overestim result view improv dechter theorem take account tight constraint result alway specifi level strong consist less equal level strong consist requir dechter theorem follow lemma need proof main result l l relat constrain variabl x let size domain variabl x let instanti variabl except x constrain l relat ie instanti variabl 1 1 relat mtight 2 everi subset fewer relat fr l g exist least one extens x satisfi relat subset exist least one extens x satisfi l relat proof let 1 element domain x say relat allow element extens x satisfi relat assum contrari extens x satisfi l relat exist element domain x must exist least one relat allow let c denot one relat allow construct set set relat exist extens x satisfi relat set everi candid rule sinc c allow everi possibl valu lead contradict case 1 contradict immedi set relat size 1 exist extens x satisfi everi relat set contradict condit 2 case nomin size set 2 claim howev repetit c true size set m1 assum contrari c 6 c j 6 j recal c relat allow g set 1 relat condit 2 must exist everi relat set allow possibl consid fc g set relat must exist everi relat set allow time possibl dgamma1 continu manner show relat c 1 must allow must allow exactli m1 extens contradict condit 1 therefor must case c j thu set c size contradict condit 2 case 3 remain case similar case argu repetit set ii true size set c contradict deriv appeal condit 2 thu exist least one extens x satisfi relationsw first state result use variablebas local consist state result use relationbas local consist theorem 2 constraint network relat mtight ariti r strongli m1r gamma 11consist global consist proof let 1 show network relat mtight ariti r strongli kconsist consist 1 without loss gener let set k variabl let instanti variabl x consist constraint network let x ki addit variabl use lemma 1 show exist extens x ki consist constraint network let r l l relat relat constrain x ki subset variabl x consist constraint network extens x ki must satisfi l relat condit 1 lemma 1 satisfi sinc l relat mtight remain show condit 2 satisfi definit requir strong 1consist ensur instanti 1r gamma 1 fewer variabl consist network extens x ki extens also consist network note howev sinc l relat ariti r constrain x ki relat constrain r gamma 1 variabl constrain relat therefor requir strong 1consist also ensur subset m1 fewer relat fr l g exist extens x ki satisfi relat subset thu condit 2 lemma 1 satisfi therefor lemma 1 follow extens x ki consist constraint network 2 theorem 2 alway specifi level strong consist less equal level strong consist requir dechter theorem theo rem 1 level requir consist equal well theorem sometim use appli theorem follow exampl illustr r ariti constraint chang level consist requir theorem present must enforc paramet r increas decreas shown also increas paramet increas follow hold previous constraint set variabl ii enforc certain level consist result new constraint record variabl iii new constraint larger valu previou constraint exampl 4 nadel 22 introduc variant nqueen problem call confus nqueen problem find way place nqueen n theta n chess board one queen per column pair queen attack one possibl constraint network formul problem follow variabl column chess board x domain variabl possibl row posit binari constraint two queen attack constraint relat two variabl x x problem worth consid nadel 22 use confus nqueen empir comparison backtrack algorithm solv constraint network thu import analyz difficulti problem set empir result context well problem interest provid exampl theorem 2 appli dechter theorem sinc 1 independ n constraint relat 3tight henc theorem guarante network confus nqueen problem strongli 5consist network global consist first suppos n even attempt either verifi achiev level strong consist appli success stronger local consist algorithm kondrak 17 shown follow analysi hold n even 1 appli arc consist algorithm result chang network alreadi arc consist 2 appli path consist algorithm tighten constraint variabl network made path consist constraint relat 2tight theorem guarante network strongli 4consist global consist 3 appli 4consist algorithm result chang network alreadi 4consist thu network strongli 4consist therefor also global consist second suppos n odd time appli path consist network still 3tight verifi network 4consist enforc 4consist requir 3ari constraint ad necessari 3ari constraint chang valu network still 3tight henc theorem 2 network strongli 9consist network global consist kondrak 17 shown record 3ari constraint suffici guarante network strongli 9consist n henc independ n network global consist strong 4consist enforc recal nadel 22 use confus nqueen problem empir compar backtrack algorithm find solut constraint network nadel state problem provid nontrivi testb 22 p190 believ analysi indic problem quit easi empir result problem interpret light easi problem potenti make even naiv algorithm solv constraint network look promis avoid potenti pitfal backtrack algorithm test problem rang easi hard gener hard problem requir high level local consist ensur global consist note also problem trivial satisfi exampl 5 graph kcolor problem view problem constraint network variabl node graph domain variabl k possibl color binari constraint two adjac node must assign differ color graph kcolor provid exampl network theorem 1 2 give bound suffici level local consist sinc constraint tight show concept relationbas local consist use altern describ theorem 2 theorem 3 constraint network relat mtight strongli relat 1consist global consist proof show network relat mtight strongli relat 1consist kconsist k 1 therefor global consist without loss gener let set let instanti variabl x consist constraint network let x k addit variabl use lemma 1 show exist extens x k consist constraint network let r l l relat relat constrain x k subset variabl x consist constraint network extens x k must satisfi l rela tion condit 1 lemma 1 satisfi sinc l relat mtight condit 2 lemma 1 satisfi sinc definit requir strong relat 1consist ensur subset fewer relat exist extens x k satisfi relat subset therefor lemma 1 follow extens x k consist constraint networka immedi corollari theorem 3 know result appli algorithm enforc strong relat 1consist relat mtight guarante priori algorithm return equival global consist network exampl 6 consid network domain variabl size two exampl satisfi proposit cnf provid exampl network domain size two relat constrain variabl domain size two 1tight addit relat ad network result enforc strong relat 2consist also 1tight thu consist network decid algorithm enforc strong relat 2consist differ deriv result alreadi given 5 29 backtrack algorithm construct extend partial solut instanti variabl linear order global consist impli order variabl solut constraint network construct backtrackfre manner backtrack search encount deadend search dechter pearl 7 observ often suffici backtrackfre along particular order variabl local consist enforc respect order frequent properti interest case tight loos satisfi along order conclud global consist restrict order well enforc relat consist respect order variabl done gener elimin algorithm call directionalrelationalconsist present 9 algorithm potenti effect practic worstcas requir weaker condit direct version tight loos properti result present paper easili formul use idea present 7 9 result section use follow mackworth 19 show constraint network view restrict knowledg represent reason framework context solut constraint network correspond model knowledg base result bound level local consist need ensur global consist use applic constraint network use knowledg base mani queri knowledg base preprocess constraint network global consist mean queri answer backtrackfre manner equival global consist represent constraint network highli desir sinc compil answer mani queri shown exist constraint network queri network exponenti speedup worst case exam ple consid constraint network solut equival global consist network would contain null relat algorithm answer queri constraint network would quickli return ye cours interest exampl knowledg base consist queri involv determin valu variabl feasiblecan occur model networkcan answer global consist represent look domain variabl queri involv determin valu pair variabl feasiblecan occur singl model networkcan answer look binari relat constrain two variabl clear gener algorithm answer queri origin network backtrack search take exponenti amount time answer queri gener global consist represent network use whenev compact set solut network global consist represent answer queri subset variabl ng restrict attent smaller network consist variabl relat constrain variabl global consist properti ensur solut variabl also creat backtrackfre manner howev result work practic interest empir question remain open result section also interest explanatori power use character difficulti problem formul constraint network see discuss end next section 4 constraint loos vs local consist section present suffici condit base loos constraint size domain variabl give lower bound inher level local consist constraint network known class constraint network alreadi possess certain level local consist therefor algorithm enforc level local consist effect network exampl nadel 22 observ arc consist algorithm never chang constraint network formul nqueen problem n 3 dechter 5 observ constraint network aris graph kcolor problem inher strongli kconsist result character structur constraint network make statement true follow lemma need proof main result l l relat constrain variabl x let size domain variabl x let instanti variabl except x constrain l relat ie instanti variabl 1 1 relat mloos 2 l l dgammam exist least one extens x satisfi l relat proof let 1 element domain x say relat allow element extens x satisfi relat key proof l relat mloos least element domain x allow relat thu relat allow gamma element togeth l relat allow ld gamma element domain x thu case everi element domain x allow relat thu l exist least one extens x satisfi l relat 2 first state result use variablebas local consist state result use relationbas local consist let binomialk r binomi coeffici number possibl choic r differ element collect k object k r binomialk theorem 4 constraint network domain size relat mloos ariti least r r 2 strongli kconsist k minimum valu follow inequ hold proof without loss gener let set variabl let instanti variabl x consist constraint network let x k addit variabl show network kconsist must show exist extens x k consist constraint network let r l l relat relat constrain x k subset variabl x consist constraint network extens x k must satisfi l relat lemma 2 extens exist l ddd gamma gamma 1 level strong kconsist minimum number distinct variabl constrain l relat word k minimum number variabl occur l know relat constrain variabl x k thu minimum number variabl fxg minimum valu c occur relat ariti r thu l set r gamma 1 variabl know l relat constrain differ subset variabl ie 6 j l binomi coeffici binomialc r gamma 1 tell us number distinct subset cardin r gamma 1 contain set size c thu us minimum number variabl c need order specifi remain r gamma 1 variabl l relat subject condit relat must constrain differ subset variabl 2 constraint network relat binari import special case theorem 4 corollari 1 constraint network domain size relat binari mloos strongli dgammam consist proof constraint relat ariti 2 henc minimum valu k inequ theorem 4 hold theorem 4 alway specifi level local consist less equal actual level inher local consist constraint network theorem provid lower bound howev given loos constraint size domain theorem 4 give strong estim inher level local consist possibl exampl given theorem exact graph color problem provid exampl theorem exact nqueen problem provid exampl theorem underestim true level local consist exampl 7 consid wellknown nqueen problem discuss exampl 2 problem histor interest also theoret interest due import test problem empir evalu backtrack algorithm heurist repair scheme find solut constraint network eg 13 14 20 22 nqueen network domain size n constraint binari n gamma 3loos henc theorem 4 predict nqueen network inher strongli dn3e consist thu nqueen constraint network inher arcconsist inher path consist n 7 predict fruitless appli loword consist algorithm attempt simplifi network see tabl 1 actual level inher consist bn2c n 7 thu nqueen problem theorem underestim true level local consist tabl 1 predict dn3e actual bn2c n 7 level strong local consist nqueen network pred actual exampl 8 graph kcolor provid exampl theorem 4 exact estim inher level local consist see exampl 5 constraint network formul graph color dechter 5 state graph color network inher strongli kconsist guarante strongli 1consist domain size k constraint binari 1loos henc theorem 4 predict graph kcolor network inher strongli kconsist exampl 9 consid formula 3cnf view constraint network variabl domain ftrue falseg claus correspond constraint defin model domain size two constraint ariti 3 1loos minimum valu k inequ theorem 4 hold 3 henc network strongli 3consist show concept relationbas local consist use altern describ theorem 4 theorem 5 constraint network domain size relat mloos strongli relat dgammam consist proof follow immedi lemma 2 2 result section use two way first use estim whether would use preprocess constraint network use local consist algorithm perform backtrack search see exampl 6 empir studi effect preprocess second use conjunct previou work identifi condit certain level local consist suffici ensur solut found backtrackfre manner see exampl brief review previou work start section 3 togeth new result present sometim level inher strong kconsist guarante theorem 4 suffici conjunct previous deriv condit guarante network global consist therefor solut found backtrackfre manner without preprocess oth erwis estim provid theorem give start point appli local consist algorithm result section also interest explanatori power conclud section discuss theorem 2 theorem 4 contribut intuit hard class problem spirit exampl 1 30 hard constraint network instanc give rise search space mani dead end hardest network mani dead end occur deep search tree dead end cours correspond partial solut extend full solut network constraint close size domain variabl good candid hard problem reason twofold first network high loos valu high level inher strong consist strong kconsist mean partial solut least size k second network high tight valu requir high level preprocess backtrackfre comput experi perform random problem binari constraint provid evid network constraint high loos valu hard random problem gener probabl binari constraint two variabl q100 probabl pair cartesian product domain constraint time find one solut measur experi discov given number variabl domain size fix hardest problem found constraint loos possibl without degener trivial constraint tupl allow word found hardest region loos constraint harder hardest region tight constraint network loos constraint would turn hardest random problem somewhat counterintuit individu constraint easi satisfi experiment result run counter tsang 25 p50 intuit singl solut loos constrain problem easili found simpl backtrack henc problem easi tightli constrain problem harder compar loos problem well hard looselyconstrain problem amen preprocess loword local consist algorithm sinc theorem 4 state possess high level inher local consist run counter william hogg 30 p476 specul preprocess dramat effect region problem hardest conclus identifi two new complementari properti restrict constraint network constraint tight constraint loos constraint tight use conjunct level local consist suffici condit guarante solut network found backtrackfre manner condit use applic knowledg base queri preprocess cost amort mani queri constraint loos use suffici condit local consist condit inexpens determin use estim level strong local consist network turn use decid whether would use preprocess network backtrack search decid local consist condit still need enforc want ensur solut found backtrackfre manner also show constraint tight constraint loos interest explanatori power use character difficulti problem formul constraint network explain problem easi local difficult global show constraint low tight valu network may requir less preprocess order guarante solut found backtrackfre manner constraint high loos valu network may requir much search effort order find solut exampl confus nqueen problem constraint low tight valu shown easi solv backtrackfre enforc loword local consist condit anoth exampl mani instanc crossword puzzl also rel easi constraint word fit slot puzzl low tight valu sinc mani word length differ last letter word hand graph color schedul problem involv resourc constraint quit hard constraint inequ constraint thu high loos valu acknowledg author wish thank peter ladkin anonym refere care read previou version paper help comment r realli hard problem optim kconsist algorithm characteris tractabl constraint enhanc scheme constraint process backjump ing local global consist experiment evalu preprocess techniqu constraint satisfact problem tree cluster constraint network local global relat consist synthes constraint express suffici condit backtrackfre search suffici condit backtrackbound search experiment case studi backtrack vs waltztyp vs increas tree search effici constraint satisfact problem test tractabl fast parallel constraint satisfact person commun consist network relat logic constraint satisfact solv largescal constraint satisfact schedul problem use heurist repair method network constraint fundament properti applic pictur process constraint satisfact algorithm hybrid algorithm constraint satisfact problem complex achiev kconsist foundat constraint satisfact principl databas knowledgebas system inher level local consist constraint net work constraint tight versu global consi tenci minim global consist rowconvex constraint network use deep structur locat hard problem tr suffici condit backtrackbound search principl databas knowledgebas system vol networkbas heurist constraintsatisfact problem tree cluster constraint network research note optim italickconsist algorithm enhanc scheme constraint process backjump learn cutset decomposit constraint satisfact algorithm local global consist logic constraint satisfact fast parallel constraint satisfact inher level local consist constraint network characteris tractabl constraint experiment evalu preprocess algorithm constraint satisfact problem minim global consist rowconvex constraint network local global relat consist suffici condit backtrackfre search synthes constraint express complex achiev kconsist ctr yuanlin zhang roland h c yap erratum p van beek r dechter theorem constraint loos local consist journal acm jacm v50 n3 p277279 may yuanlin zhang roland h c yap consist set intersect eighteenth nation confer artifici intellig p971972 juli 28august 01 2002 edmonton alberta canada amnon meisel andrea schaerf model solv employe timet problem annal mathemat artifici intellig v39 n12 p4159 septemb paolo liberator monoton reduct repres equival compil intract problem journal acm jacm v48 n6 p10911125 novemb 2001 mosh vardi constraint satisfact databas theori tutori proceed nineteenth acm sigmodsigactsigart symposium principl databas system p7685 may 1518 2000 dalla texa unit state henri kautz bart selman state sat discret appli mathemat v155 n12 p15141524 june 2007