request combin multiprocessor arbitrari interconnect network sever techniqu propos allow parallel access share memoryloc combin request one follow attributesrequir priori knowledg request combin restrict routingof messag network use sophist interconnect network nodesw present new method combin request aboverequir obtain new method request combin develop aclassif scheme exist method request combin classificationschem facilit separ request combin process two partoper determin combin set set request particip ina combin access distribut result combin access membersof combin set classif combin strategi base upon whichsystem compon processor element interconnect network perform ofthes task approach use interconnect network establish thecombin set processor element distribut result lie unexploredarea design space also present simul result assess benefit thepropos approach b introduct arvind iannucci state design largescal share memori multiprocessor must address two basic issu 2 1 must toler long latenc memori request 2 must achiev unconstrain yet synchron access share data sever techniqu exampl cach prefetch 24 low level context switch 25 propos toler latenc memori request heretofor known method allow unconstrain yet synchron access share data implement request combin earliest publish propos request combin chopp system 28 sever read request common memori locat combin interconnect network satisfi singl access memori locat two read request destin memori locat meet node network sourc one request save one read request forward memori respons read request arriv node combin took place two respons sent back toward processor idea combin read request read combin chopp extend nyu ultracomput allow sever type request combin 6 ultracomput use fetchf primit f associ commut oper enhanc interconnect network topolog omega network propos perform combin fetchf primit ultracomput style request combin illustr figur 1 fetchfx e request meet fetchfx j request network node combin take place e save wait buffer alu node comput efj request fetchfx efj forward memori respons v receiv memori fetchfx efj request decombin take place v forward respons fetchfx e request efv forward respons fetchfx j request e remov wait buffer correct oper guarante combin request satisfi serial principl final state system must consist servic request unspecifi serial order 6 three distinct featur ultracomput style request combin 1 request combin forward trip network 2 state save network request combin 3 request decombin return trip network combin network node first requir comparison determin two request combin two request must fetchf request memori locat requir use compar network node two request combin request remov queue valu e save wait buffer oper efj carri alu request fetchfx efj place queue forward memori wait buffer must larg enough hold mani valu request combin node els combin take place return trip return request search wait buffer decombin must take place appropri action initi impli return path must ident forward path decombin take place return path must least one node common forward pathth node combin state store almasi gottlieb 1 give sever exampl hardwar combin elimin serial bottleneck sever altern propos request combin appear literatur 8 11 19 21 29 32 primari focu effort reduc cost combin network accomplish either alter topolog combin network requir system softwar reduc amount content share data paper two purpos first develop taxonomi use categor combin method propos date allow us enumer issu involv make comparison known techniqu combin request second propos new approach request combin one use arbitrari interconnect topolog develop taxonomi section 2 classifi exist method use taxonomi observ one area design space call interconnectprocessor combin explor arbitrari interconnect network explor section 3 present new scheme request combin potenti new combin scheme evalu section 4 section 5 summar paper suggest direct research 2 taxonomi request combin 21 parallel prefix comput request combin kruskal rudolph snir 14 observ request combin similar problem parallel prefix comput 15 given element prefix comput produc result f associ oper comput result parallel term parallel prefix comput 15 examin similar request combin parallel prefix consid exampl four processor add constant c share variabl x receiv previou valu x assum processor simultan execut atom oper fetchadd xc valu return processor x x c x2c x 3c regardless order request servic memori final valu x4c simpli set result r 1 r 2 r 3 r 4 r 5 produc prefix comput set element xcccc addit oper base observ see arbitrari request combin two part oper first part task combin method determin set request destin memori locat need combin call set request combin set second task distribut result combin access appropri processor perform prefix comput combin set prefix comput network one propos scan primit blelloch 3 use distribut result combin access network state save forward trip prefix comput network result distribut return trip similar ultracomput approach toward combin howev use prefix comput network requir priori knowledg combin set blelloch propos scan primit singl instruct multipl data simd paradigm element perform prefix comput case combin set store array array distribut across processor particip prefix comput base processor activ statu therefor use prefix comput network distribut result combin access combin set must establish prior insert prefix comput network altern ultracomput approach toward combin combin set determin dynam interconnect compar address request forward trip network result distribut appropri processor return trip network two techniqu use differ system compon establish combin set ultracomput use interconnect wherea blelloch use priori knowledg processor element therefor obtain taxonomi request combin specifi system compon processor element interconnect perform task involv combin request 22 classif exist request combin strategi base upon combin set determin result prefix comput comput distribut design space request combin divid four region figur 2 interconnect interconnect combin iic cover scheme interconnect network determin combin set distribut result processorinterconnect combin pic processor establish combin set interconnect network distribut result scheme processor perform task classifi processorprocessor combin ppc final interconnectprocessor combin ipc indic interconnect network determin combin set processor distribut result follow subsect discuss exist method request combin accord region design space belong 221 interconnectinterconnect combin iic chopp 28 nyu ultracomput 6 method request combin instanc iic interconnect network determin combin set distribut result ibm rp3 21 research propos basic idea ultracomput method combin implement howev rp3 two interconnect network one network combin request one servic noncombin request distinct made noncombin potenti combin request typic synchron request interconnect dynam determin combin set potenti combin request two altern techniqu iic present tzeng 29 hsu yew 11 tzeng separ interconnect rout section combin section assum request may combin distinguish noncombin request examin opcod request direct combin section network combin section network determin combin set hsu yew propos singl stage shuffleexchang combin network addit noncombin network two propos similar ibm rp3 method combin differ topolog combin network reduc hardwar cost network howev basic techniqu request combin three scheme ibm rp3 hsu yew tzeng techniqu use ultracomput interest exampl iic read combin found scheme hierarch cachememori structur cacheonli memori architectur coma machin 7 27 nonuniform memori access machin hierarch cach 18 23 30 read combin implement use techniqu similar chopp method read combin read miss cach block one level hierarchi caus request propag next higher level hierarchi subsequ read miss cach block level hierarchi caus state save state allow data forward appropri request processor respons arriv higher level hierarchi 222 processorinterconnect combin pic altern approach reduc cost combin network determin combin set prior insert element network approach taken scheme fall classif pic design space scheme perform iic scheme perform pic use interconnect network distribut result combin request howev processor element interconnect network determin combin set blelloch prefix comput network 3 discuss section 21 control network think machin cm5 17 fall categori anoth form pic simd paradigm propos lipovski vaughan 19 implement use modifi carrylookahead circuit implement prefix comput network distribut result combin set determin process element current activ prefix comput network may extend oper multipl instruct multipl data mimd paradigm though author explicitli state might done altern techniqu combin request mimd paradigm propos harrison 8 use synchron prefix comput network request stage network combin therefor entir combin set must insert network time slot accomplish broadcast inform combin locat processor base inform processor determin correct time slot request addit restrict use priori knowledg combin set method discuss section make use parallel prefix comput network distribut result network conceptu similar ultracomput combin network state must save forward trip network request decombin return trip recal requir sophist interconnect node restrict rout return messag potenti undesir featur associ result distribu tion elimin use processor element perform parallel prefix oper distribut result 223 processorprocessor combin ppc scheme classifi iic pic interconnect view share memori locat form tree memori modul root tree processor leav tree node combin tree realiz implicit storag interconnect node ie wait buffer anoth altern use explicit storag memori construct combin tree method request combin call softwar combin literatur 5 31 32 classifi ppc sinc processor bear full respons combin request processor establish combin set distribut result demand network softwar combin one share locat divid l locat constitut storag node combin tree request combin processor travers combin tree result l processor access l locat rather processor access singl locat howev l locat node combin tree must distribut across memori modul order allevi excess content singl memori modul yew tzeng lawri show softwar combin use barrier oper 32 goodman vernon woest 5 johnson 12 extend work yew tzeng lawri carri arbitrari fetchf oper softwar combin tree tang yew also provid sever algorithm travers combin tree type memori access determin algorithm chosen eg barrier synchroniza tion semaphor read combin 31 consequ implement combin tree explicit memori locat flexibl type memori access addit variabl type memori access softwar combin permit use network arbitrari topolog rel unsophist node requir implement softwar combin tree access share locat share locat must known prior program execut furthermor latenc combin access minim combin tree must balanc requir priori knowledg number request may combin 31 moreov sinc combin tree creat base maximum number request may combin latenc complet combin oper influenc maximum number one request access share locat must travers entir combin tree exampl balanc softwar combin tree height h singl request must perform h memori access must travers interconnect network processor respons establish combin set requir priori knowledg burden determin combin set place back interconnect need priori knowledg elimin 224 interconnectprocessor combin ipc heretofor propos method except special case discuss section request combin use arbitrari interconnect network determin combin set processor element distribut result order decid scheme worthi investig next section compar issu implement combin classif 23 issu combin request sever aspect request combin touch upon previou discuss reiter motiv ipc priori knowledg combin set restrict place rout messag sophist interconnect network latenc combin oper need priori knowledg combin set requir programm specifi inform restrict place rout messag limit choic interconnect network topolog sophist interconnect network impact cost perform system high degre sophist might increas design time may either increas latenc noncombin request requir addit second network latenc combin oper time processor gener combin request time result request receiv next two section look issu affect system compon establish combin set compon distribut result tabl 1 summar follow discuss 231 determin combin set processor element requir priori knowledg combin locat order establish combin set exampl node softwar combin tree 31 defin algorithm design contrast interconnect determin combin set dynam compar destin address messag consequ introduc compar small increas sophist node intercon nect may result slight increas latenc complet combin oper 232 result comput distribut place respons result distribut interconnect two disadvantag first increas sophist interconnect result wait buffer decombin logic interconnect node second perhap import disadvantag rout return messag may travel restrict must visit node state save forward trip network primari advantag use processor element distribut result combin oper restrict place rout messag may travel requir visit particular node anoth advantag sophist interconnect node increas need wait buffer howev sophist processor element accur processornetwork interfac may increas somewhat handl protocol need distribut result latenc combin oper measur number step need carri oper disadvantag use processor distribut result section 3 show latenc distribut result logarithm respect number request combin set assum system broadcast capabl base discuss feel investig ipc yet unexplor area design space worthwhil scheme would use interconnect determin combin set use processor element distribut result discuss also point follow potenti advantag ipc combin priori knowledg combin set requir sinc interconnect dynam determin combin set ii restrict rout messag sinc processor element distribut result iii node interconnect network requir small amount sophist potenti drawback scheme compar iic latenc combin oper 3 interconnectprocessor combin consid implement request combin fall unexplor region design space interconnectprocessor combin ipc initi consid two flavor combin oper restrict form fetchadd fa fetchincr 9 26 gener fa oper fetchincr simpli fi particip add constant valu gener fa particip could ad differ valu rational simpler fi oper follow process determin combin set also possibl particip determin overal posit combin set ie posit serial order particip comput valu without interact particip follow exampl illustr point figur 3 show system six processor p 0p 5 connect share synchron bu processor assign one channel bu channel could wire electron bu 26 specif frequenc optic bu 9 given processor read channel write channel processor gener combin request broadcast intent bu put 1 channel processor wish particip access write 1 respect channel point processor monitor channel bu determin number ident processor go particip combin access combin set establish determin particip processor order combin set static defin prioriti assign channel suppos four processor p 0p 1p 3p 5 would like perform fi oper increment constant c memori locat x point four processor indic intent access x prioriti chain 0s 1s 2s 3s 4s 5 110101 four processor determin mani processor ahead prioriti chain also particip combin oper exampl p 5 determin three processor ahead prioriti chain p 3 see two p 1 see one p 0 see zero sinc highest prioriti processor particip combin access p 0 take respons access x memori p 0 access x processor also read valu memori bu processor restrict ad constant c share locat therefor processor may comput valu local base number particip preced prioriti chain p 0 receiv x p 1 comput x c memori receiv x 4c one processor memori control could also monitor bu take respons comput x4c updat memori method describ propos independ electr bu sohi smith goodman 26 optic bu hiedelberg rathi stone 9 eas combin carri special case prompt freudenth gottlieb investig use fetchincr oper place gener fa oper 4 broadcast option method must use determin combin set carri prefix oper combin set unlik network broadcast easi way merg creation combin set order arbitrari interconnect network must continu separ creation combin set implement prefix oper sinc prefix oper carri combin set regardless whether order element would necessari case fi oper distribut result would necessari case fa oper see potenti implement advantag fi oper fa oper arbitrari network therefor continu discuss fa oper propos ipc arbitrari network use network creat combin set choos repres combin set link list though conceiv structur could also use processor use structur interact carri prefix oper expand two function set list distribut result processor submit fetchfx v request gener messag sent interconnect destin contain x messag consist least four field address x valu field v two pointer shown figur 4 pointer indic head tail list processor ie combin set access memori locat specifi messag initi processor gener request member combin set two messag destin memori locat meet node interconnect two messag combin illustr figur 5 result combin forward messag sent destin locat x head tail field updat indic head tail new combin set new combin set union combin set two combin messag alu present valu field forward messag updat reflect f oper valu field combin messag link messag sent processor tail combin set first messag instruct creat link processor head combin set second messag rout taken link messag depend upon topolog network exampl omega network unidirect link link messag would travel forward direct arbitrari destin reflect destin go back appropri processor detail combin oper node shown figur 5 import note state save network point messag combin figur 6 illustr exampl assum processor b gener fa request locat x shown figur 6 two request merg messag sent processor indic processor b head list processor also particip fa oper point processor b member list ad processor pointer processor b form new link list repres combin set locat x field forward messag memori locat x head list tail list b valu field shown figur prevent clutter assum processor c also form combin set locat x two list two member two messag enrout memori two messag merg messag sent processor b indic processor c head link list processor also particip fa opera tion creat singl combin set union two origin combin set messag forward memori field set head first list tail second list singl combin set repres one messag go memori memori receiv request return valu store locat x head list also send messag tail list indic respons provid final result memori allow result fa oper distribut processor shall discuss shortli fa request reach destin x head tail field request point head tail combin set sever option proceed alu present network node combin took place use updat valu field forward messag shown figur 5 valu field messag reach x contain final result prefix oper appli valu field member combin set determin head tail pointer even though individu processor intermedi result prefix oper yet known old valu memori locat x return head use prefix oper describ later determin result member combin set memori locat x could updat final valu old valu x plu valu field messag reach x access locat x proceed result prefix oper first combin set carri alu present network node combin took place final valu prefix oper combin set determin combin messag reach memori locat x must wait prefix oper combin set complet memori receiv uptod valu happen request locat x time two option first option simpli lock memori locat x final result prefix oper known tail combin set respons unlock x make request x wait build second combin set wait prefix oper first complet lock x fairli easi shall see section 4 implic perform second option append new combin set onto old combin set prefix oper progress therebi creat one combin set make prefix oper robust enough oper variables combin set append new combin set onto old combin set care must taken avoid potenti race condit particular messag memori tail old combin set tell creat pointer head new combin set therebi continu prefix oper could arriv prefix oper old combin set complet final result way memori messag must reflect back memori suppli upto date valu new combin set allow start prefix oper messag handl protocol must take possibl race condit account take appropri action prevent incorrect oper first glanc append onto combin set prefix oper progress appear good idea also implic perform shall see section 4 discuss discern amount sophist requir interconnect node use compar necessari determin two messag destin memori loca tion small amount addit logic requir construct new messag sent back processor updat tail messag forward memori alu need expect updat memori final valu immedi consid prefix oper could carri combin set repres link list purpos discuss result distribut assum processor use pointto point messag reflect memori modul necessari commun naiv method distribut result start head list sequenti move one node next list although hotspot use naiv method distribut result messag unnecessarili serial elimin serial distribut result turn literatur parallel applic see prefix oper combin set carri parallel sever algorithm perform parallel prefix comput link list exist literatur 10 13 15 20 algorithm concern case node link list processor avail case number node link list equival number processor particip combin access therefor use partial sum algorithm given hilli steel 10 shown figur 7 algorithm use recurs doubl iter loop perform half mani oper previou iter entir comput complet algorithm advantag result comput olog step number node list ie cardin combin set exampl partial prefix sum comput list eight node shown figur 8 array initi index processor number contain number next processor initi link list array forward indic processor commun current iter algorithm import note recurs doubl algorithm defin simd machin therefor appropri synchron must ad mimd oper figur 9 show mimd version result distribut ipc reader refer to16 discuss transform simd mimd processor also requir limit amount memori olog store pointer neighbor processor combin set tri exhaust method ipc address issu involv ipc undoubtedli altern data structur maintain combin set associ algorithm distribut result howev provid viabl solut deserv investig 4 evalu ipc investig overal system perform use ipc develop simul multiprocessor system perform ipc enhanc omega network establish combin set describ section 3 processor use mimd version recurs doubl parallel prefix algorithm distribut result combin access simul consist three distinct part processor element interconnect network memori modul tabl 2 summar paramet system processor element memori refer gener addit code requir distribut result combin access processor gener memori refer cycl probabl r provid network accept request memori refer h percent direct singl hot memori locat 22 32 processor may one outstand fa request unlimit outstand uniform request howev processor gener request outstand fa yew et al 32 call limitedvari access pattern interconnect network use simul enhanc omega network node bidirect link 1 queue exist forward network revers network therefor switch forward network two input three output wherea switch revers network three input two output assum messag singl packet buffer occur content network two messag combin one buffer assum full compar use determin arriv messag combin buffer messag pairwis combin carri node simul system 256 processor connect 256 memori modul simul vari h 032 percent r 20100 percent figur 10 show averag latenc maximum bandwidth combin perform previous shown 22 32 point satur bandwidth ceas increas latenc increas first experi implement ipc without alu network node lock memori prefix oper current combin set complet figur 11a present latenc 1 use bidirect link design choic made still possibl use ipc network separ forward revers net work messag link combin set togeth would reflect memori modul howev condit ipc still allow use adapt rout techniqu request satur bandwidth vari hot rate compar fig 10 11 note differ scale see latenc decreas small valu h increas larg valu satur bandwidth also decreas valu h reason twofold sinc lock memori loca tion prevent second combin set start prefix oper consequ hot request second combin set stall long time wait prefix oper first combin set com plete illustr figur 12 fig 11b present latenc hot request fig 12 present averag amount time hot request spend wait lock memori releas compar fig 11b 12 see time wait lock releas signific portion overal hot request latenc next experi carri involv append request arriv memori onto end combin set prefix oper alreadi progress case request wait prefix oper previou combin set complet rather join form larger combin set join exist prefix oper expect reduc wait time would decreas hot request latenc unfortun experiment result present figur 13 indic otherwis fig 13a show satur bandwidth latenc request fig 13b show latenc hot request vari hot rate reason disappoint result experi append request combin set decreas time spent request wait memori actual increas time carri prefix oper sinc hot request get append one one prefix oper cant complet long request append particip valu readi entir prefix oper complet extrem case hot request append one one parallel prefix degener serial prefix one processor use valu entir prefix oper complet moreov sinc determinist pattern request append uniform trend result base upon result experi feel append new arriv onto exist combin set prefix oper alreadi progress someth done caution studi need area final experi ipc use alu network node case sinc final result prefix oper avail intermedi result need make succeed hot request wait prefix oper progress previou combin set prefix oper could oper multipl combin set simultan figur 14a present latenc satur bandwidth request figur 14b present hot request vari hot rate compar figur 10 14 see ipc quit effect reduc degrad due hot spot ipc reduc latenc request improv overal network bandwidth well reduc latenc hot request interest latenc hot request lower higher hot rate figur 14b higher hot rate larger combin set establish therefor hot request servic parallel overal propos method ipc effect ultracomput style combin equival result ultracomputerstyl combin found paper pfister norton 22 howev result suggest option worth consid 5 summari conclus unconstrain yet synchron access share memori locat achiev combin request formul taxonomi variou techniqu request combin separ combin oper two part establish combin set distribut result taxonomi divid request combin design space four region defin system compon processor element interconnect network perform task request combin classif exist implement request combin enabl us obtain four primari issu implement request combin must address need priori knowledg request combin complex interconnect node restrict place rout messag interconnect latenc complet combin access shown current method request combin occupi three four region design space address first three issu satisfactorili present implement lie yet unexplor region known interconnectprocessor combin ipc interconnect establish combin set processor element distribut result show implement area design space follow advantag need priori knowledg combin locat restrict rout messag low sophist interconnect node also carri sever experi assess benefit ipc observ ipc effect techniqu allevi degrad caus serial access memori must use care implement ipc could degrad latenc hot request intoler therebi reduc network bandwidth even though reduc latenc uniform request feel flexibl perform benefit ipc make attract design choic research need area definit answer obtain mani altern ipc need investig includ choic data structur use maintain combin set well algorithm use carri prefix oper combin set one step direct recent thesi johnson investig use ipc build tree implement scalabl cach coher scheme 12 direct comparison differ form combin use real applic workload differ network topolog also need done get better pictur costperform benefit variou techniqu request combin r highli parallel comput critiqu multiprocess von neumann style scan primit parallel oper process coordin fetchandincr set effici synchron primit largescal sharedmemori multiprocessor nyu ultracomput design mimd share memori parallel machin cacheonli memori architectur synchron combin fetchandadd oper devic perform effici task distribut bu connect data parallel algorithm effect synchron network hotspot access extend scalabl coher interfac largescal sharedmemori multiproc sor parallel algorithm effici solut gener class recurr equat efficeint synchron multiprocessor share memori parallel prefix comput request combin multiprocessor arbitrari interconnect network network architectur connect machin cm5 directorybas cach coher protocol dash multiprocessor fetchandop implement parallel comput simpl effici asynchron parallel prefix algorithm ibm research parallel processor prototyp rp3 introduct architectur hotspot content combin multistag interconnect net work toward design largescal sharedmemori multiprocessor cach memori architectur applic hep multiprocessor comput system restrict fetchf oper parallel process compar perform evalu cachecoher numa coma architectur share memori comput method apparatu design novel combin structur sharedmemori multiprocessor hierarch cachebu architectur share memori multiprocessor softwar combin algorithm distribut hotspot address distribut hotspot address larg scale multipro cessor tr data parallel algorithm hierarch cachebu architectur share memori multiprocessor distribut hotspot address largescal multiprocessor effici synchron multiprocessor share memori fetchandop implement parallel comput effici synchron primit largescal cachecoher multiprocessor scan primit parallel oper softwar combin algorithm distribut hotspot address process coordin fetchandincr compar perform evalu cachecoher numa coma architectur ddm network architectur connect machin cm5 extend abstract effect synchron network hotspot access highli parallel comput extend scalabl coher interfac largescal sharedmemori multiprocessor toward design largescal sharedmemori multiprocessor restrict fetch myampersandphi oper parallel process parallel prefix comput directorybas cach coher protocol dash multiprocessor cach memori critiqu multiprocess von neumann style ctr todd austin gurindar sohi highbandwidth address translat multipleissu processor acm sigarch comput architectur news v24 n2 p158167 may 1996