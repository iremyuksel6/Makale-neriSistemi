tight bound competit ratio accommod sequenc seat reserv problem unit price seat reserv problem investig seat reserv problem problem assign seat number onlin request reserv train travel k station consid version ticket price request treat fairli request fulfil must grantedfor fair determinist algorithm provid asymptot match upper bound exist lower bound state fair algorithm problem competit accommod sequenc least three seatsaddit give asymptot upper bound 79 fair random algorithm oblivi adversariesw also examin concret onlin algorithm firstfit random special case two seat tight analys perform given b introduct mani train transport system passeng requir buy seat reserv train ticket ticket system must assign passeng singl seat passeng purchas ticket without know futur request seat therefor seat reserv problem onlin problem competit analysi appropri assum train n seat travel start station end station stop k 2 station includ rst last seat number 1 n start station station 1 end station station k reserv made trip station station long 1 k passeng given singl seat number ticket purchas time departur algorithm ticket agent may refus passeng possibl accommod attempt make reserv seat empti entir durat passeng trip passeng must assign seat algorithm kind fair algorithm attempt maxim incom ie sum price ticket sold natur perform onlin algorithm depend price polici train ticket 6 two price polici consid one ticket price unit price problem one price ticket proport distanc travel proport price problem paper focus fair algorithm unit price problem seat reserv problem close relat problem optic rout number wavelength 1 5 9 14 call control 2 interv graph color 12 interv schedul 13 olin version seat reserv problem use solv follow problem 8 minim spill local regist alloc job schedul start end time rout two point net vlsi design anoth applic onlin version problem could assign vacat bungalow mention 15 perform onlin algorithm usual analyz use competit ratio dene follow way denit 11 let ai denot much onlin algorithm earn request sequenc let opti denot much earn optim olin algorithm given sequenc onlin algorithm ccompetit sequenc request ai c constant depend input sequenc competit ratio supremum c 2 note gener constant b allow depend k k paramet problem quantifi rst k notic fair criterion dene part problem specic thu even though optim olin algorithm know whole sequenc request advanc must process request order onlin algorithm fairli paper investig competit ratio special case enough seat accommod request ie optim olin algorithm reject request restrict input sequenc use ect assumpt decis mani car train base expect ticket demand denit 12 sequenc request fulli accommod optim olin algorithm call accommod sequenc 2 earlier paper 6 7 competit ratio accommod sequenc call accommod ratio chang made consist common practic eld 11 color interv graph sinc consid unit price problem seat reserv problem similar problem color interv graph onlin easi see rout train travel station 1 station k section real line consid part rout passeng travel open interv seat passeng assign color interv given note case enough seat accommod quest restrict optim olin algorithm fair fact restrict thu optim fair olin algorithm polynomi time 10 sinc simpli matter color interv graph minimum number color recal interv graph perfect 11 size largest cliqu exactli number color need thu pair station 1 number peopl want train station 1 greater n optim fair olin algorithm abl accommod request contraposit clearli also true pair station number peopl want train station greater n optim fair olin algorithm unabl accommod quest refer number peopl want train two station densiti station 12 previou result follow known result theorem 11 6 accommod sequenc fair determinist random onlin algorithm unit price problem least 1 competit 2 theorem 12 6 even accommod sequenc fair determinist random onlin algorithm unit price problem k 6 8k 8kmod3 9 competit 2 thu even accommod sequenc fair random onlin algorithm competit ratio much better 413 contribut next section lower asymptot upper bound competit ratio accommod sequenc fair determinist algorithm 4to 1when k larg compar n n 3 fair random algorithm oblivi adversari show upper bound 7for larg k concret onlin algorithm firstfit examin regard unit price problem special case 2 show firstfit 3competit accommod sequenc show asymptot optim final examin concret random onlin algorithm random prove asymptot upper bound 17for n 3 special case asymptot match upper lower bound 3some result paper present 4 algorithm section investig competit ratio determinist fair algorithm unit price seat reserv problem consid case separ trivial fair onlin algorithm 1competit accommod sequenc 21 gener upper bound n 3 upper bound competit ratio accommod sequenc lower match lower bound k larg compar n theorem 21 competit ratio accommod sequenc fair unit price seat reserv problem 3 seat 1 3 proof first give interv length four space two except rst interv length three last length one interv 1 4 6 10 12 interv refer origin interv unnam fig 1 give addit request process alreadi given request left right base onlin algorithm place origin interv give addit request name e illustr determin process left right maintain invari depict fig 1a everi interv start station left vertic dot line process includ extra interv given everi process interv except rst two way left associ reject interv e invari base case e b next interv e e e ext c next interv previou ext next interv free figur 1 case proof interv start station strictli right vertic dot line origin interv horizont dot line show reject interv note optim olin algorithm accommod request sinc densiti three two station impli cliqu number correspond interv graph three establish base case done give interv illustr fig 1a interv origin interv 1 4 one without associ reject interv note e interv well e interv given later may extend process next origin interv gure mark asterisk induct step assum process certain station abl maintain invari process next origin interv three case interv could seat e fig 1b seat previou origin interv fig 1c third seat fig 1d case must reestablish invari six station right next vertic dot line fig 1b give new interv e 0 serv e interv next round origin interv process well e 0 get associ reject interv fig 1c extend alreadi given e interv realiti process interv determin given actual give request know exactli long interv actual give need provid two reject interv new e interv next round fig 1d also extend e interv interv also serv e interv next around thu one reject interv process origin interv must provid summari give k5origin interv except rst one reject interv addit give number x 1 e interv x 1 reject interv total get ratio term domin correspond term result easili extend k 7 give sequenc ignor last station let c k 1 mod 6 upper bound 1 3 k5 c corollari 21 competit ratio accommod sequenc fair unit price seat reserv problem n 3 seat 1 proof first give n 3 interv type 1 k fair onlin well optim olin algorithm must accept use theorem remain three seat ratio becom domin techniqu corollari 21 convert upper bound seat upper bound n seat n ad larg request begin sequenc appli sequenc done neg result determinist algorithm neg result random algorithm thu asymptot competit ratio monoton nonincreas function n limit number station 22 case section case howev note train system unlik train small number seat bound obtain probabl irrelev applic could relev other assign vacat bungalow follow theorem give upper bound competit ratio accommod sequenc fair algorithm bound approach 3a approach inniti theorem 22 let 5k 5k mod 5k 5k mod algorithm unit price problem fkcompetit even accommod sequenc proof adversari begin one request interv 3s 1 3s 3 3 c request satis onlin algorithm consid 6 c three request satis suppos interv 6i place seat adversari proce request interv request interv 6i 8 onlin algorithm accommod rst request fail accommod last two second case suppos two adjac interv among 6i place seat say 6i adversari proce three request interv 6i 8 onlin algorithm accommod rst request fail accommod last two last case interv 6i place seat adversari proce two request interv 6i2 6i5 8 onlin algorithm fail accommod follow easili even accommod sequenc competit ratio onlin algorithm appli sequenc request specic onlin algorithm call firstfit alway process new request place rst seat unoccupi length journey follow theorem show firstfit asymptot optim onlin algorithm theorem 23 firstfit unit price problem least 3competit accommod sequenc 2 proof consid set request optim olin algorithm could accommod two seat let subset request accommod firstfit let u denot subset unsatis request nonempti interv two consecut request satis seat ie durat seat empti call gap seat easili shown imposs two request u whose start station gap request u start station gap seat partit u u 1 denot subset request u start station gap seat sort request u start station increas order consid onebyon order request denot request rst interv prevent accommod r seat 2 seat 1 must empti station 1 station minft 1 g firstfit rule 1 sinc otherwis request r 1 would accommod seat 1 reason request r accommod seat claim request r whose start station 0 gap right otherwis would 0 1 ensur request r 0 could satis seat 1 conceptu assign request r 1 r 2 request r notic dierent r 2 u 2 request r 1 r 2 dierent nish request u 2 consid request u 1 request denot request rst interv prevent accommod r seat 1 seat 2 must empti station 1 station minft 1 g let r denot last request satis seat 2 1 seat 2 empti station 2 station minft 1 g obvious 2 1 furthermor request r request q 2 u 2 start station gap seat 2 2 gap assign request r 1 r 2 r case gap request start station u gap let q 1 q 2 denot two request assign q reassign request r 1 q 1 q 2 request r q notic dierent r correspond q must dierent request assign dierent request u thu depend case deal either two request assign one u group three request assign pair request u size u 2the size mean firstfit accommod least threefth request 2 3 random algorithm section examin competit ratio accommod sequenc random fair onlin algorithm unit price problem compar oblivi adversari result concern random fair onlin algorithm proport price problem found 3 though follow theorem determinist algorithm result wors theorem 21 includ section structur proof allow easi transform proof equival random problem believ easier rst understand determinist proof verifi transform subsequ corollari theorem 31 let 7k 7k mod 9k 9k mod 14k 14k mod algorithm unit price problem k fkcompetit even accommod sequenc proof proof theorem adversari argument dextrou design base idea proof theorem 12 6 assum n divis 2 adversari begin nrequest interv 3 c fair onlin algorithm abl satisfi set b kc nrequest suppos request satis q seat contain interv 3i 6c exactli q seat empti station 3i 2 station 3i 5 follow rather consid q time 6 consid q distinguish two case case 2 5nin rst case p 5n adversari proce nrequest nrequest interv 6i n addit request onlin algorithm accommod exactli fig 2a show congur interv mark 1 interv given rst ie decid case 1 2 interv mark 2 one given afterward thu 2n request whose start station 6 onlin algorithm accommod second case p 5n adversari proce nrequest nrequest interv 6i nrequest interv 6i 8 3naddit request onlin algorithm accommod exactli 3np fig 2b show congur thu 5nrequest whose start station 6 onlin algorithm accommod 5np figur 2 exampl congur two case way request partit b k 3 6 c1 group rst group consist either 2n 5nrequest last group consist either n k mod rst b k 3c group onlin algorithm accommod fraction 7of request therein lead theorem precis let denot set indic rst case happen let denot set indic second case happen ratio number request accept onlin algorithm number request accept optim olin algorithm 5n 9k 9k mod last inequ hold gener 1 c impli eaxci ebxdi eaxi k mod 5g ratio 5n complet proof 2 corollari 31 let 7k 7k mod 9k 9k mod 14k 14k mod random fair onlin algorithm unit price problem k fkcompetit even accommod sequenc proof oblivi adversari behav similarli adversari proof theorem 31 sequenc request employ oblivi adversari depend expect valu p dene proof theorem 31 oblivi adversari start sequenc adversari proof theorem 31 6 c decid case 1 case 2 depend expect valu ep compar 5n gener correspond request linear expect impli expect number request accommod random algorithm fraction fk total number request 2 although straight forward show theorem 31 hold random algorithm shown one use argument show theorem obviou random algorithm consid problem one call random random receiv new request exist least one seat interv could place random choos randomli among seat possibl give possibl seat equal probabl theorem 32 unit price problem least4 competit accommod sequenc proof given request sequenc could accommod two seat consid optim placement request two seat base appear placement refer request seat 1 seat 2 request interv base seat 1 request partit request consecut group show group amort sens expect number request accept group least 3the name two seat clearli arbitrari use follow num bere seat 2 seat contain interv smallest start station number two interv start station seat 2 seat contain longer two interv two interv ident accept ignor next interv use instead seat seat 1 gener group dene depict fig 3 start seat 1 request seat 1 request k overlap extend beyond right group includ number x seat 1 interv contain interv next group dene consid request start earlier end station begin rst group possibl renam seat case give problem assum request k exist request subinterv either k includ group k follow assum x 0 subinterv 0 subinterv k request sequenc thu entir group consist 2xi request accept optim olin algorithm may case seat 1 request previou group overlap call request l similarli interv k may overlap seat 2 request next group interv next group call j proof lengthi case analysi base relev interv occur request sequenc sinc xy interv contain within k alway accept ratio becom wors assum ys j figur 3 group pictur come k make assumpt similarli assum l come l accept j come k j accept l j exist group handl came k case analysi done tabl notat 1 indic 1 occur 2 request sequenc notat xs indic x 0 ys indic 0 mark tabl indic given predic true otherwis fals thirtytwo case one probabl accept probi probabl k accept calcul result result given rst two interv k given probabl accept probabl two interv come overlap place dierent seat sinc interv equal like seat 1 seat 2 probabl 1 u 1 u number interf interv probabl accept second k calcul similarli weight two possibl case whether rst interv accept probabl accept result calcul probiprobkxi 2xi expect fraction interv group accept result calcul use valu x give minimum result see minimum dene case set equal 1 give minimum except case 9 13 amort use handl problem worst case occur l j occur k happen two consecut group exampl group type 27 occur immedi group type 1 extra expect 1from case 27 use cover decit 1from case 1 overal expect high enough call group fall rst eight case figur 4 late group sinc k interv occur later request sequenc relev interv two surround group similarli call group fall last eight case earli group fall case 9 lateearli group fall case 17 24 earlyl group result column fig 4 fraction less 3are express as4 w z number interv group refer valu z decit group notic never decit greater 1of interv occur late group earli group result express as4 wz valu z surplu group earli group surplu least 1 cover decit late group note minimum calcul calcul maxim decit minim surplu rather minim expect fraction accept group 25 29 make dierenc clearli rst group dene request l either earli group earlyl group although one assum late group earli group immedi preced easi see late group must earli group request sequenc surplu earli group cover decit late group earlyl lateearli group expect fraction interv group accept least 3 total expect fraction interv accept least 32 valu 3i fact tight lower bound random competit ratio accommod sequenc seat theorem 33 let unit price problem k 3 fk competit accommod sequenc proof rst give request 1 2 request 2cg k odd give request k random place request sinc overlap place rst seat probabl 1now continu sequenc 2i 3cg interv last part sequenc overlap exactli two interv earlier therefor accommod two interv place seat happen probabl 1 li j k ik xs ys probi probk result 26 1x 28 figur 4 tabl dierent group thu request rst part sequenc expect half request last part accept precis obtain fkthe competit ratio 3on accommod sequenc random seat extend seat gener one show random competit ratio accommod sequenc bound approxim 17 07083 3 theorem 34 even accommod sequenc competit ratio random 17k14 unit price problem k 2 mod 4 proof assum n divis 3 request sequenc follow 1 2 ntime ntime ntime ntime ntime ntime 4these refer extra interv firstfit appli sequenc knrequest would accom modat random accommod everyth except extra interv follow interv length shorter 4 extra interv thought length 4 thu extend rst station last notic extra interv form 4s1 4s3 accept exactli seat receiv interv 4s 2 4s receiv interv 4s similarli extra interv form 4s 5 accept exactli seat receiv interv 4s 4s receiv interv 4s us consid type extra interv combin expect 4s n27 2n27 2n27 2n27 4n27 4n27 n9 2n9 figur 5 expect number seat variou combin interv pair 4s 1 4s 3 4s 3 4s 5 calcul expect number accommod random consid last pair extra interv interv interfer whether extra interv accommod form 4s 2 4s 8 interv aect place rel form 4s6 4s10 interv 4s 2 4s2 place probabl one interv 4s immedi 1 thu one expect 1of 4s accept interv form 4s 4s 4 seat 4s 2 4s interv tabl fig 5 show expect number seat assign variou combin interv 4s 2 4s indic presenc interv type interv form 4s go neither one see tabl expect number seat like 4n expect number 4s 4s 4 interv 2n one expect 1of interv form 4s 5 accommod similar simpli argument give exactli expect last two type extra interv give expect number extra interv accommod random n 1 1 k 2 5nk 2 henc ratio number request accommod random number request given n 2 k congruent 2 modulo 4 n 3 congruent 0 modulo 3 similar result hold give rst n mod 3 1 k request use sequenc request previou proof thu use last station give upper bound form 17k c 1 constant c 1 c 2 depend valu k mod 4 conclud remark shown fair determinist algorithm unit price seat reserv problem asymptot competit ratio 1on accommod sequenc interest open problem remain whether exist random algorithm better particular competit ratio algorithm random accommod sequenc shown 3when 17for n 3 howev best known lower bound perform still 1for n 3 acknowledg bach support part nsf grant ccr9510244 joan boyar would like thank faith fich interest discuss regard seat reserv problem seat joan boyar kim larsen carri part work visit depart comput scienc univers wisconsin madison support part snf denmark part nsf us grant ccr9510244 part esprit long term research programm eu project number 20244 alcomit joan boyar lene favrholdt kim larsen support part ist programm eu contract number ist199914186 alcomft tao jiang guohui lin support part nserc research grant ogp0046613 cito grant tao jiang support part ucr startup grant rob van stee support netherland organ scientic research nwo project number sion 61230002 r accommod ratio seat reserv problem better bound accommod ratio seat reserv problem seat reserv problem accommod function kcolor interv algorithm minimum color graph color problem wiley exact approxim algorithm oper fix interv schedul problem tr effici rout allopt network bandwidth alloc preemption effici onlin call control algorithm onlin interv schedul competit nonpreempt call control kcolor interv accommod function gener competit ratio better bound accommod ratio seat reserv problem onlin compet algorithm call admiss optic network accommod ratio seat reserv problem ctr joan boyar susan krarup morten n nielsen seat reserv allow seat chang journal algorithm v52 n2 p169192 august 2004 marek chrobak sigact news onlin algorithm column 8 acm sigact news v36 n3 septemb 2005