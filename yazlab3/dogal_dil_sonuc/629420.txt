exampl deriv perform properti visual represent program execut abstractthrough geometri program visual yield perform properti deriv possibl synchron sequenc durat block concurr execut two process program visual map process synchron program execut cartesian graph axe line segment path respect relationship petri net drawn b introduct system visual execut histori collect program help explain happen program execut eg 4 10 13 15 visual system lend insight support part nation scienc foundat grant ncr9211342 perform measur program execut time mean wait time resourc particular valu answer help identifi chang program improv measur visual use beyond provid imag comput monitor one formal deduc properti program execut visual first demonstr roman cox 19 deduc correct properti roman cox illustr safeti properti properti hold comput state invari progress properti properti hold particular program state verifi defin map program state visual represent observ whether sequenc visual imag correspond execut sequenc satisfi desir properti discuss abil render invari properti program state stabl visual pattern render progress properti evolv visual pattern paper provid second exampl deduc follow perform properti visual class concurr program q1 sequenc synchron point program block q2 block durat synchron point q3 durat concurr execut synchron point class consist program meet follow assumpt program contain two process a1 process execut dedic processor a2 process block synchron oper a3 synchron oper process defin term code segment c process b reach synchron oper block b execut c process repres branchless direct graph vertic repres code segment edg alway repres preced relat may repres synchron oper a4 process option block move one vertex anoth edg correspond synchron oper execut time code segment correspond vertex independ constant exclus time spent block a5 process initi vertex process start execut option final vertex process termin a6 process without final vertex never termin argu next assumpt reason consid two process assumpt a1 initi solut classic parallel program problem share memori mutual exclus algorithm initi solv two process one import perform evalu tool queue network start abil solv one kind queue mm1 isol principl analysi present extend two arbitrari number process see conclus x7 discuss regard constant time assumpt a5 adv vernon 5 conclud base seven parallel applic appear reason ignor variabl execut time estim synchron delay exponenti task time assumpt could actual lead sever error constanttim assumpt relax assumpt a2 multiprogram model past work use visual underli work incorpor model present branchless assumpt a4 restrict might first appear loop whose number iter known unrol obtain branchless graph analysi includ nontermin program a6 certain long run program repeatedli execut code simul reactiv program program react extern stimuli ongo basi oper system solut method repres program execut time progress graph tpg knowledg tpg origin use oper research find minimum length schedul two job share set machin 20 pp 262263 howev good necessarili minim schedul found eye rather formal method later simplifi form tpg call untim progress graph utp delay time transit diagram uniti use analyz deadlock 1 carson reynold 7 defin upg multidimension cartesian graph progress set concurr process measur along independ time axi point graph repres set process time kung lipski papadimitri soisalonsoininen yannakaki wood 11 17 22 24 use upg detect deadlock lockbas transact system recent carson reynold use upg prove live properti program arbitrari number contain p v oper semaphor uncondit execut use tpg analyz program perform properti novel tpg map progress process one cartesian graph axi line segment repres interprocess synchron direct continu path cross segment repres particular execut program path may found comput geometr algorithm comput line segment intersect ray shoot remaind paper organ follow first defin tpg illustr use sampl program x2 represent execut program formal x3 x4 present algorithm solv problem list earlier consid x5 special class program display period behavior present algorithm solv set possibl period state sequenc aris execut program x6 relat tpg petri net final x7 contain conclus time progress graph first illustr approach solv quantiti q1 q3 x1 three program appar tpg reinvent comput scienc field attribut dijkstra 8 process produc process consum x true true read x disk receiv x consum send x consum write x disk od figur 1 nontermin producerconsum program one buffer nontermin producerconsum figur 1 contain producerconsum program use one messag buffer interprocess commun thu produc send messag fill singl buffer thu must wait consum execut receiv perform next send figur 2 contain equival graph represent program satisfi assumpt a1 a6 determinist execut time graph vertex exclud time spent block shown squar brace edg condit b1 b2 repres block may occur send receiv respect simplic present assum process block end send receiv oper condit straightforward relax recal a3 specifi synchron oper requir identifi code segment c process may block therefor fig 2 condit b1 b2 follow b1 produc never block perform first send furthermor produc block perform nth send n 1 consum yet execut 1st receiv b2 consum execut nth n receiv produc execut nth send recal tpg map progress process one cartesian graph axi result fig 1 shown fig 3 sequenc graph vertic process pass map sequenc interv denot grey line fig 3a along correspond axi interv width correspond execut time vertic synchron process repres read x disk send x consum receiv x consum write x disk receiv x consum produc consum figur 2 graph model correspond fig 1 number squar bracket refer time spent code segment label edg denot condit block occur thick circl repres initi vertic final vertic fig 3b horizont vertic line segment plane place appropri boundari vertex interv prohibit transit vertex line segment call constraint line close end point closest origin open end point line segment correspond block condit graph consid b1 fig 2 fig 3a produc make first transit read send vertex back time 4 second time 8 nth time 4n absenc block similarli consum complet first receiv time 1 second time 3 third time 5 nth time 2n gamma 1 therefor b1 produc block time 4n n 1 consum complet 1st receiv correspond point exceed coordin axi repres consum thu produc block point x meet follow two condit correspond vertic line fig 3b similarli b2 consum block tri complet nth receiv time produc yet complet nth send time 4n thu consum block point x meet follow two condit correspond horizont line fig 3b given initi point execut program repres point direct path 1st receiv 2nd receiv 1st write 3rd receiv 2nd write 1st read send 2nd read send 3rd read send map state tpg produc consumer15 c map program execut tpg consum b map synchron tpg consumer15 figur 3 represent onebuff producerconsum program fig 2 tpg plane call time execut trajectori tet initi point 00 process start simultan tet point initi point repres deadlock state otherwis tet path consist possibl infinit sequenc ray slope 0 1 1 ray slope 0 respect 1 process correspond vertic respect horizont axi block slope 1 process run concurr constraint line repres forbidden state transit tet cross constraint line finit portion tet one buffer producerconsum problem thick direct path fig 3c gener method construct tet given tet construct rule given tpg tet construct recurs follow let upper case letter option superscript ie g g 0 g denot graph point let point g denot order pair coordin two point g g 0 line segment close g 0 open g 00 satisfi g rule g lie constraint line g 0 g 00 either 1 2 exist point g distinct g 0 g 0 g 00 intersect anoth constraint line instanc case 1 tet root g ray initi point g final point g case 2 tet root g ray initi point g final point g 00 follow tet root g 00 rule ii g lie constraint line slope one ray root g either 1 2 intersect constraint line case 1 tet root g slope one ray initi point g final point g 0 g 0 point ray lie constraint line follow set tet root g 0 case 2 tet root g infinit length slope one ray root g exampl 1 consid tet portion fig 3c point lie constraint line follow rule ii case 1 thu tet ray 0 0 1 1 follow tet root 11 next lie horizont constraint line 0 1 4 1 rule case 2 second tet ray must 1 1 4 1 next rule ii case 1 appli third tet ray must g g 0 process continu forev yield infinit length tet 2 tet fig 3c yield three perform properti q1 q3 sought open paragraph paper sequenc synchron point q1 correspond sequenc horizont vertic ray aris tet tet fig 3c contain horizont ray thu program never block produc execut send block durat receiv q2 length horizont ray tet fig 3c 3 time unit first receiv first horizont ray 1 1 4 1 2 time unit subsequ receiv final durat concurr execut synchron point q3 length perpendicular project diagon ray tet either axi fig 3c 1 time unit program start process first block first diagon ray 0 1 1 1 2 time unit subsequ receiv 22 program 2 nontermin mutual exclus figur 4 contain differ form synchron last program two databas transact updat record serial reusabl resourc mutual exclus fashion use two semaphor one need use two illustr sever concept equival graph model shown fig 5 block occur edg vertex repres code segment p semaphor oper perform block condit process complet p oper process code segment complet p oper v oper semaphor code segment label edg fig 5 correspond c a4 x1 correspond tpg fig 6 show heavi line set tet could aris two initi point suppos process 1 run 55 time unit process 0 start correspond initi point 055 tet consist singl slope one ray infinit length rule ii case 2 therefor process forev execut without block suppos process 0 start execut 2 time unit process 1 two possibl tet root initi point 20 tet contain first ray 2 0 3 1 repres concurr execut process one time unit final point ray 31 repres program state process simultan attempt perform pb semaphor ab semaphore1 process 0 process 1 true true input input output output od figur 4 nontermin databas transact use semaphor serial reusabl resourc oper two possibl outcom correspond process first complet pb thu point 31 repres nondeterminist program state process 1 first complet pb process 0 block second tet ray vertic 3 1 3 3 tet final point 33 repres deadlock deadlock aris process 1 attempt block process 0 alreadi hold semaphor altern tet initi point 20 second ray 3 1 6 1 process 1 block 3 time unit follow third ray slope one initi point 61 infinit length thu process start 2 time unit process 0 program either reach deadlock process 0 block unit process run forev without block upg use extens analysi deadlock 7 11 17 22 24 deadlock consid paper 23 program 3 termin program fig 7 unlik previou two program contain termin program produc process read disk file whose first record specifi number success record send record consum write record anoth disk file simplifi present input output process 0 input output process 1 figur 5 graph model correspond fig 4 process 1 input output input output figur time progress graph correspond fig 5 constant size2 integer0s process produc process consum numrecord read numrecord disk true i1 numrecord charact x read x disk yak od figur 7 termin producerconsum code share memori interprocess commun consum nontermin assum interprocess commun implement mutual exclus access share memori use array size element correspond graph fig 8 obtain unrol loop two process correspond tpg fig 9 numrecords6 unlik preced tpg bound four side two ie left bottom axe two addit bound call right top bound line equat produc consum respect time 25 31 fig 7 combin synchron preced two exampl tpg fig combin two form constraint line preced tpg figur tet shown repres possibl execut produc consum start simultan note tet finit length final point point 2531 produc termin send six record consum block forev pfull receiv six record read numrecord read x pempti 15 produc consum read x pempti 15 bp1 nth nsize transit never block nth sizennumrecord transit block consum yet execut nsize transit vertex vempti bc1 nth transit block produc yet execut nth transit vertex vfull figur 8 graph model correspond fig 7 thick circl denot initi final vertic learn tpg first synchron point encount consum perform pfull point 11 next synchron point occur produc consum simultan attempt respect third second access share buffer pool point 117 time race condit occur produc obtain semaphor first thu tet contain ray 11 7 125 7 remaind execut consum never block produc repeatedli synchron briefli pempti oper hand consum obtain semaphor first thu tet contain ray 11 7 11 8 process encount race condit follow produc consum write write write write write write figur 9 time progress graph correspond fig 8 numrecords6 two possibl outcom tet contain part final ray 25 25 25 31 repres consum remov final buffer produc termin 24 problem statement preced exampl demonstr quantiti q1 q3 x1 comput solv problem p1 p2 ad illustr state reachabl analysi tpg p1 given tpg find set possibl tet root initi point p2 given tpg determin exist process start time correspond point lead exactli one tet process ever block eg tet root 055 fig 6 furthermor exist time output exampl 3 construct tet present algorithm solv p1 p2 formal defin tpg rule construct possibl tet let r z denot respect nonneg real integ 31 formal definit tpg definit tpg graph represent program order pair h g c nonempti set constraint line segment posit r 2 plane g c initi point r 2 repres earliest instanc process start execut exampl consid tpg fig 3b let v denot vertic line f8 zg horizont line zg tpg h v h 0 0i termin program also contain right top bound line eg fig 9 32 transit function f formal rule ii x21 tpg h g c defin two function f respect subscript f denot ray orthogon axe f denot ray diagon slope one defin f f requir notat continu path fl point g fl write g 2 fl direct continu path fl write fli respect flf denot initi final point assum fli 6 flf two continu path fl fl 0 r 2 g relat lie line ray l line ray g 1 1 slope one infinit length lie constraint line instanc l g smallest lf point greater g l intersect anoth constraint line instanc formal min 1 lie constraint line instanc g smallest 1 1 set point slope one ray root g intersect constraint line instanc formal function f map point g possibl empti set successor fg r 2 point nondeterminist iff transit point uniqu eg 31 fig 6 exampl repres state process simultan perform p oper semaphor point determinist point dead iff transit point eg 33 fig 6 repres state process block dead point may repres either program deadlock program termin definit point g nondeterminist iff jjf gjj 1 dead iff 33 construct tet tet point direct continu path consist sequenc horizont diagon ray may multipl tet root initi point follow definit tet also provid rule construct tet formal recurs rule ii x2 time execut trajectori tet tpg h g 0 root point g 0 2 r 2 either 1 point g 0 2 direct continu path root g 0 case 1 hold iff case 2 hold iff path ray sequenc g may case 2 n finit iff fg n exampl 2 fig 3c first line segment tet root initi point g 1g 00 lie constraint line instanc slope one ray root point 00 first intersect constraint line instanc point 11 next f1 1g thu second tet line segment 1 continu manner yield 0 0 1 1 possibl tet second exampl consid g fig 6 fg howev 31 nondeterminist thu fg 1 1g continu like yield two possibl tet 2 0 3 1 3 1 3 3 2 0 3 1 3 1 6 1 6 1 1 1 2 section contain algorithm solv p1 p2 x24 termin program 41 comput function f essenti solv p1 p2 method comput transit function f tpg h g c definit comput fg point g r 2 requir comput either f lie line f g otherwis comput f f discuss comput f comput f line l straightforward use relat 1 x32 1 requir comput set point intersect line li lf line precomput fg 0 reduc comput evalu f g evalu minim function 1 precomput set equival well known comput geometr problem comput intersect collect horizont vertic line eg see 21 ch 27 thu comput f consid comput f g recal f g smallest 1 1 point slope one ray root g intersect constraint line instanc well known problem ray shoot line segment 6 pp 234247 use find f g given point direct finit set line segment plane find first line segment intersect ray root point given direct typic ray shoot solut first store line segment data structur subsequ queri consist point direct answer sublinear time let shootraypoint p direct set line l denot ray shoot algorithm whose paramet point p direct either ray direct away toward axe respect set l contain finit number line segment return valu point intersect 1 1 ray intersect line segment formal f 42 problem p1 find possibl tet problem p1 given tpg h gi output represent tet root g definit tet along aforement method comput f f solv p1 howev one technic problem fg set contain either one determinist two nondeterminist g point fg contain two point least two possibl tet root g say least two point one tet root g contain point distinct g nondeterminist two tet root g therefor solut p1 requir calcul set tet propos algorithm construct direct graph set possibl tet root g simpli point g graph contain one vertex label g otherwis graph contain one vertex ray end point possibl tet root g graph color green repres unexplor vertic remain vertic color red findalltet termin program initi graph contain one vertex repres g color green follow step repeat green vertic select green vertex g 0 graph color g 0 red vertex g 00 2 fg 0 add arc g 0 g 00 color g 00 green exampl 3 fig 9 graph consist vertex point 00 outgo arc vertex point 11 arc 11 vertex 51 arc 51 117 two outgo arc 117 1257 118 graph path lead vertex point 2531 vertex 2531 outgo arc 2 43 problem p2 decid exist nonblock tet restat p2 use follow definit tet nonblock tet contain point repres state process block geometr diagon ray root point lead nonblock tet never intersect constraint line final point lie top right bound line problem p2 equival given constraint line set tpg determin exist initi point x axi lead exactli one tet tet nonblock output tet algorithm findfreepoint let l set contain line left 0 0 0 1 bottom 0 0 1 0 set g shootraylf gamma l exist line l g 2 f left bottomg g 0 shootraylf l lie top right bound line return g g 0 otherwis report nonblock tet exist r figur 10 tpg contain infinit number tet 5 case 2 nontermin program preced algorithm use nontermin program two reason first tpg termin program rectangl four finit length side tpg nontermin program extend infin cartesian quadrant axe posit unbound natur tpg mean tet infinit length unless execut reach deadlock second may infinit set tet root point plane fig 10 occur program time state repres point tet program eventu reach anoth race condit nontermin program whose synchron mutual exclus resourc access eg x22 permit simpl character exhibit period behavior grey line fig 6 partit plane set equals rectangl locat rectangl side plane correspond initi new infinit loop iter process rectangl call quadrant formal defin quadrant requir notion process cycl time let r 2 f0 1g denot one two process denot process ie vice versa cycl time process r denot oe r time requir process r pass vertex infinit loop graph represent ignor time spent block thu fig 5 oe quadrant region fg g initi quadrant quadrant contain origin exampl 4 initi quadrant fig 6 opposit vertic 00 1111 quadrant opposit vertic signific quadrant constraint line quadrant congruent definit point g 0 congruent denot g j g 0 iff line segment congruent end point congruent fact placement constraint line quadrant congruent two impli cation first suffici analyz one quadrant plane deriv set possibl tet modif algorithm preced section follow sec ond tet contain determinist point consist transient portion follow infinit number repetit congruent subtrajectori repres period behavior see theorem 1 3 repeat subtrajectori call limit cycl execut trajectori lcet exampl 5 fig 11 oe 3 tet subpath root point 3 2 fig 11 consist infinit number repetit follow lcet horizont ray length 2 diagon ray whose project length either axi 3 transient tet portion subpath initi point 00 final point 32 instanc lcet tet congruent exampl two instanc 3 2 5 2 5 2 8 5 13 8 15 8 10 two congruent first second ray first subtrajectori congruent first second ray second subtrajectori respect 2 figur time progress graph nontermin program use one semaphor lcet motiv one problem addit p1 p2 x24 solv section p3 find set possibl lcet tpg reachabl initi point special case tpg definit tpg nontermin program synchron mutual exclus resourc access order tripl hphi g c specifi process cycl time constraint line initi quadrant point repres initi program state phi order pair cycl time oe 0 oe 1 satisfi oe set constraint line gener line segment w x lie initi quadrant correspond one edg graph model label nonempti condit initi final point gener w x w x respect instanc gener defin line r 2 plane congruent gener formal instanc gener def lambdag initi point satisfi lie either x axi within one cycl time origin tet construct rule ii definit transit function f given earlier x21 x32 respect appli unalt tpg hphi g c exampl 6 figur 11 illustr finit portion tpg hfoe practic consider henceforth assum execut time vertex graph repres program eg number squar bracket fig 2 5 8 integ rather real number otherwis comput geometr algorithm present work correctli finit precis arithmet eg comput mod oper subject roundoff error assumpt integ delay unreason practic softwar perform evalu exampl measur comput microsecond period clock measur time ration number form x therefor scale measur invers clock period eg yield integ quantiti requir propos algorithm 51 modifi algorithm comput comput f recal x32 point g constraint line l f g smallest point g 0 g set contain final point l point intersect l constraint line hphi g c contain constraint line initi quadrant map g congruent point initi quadrant ie modg comput describ x41 final map g 0 2 f back quadrant contain g formal comput f oe r g comput f g method comput f g given x41 must modifi nontermin tpg infinit number constraint line plane therefor figur 12 illustr use shootray within initi quadrant f g comput f use initi quadrant use observ diagon ray fl tet partit collinear ray initi point lie quadrant boundari fact provid algorithm comput f ray initi quadrant comput right initi quadrant edgesg translat g 0 back fl k quadrant obtain fl k1 see 1 complet algorithm exampl 7 fig 11 f 5 fig 12 show two shootray oper requir comput f g ray 5 2 8 5 lie exactli two quadrant 52 p1 find possibl tet recal problem p1 given tpg hphi gi output represent tet root g state solut two implic nontermin program must consid tet may infinit length may infinit number tet recal fig 10 former case infinit length tet tet must consist transient subtrajectori follow infinit number repetit lcet therefor algorithm output represent transient trajectori first lcet later case infinit number tet choos integ valu maxnpath algorithm find maxnpath possibl tet assum infinit number tet termin without explor gener algorithm findalltet x42 solv p1 nontermin program algorithm findalltet nontermin program 1 initi graph contain one green vertex label g set npaths1 2 set g vertex color g 0 red increment npath jjf g 0 jj gamma 1 3 point g 00 fg 0 creat vertex label g 00 add direct edg g 0 g 00 g 00 congruent point p label vertex graph path g g 00 add arc g 00 p color vertex g 00 red otherwis color green 4 graph contain green vertex npath maxnpath go step 2 otherwis output graph path root g label path contain cycl transient follow lcet label remain path transient exampl 8 graph construct findalltet tpg fig 11 consist edg graph vertex label 00 vertex label 22 edg 22 52 52 85 85 back 52 fact graph contain one path one cycl mean process simultan start execut ie program start state repres 00 must reach period state sequenc process 0 block two time unit process run concurr three time unit 2 53 problem p2 decid exist nonblock tet recal problem p2 given phi tpg determin exist initi point x axi lead exactli one tet tet nonblock output tet program termin make one minor differ algorithm given earlier freepoint x 43 chang lie top right bound line equal 1 1 return g g 0 return g 1 1 54 problem p3 find possibl lcet restat p3 categor lcet block nonblock block lcet contain point repres state process block geometr block lcet contain horizont vertic ray nonblock lcet consist singl diagon ray two tet homotop continu transform avoid constraint line term due lipski papadimitri 11 path upg exampl tet root point fg fig 6 consist one diagon ray homotop problem p3 given phi tpg output one element equival class block lcet one element set homotop lcet algorithm findnonblockinglcet find nonblock lcet initi l find freepoint x43 set l 2 shootraylf nonblock lcet otherwis point g output g g oe nonblock lcet consid next find block lcet key insight set tet contain ray intersect given constraint line instanc denot l also contain common point lie l either dead point case point final point tet lf later case set must either lcet reach dead state lie anoth constraint line instanc reach lcet therefor necessari consid tet root lf determin contain anoth point congruent lf lemma 1 make precis lemma 1 set possibl unreach block lcet found find l 2 proof see theorem 3 4 2 2 let denot set lcet satisfi lemma 1 determin lcet reachabl calcul line l lcet shootraylf gamma l l line set algorithm findfreepoint return valu shootray lie bottom left edg initi quadrant lcet contain l reachabl therefor propos solut p3 exhaust test l evalu f lf describ x51 6 relat tpg petri net figur 13a 13b petri net 16 represent fig 1 4 respect producerconsum program figur 13a petri net class call determinist system synchron process dssp 18 shade place denot buffer share two process databas transact program fig 13b howev class dssp violat rule place repres buffer input one process fig 13b place repres semaphor buffer input process fig 13b simpl asymmetr choic net ie arc weight one two place share output transit set output transit one place either equal subset output transit place 16 p 554 therefor class program meet assumpt a1 a6 dssp restrict two linear process 23 gener omit privatebuff assumpt ie definit 27ii 18 magott 12 give algorithm comput minimum cycl time mct minimum time requir consist petri net return initi mark given determinist fire time net consist set n cyclic process mutual exclus share singl b output output process 1 read send receiv write process 0 process 0 process 1 figur 13 petri net represent fig 1 4 resourc show find mct net complex resourc share np hard also prove complex result system process commun buffer final holliday vernon 9 use petri net frequenc express ie probabl resolv determinist transit fire token enabl two transit simultan analyz program similar fig 4 tpg solut provid fourth analysi method one petri net class addit cov erabl tree matrixequ decomposit techniqu certain behavior properti ie p1 enumer possibl transit fire sequenc given initi mark certain structur properti ie p2 p3 conclus analyz two build block interprocess synchron mutual exclus asynchron commun finit number buffer paper demonstr properti set possibl execut certain parallel program exactli analyz solv equival comput geometr problem analysi limit two process extens process requir ray shoot dimension cartesian graph dimension hyperplan nonsimpl arrang bound one dimens knowledg open comput geometr problem whose solut would allow solut problem p1 p2 arbitrari number process closest problem solv dimens ray shoot unbound hyperplan form simpl arrang eg see 14 one limit dimens progress graph repres content multipl process resourc nondeterminist choic process get resourc repres differ queue disciplin broader implic work two open question program visual map geometr problem geometri use analyz petri net class acknowledg allison l heath kafura mathur tripathi anonym refere made suggest improv manuscript c shaffer help locat comput geometr algorithm r comput geometr perform analysi limit cycl time transit system geometr perform analysi semaphor program geometr perform analysi period behavior visual analysi parallel distribut program time influenc random delay parallel execut time intersect decomposit algorithm planar arrang geometri semaphor program system deadlock gener time petri net model perform analysi visual perform debug fast algorithm test safeti detect deadlock lock transact system perform evalu system cyclic process mutual exclus use petri net jed event display vertic ray shoot hyperplan petri net properti concurr control lock determinist buffer synchron sequenti system declar approach visual concurr comput oper research method problem algorithm c optim algorithm test safeti detect deadlock lock transact system determinist system sequenti process theori tool lock polici safeti freedom deadlock tr