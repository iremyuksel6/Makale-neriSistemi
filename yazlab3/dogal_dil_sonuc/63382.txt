stochast petri net analysi replic file system author present stochast petri net model replic file system distribut environ replic file resid differ host vote algorithm use maintain consist wit simpli record statu file contain data use addit place file reduc overhead model suffici detail includ file statu current outofd well failur repair host copi wit resid present number copi wit fix paramet model two differ major protocol examin b introduct user distribut system often replic import file differ host protect subset host failur consist file across databas difficult maintain manual data abstract replic file introduc autom updat procedur ellis83 popek81 stonebraker79 consist file often maintain assign vote copi file automat assembl quorum major vote file access requir major updat insur one write set exist time quorum automat includ least one recent updat copi system toler host failur extent minor vote may unavail time file updat still permit pari suggest replac copi wit contain data testifi current state copi wit low storag cost simpl updat paris86a paris86 paris86 believ replac copi wit minor impact avail file system avail analysi replic file system perform markov chain often use jajodia87 paris86a paris86 markov chain construct manual analysi often limit small system perhap three copi model highest level without proper tool difficult develop markov model larg system detail enough includ failur repair host vote updat procedur higher level languag need descript system allow automat gener markov chain stochast petri net model provid languag present stochast petri net model distribut file system whose structur independ number copi wit model automat convert markov chain solv numer state probabl gener markov chain 1746 state describ replic file system consid defin stochast petri net model increment develop model includ copi wit failur repair request vote solv model avail filesystem static adapt vote algorithm examin performancereli tradeoff associ prefer copi vs prefer wit particip quorum major avail replic file system mutual consist variou repres replic file maintain least three way ellis83 write copi updat design primari copi leader parker83 stonebraker79 use variou weight vote algorithm davcev85 ellis83 gifford79 jajodia87 paris86a paris86 thomas79 weight vote algorithm copi assign number vote set copi repres major vote quorum must assembl updat copi may assign differ weight number vote includ none differ quorum defin read write oper consist guarante long quorum high enough disallow simultan read write oper disjoint set copi simplest quorum polici requir major copi particip read write assign one vote howev system administr alter perform manipul vote structur replic file gifford79 associ repres timestamp version number increas updat time copi repres major vote highest version number assemblag major guarante contain repres highest version number copi version number ident time quorum copi gather outofd copi particip quorum brought uptod transact process copi particip quorum becom obsolet sinc longer highest version number pari suggest replac copi wit decreas overhead maintain multipl copi file wit contain data vote confirm current state copi creat maintain easili simpli contain version number reflect recent write observ quorum gather count wit copi least one current copi must includ copi version number highest wit version number updat perform pari suggest transform wit copi vice versa need assumpt model develop assum simplic repres copi wit assign one vote vote assign call uniform assign barbara87 shown optim reliabl fulli connect homogen system perfect link also assum copi wit transform assum follow scenario gather quorum request receiv statu request messag sent site known contain repres repres resid function host comput answer commun statu major repres avail subset chosen particip updat select process member particip subset tri minim time need servic request includ mani current repres possibl prefer wit sinc fast updat quorum thu form first choos current copi need current wit current copi outdat wit outdat copi order current copi wit particip quorum updat remain one becom outdat sinc recent timestamp host comput fail repair thu repres avail time repres machin fail assum outofd machin subsequ repair conserv unrealist assumpt possibl exactli model whether repres gone outofd host chose model would complex quorum form request receiv manual reconstruct initi restor system origin state keep model becom complex consid write request assum time laps request also assum host fail quorum gather host may fail updat procedur time event assum exponenti distribut allow markov chain analysi time gener distribut semimarkov analysi simul would need bechta84a 4 stochast petri net petri net graphic model use model system exhibit concurr asynchron nondeterminist behavior peterson81 node petri net place drawn circl repres condit transit drawn bar repres event token drawn small fill circl move place place transit fire use denot condit hold given time event usual enabl combin condit transit enabl combin token place arc drawn place transit transit place arc use signifi combin condit must hold event occur combin condit hold event occur arc place p transit p input place arc p p output place condit exclus transit enabl input place contain least one token enabl transit fire remov token input place deposit token output place stochast petri net spn defin associ exponenti distribut fire time transit molloy81 natkin80 spn analyz consid possibl mark enumer token place solv result reachabl graph markov chain gener stochast petri net gspn allow immedi zero fire time time exponenti distribut fire time transit immedi transit drawn thin bar time transit drawn thick bar gspn solv markov chain well ajmone84 extend stochast petri net espn bechta84a bechta85 allow transit time gener distribut case espn solv markov chain semimarkov process otherwis simul model use paper basic gspn variat origin current definit use term stochast petri net spn gener mean petri net stochast time three addit featur control enabl transit includ spn model inhibitor arc transit prioriti enabl function inhibitor arc peterson81 place transit disabl transit correspond input place empti sever transit differ prioriti simultan enabl mark one highest prioriti chosen fire other disabl enabl function logic function defin mark evalu fals disabl transit specif transit enabl 1 least one token input place 2 token inhibit place 3 enabl funtion evalu true 4 transit u prioriti satisfi 1 2 3 exist descript transit label tupl namepriorityen function enabl function ident equal true absent prioriti indic lower number indic higher prioriti sever enabl transit schedul fire instant probabl distribut possibl markingdepend defin across determin one fire spn present immedi transit requir specif probabl sinc probabl contemporari fire continu exponenti distribut null 5 model quorum consid spn shown figur 1 part larger one consid later certain moment time spn contain token place label start number token place label cc current copi cw current wit ow outdat wit oc outdat copi repres number repres correspond state begin observ remain place empti assum possibl reach quorum token cc place minor host transit t16 enabl fire exponenti distribut amount time signifi time need send statu request messag receiv respons t16 fire assembl quorum begin like major repres respond subset must select particip updat mention earlier would like minim time need perform updat prefer includ mani wit possibl must alway includ current copi quorum token remov cc place deposit qc quorum copi place t16 fire token also deposit drive place start gather repres transit 17 18 t19 t20 repres inclus current wit current copi outdat wit outdat copi quorum respect want transit fire order 17 18 t19 20 assign prioriti 2 3 4 5 respect want transit fire major reach associ enabl function q logic function q evalu true major repres select particip updat transact q logic complement q transit t17 fire current wit transit t18 fire current copi outdat wit updat necessari outdat copi made current last two event requir time transit t19 t20 time soon q evalu true gather stop 18 19 t20 might fire mani time enabl q evalu true transit 26 prioriti 6 enabl point token place qc qw quorum wit denot particip updat sum token two place repres major repres file system want emb spn describ gather quorum within larger spn includ failur repair updat procedur consid quorum gather model subnet activ token deposit start place exit token deposit done place cc cw ow oc place share larger net share place drawn doublecircl figur number use transit correspond one two instanc subnet number second instanc 21 22 23 24 25 27 respect instead 16 17 18 19 20 26 6 file system model overal model distribut file system shown figur 2 content box label form quorum spn shown figur 1 except cc cw oc ow place share overal model left portion figur 2 model failur repair host copi resid right portion model failur repair host wit resid center portion model updat transact describ portion separ place cw dw ow far right figur repres number wit current host fail outofd transit t2 repres failur host assum host ident transit t4 repres repair host transit t40 repres failur host outofd wit sinc assum wit goe outofd host fail output place transit t4 place ow similar structur copi consist transit 1 t3 39 place cc dc oc assum copi host fail subsequ repair check exist quorum file system possibl bring uptod action repres box label form quorum 2 host copi resid repair correspond token deposit oc place token also deposit tri place repres attempt form quorum possibl outofd copi need brought uptod reach quorum transit t41 insur one token exist place tri token deposit place tri possibl reach quorum transit t15 fire token deposit start2 place spn figur 1 also token deposit place inq2 simpli use signifi quorum form qc done qw place quorum gather spn shown overal spn cc cw oc ow place quorum gather spn respect place overal spn thu arc place box shown explicitli figur 2 arc shown explicitli figur 1 quorum gather outofd copi updat transit 13 repres return respect place transit t12 14 transit t13 higher prioriti transit t12 14 fire center section spn model normal updat process transit t0 model time laps updat request request receiv token deposit place req quorum form function f evalu true transit t5 fire deposit token start1 place box label form quorum 1 anoth instanc quorum gather spn qc1 qw1 done1 place common overal spn quorum gather complet remain current repres becom outdat transit t8 10 two transit move token cc cw oc ow respect t9 fire allow updat occur point repres may updat transit t6 7 host resid may fail transit t28 29 await next request 7 manual reconstruct file configur spn defin produc markov chain absorb state correspond situat quorum form major host sinc want analyz steadyst avail system introduc manual intervent reconstruct system quorum possibl figur 3 show spn use model manual reconstruct file structur request receiv possibl gather quorum function f evalu fals transit t30 figur 2 fire deposit token start place figur 3 describ fire transit t31 gather togeth outdat repres deposit correspond token place c w fail host must repair repres gather repair repres time transit t36 37 repres gather transit t33 t34 may begin fire bring repres uptod two transit empti place c w transit t38 fire put token done transit t35 figur 2 remov token token resid inrec restor initi configur 8 model specif model specifi solut packag cspl cbase stochast petri net languag base c program languag set predefin function avail definit spn entiti distinguish cspl c predefin function place tran iarc oarc harc use defin place transit input arc output arc inhibitor arc respect also builtin function debug spn specifi solut method desir output measur enabl distribut probabl function transit defin user c function markingdepend obtain use builtin function markplac return number token specifi place enabl function q f use respect quorum gather subnet figur 1 trigger reconstruct subnet figur 2 logic function defin current mark spn keep function simpl defin three place overal spn inq1 inq2 inrec token place inq1 quorum form normal updat token place inq2 outofd copi check see valid quorum possibl place inrec hold token manual reconstruct file system cspl code describ q f respect follow c program languag mean logic mean logic int q f els thu q evalu true iff half total number repres place qw qc least one copi given structur spn int f f markcc markinq1 markinq2 els thu current copi token place cc quorum reconstruct progress token place inq1 inq2 inrec repres transit enabl fire rate time transit depend number token input place exampl transit t1 fire rate equal failur rate individu host multipli number oper host token place cc float phi float point constant repres failur rate singl host mark depend fire rate transit repres host failur defin similarli 9 model experiment two differ quorum definit vari mean time repair fail host number copi number wit set experi assum paramet list tabl 1 consid mean time repair 1 hour 2 hour 8 hour first set experi defin quorum major repres quorum must includ current copi previous discuss second set experi relax definit requir quorum consist major repres oper host exampl suppos total 3 copi 2 wit creat one avail current given requir major repres must particip quorum updat servic howev requir quorum consist major repres oper host quorum form use avail copi wit second assumpt updat continu last copi fail manual reconstruct must perform idea concurr investig jajodia mutchler jajodia87 term dynam vote similar approach adapt vote use design faulttoler hardwar system siewiorek82 model adapt vote instead static vote definit q f need chang elimin depend place dw dc analyz avail system observ probabl token place inrec measur repres steadyst probabl system undergo manual reconstruct file system avail file system complement probabl shown two quorum definit tabl 2 hour model system one copi 11 state model system 4 copi 3 wit 1746 state hour see adapt vote techniqu increas avail total number repres small techniqu may decreas avail mani repres see exampl configur 5 copi 2 wit avail system decreas copi replac wit vote techniqu certain point increas behavior explain consid factor affect overal avail first replac copi wit decreas total number copi probabl copi regardless state wit higher neg effect avail especi sharp decreas avail experienc go dn2e 1 dn2e n repres avail present case n odd see jajodia87 discuss case n even reason quorum polici assum time host assum 7 quorum contain two copi two wit 52 case one copi three wit 43 case one copi quorum impli whenev copi becom unavail copi useless outofd increas avail point dn2e less intuit main caus probabl quorum polici suggest investig quorum polici effect avail need hour adapt vote techniqu alway increas avail although improv decreas number wit increas 5 repres allow one repres wit increas avail static vote decreas adapt vote 7 repres assign two wit statu maxim avail static vote howev adapt algorithm still perform better assumpt state addit wit fix number copi increas avail seen compar result 3 copi 0 wit 099908 3 copi 2 wit 095992 3 copi 4 wit 095663 see tabl adapt vote reason decreas avail ad extra wit explain examin procedur use select particip quorum desir speed quorum gather process give prefer wit quorum sinc updat procedur wit fast howev prefer increas probabl copi outofd sinc current copi necessari quorum redund copi often outofd decreas avail result tri improv avail without consid perform quorum gather procedur would give prefer copi particip easili reflect spn model consider prioriti associ transit figur 1 need chang includ current copi outdat copi current wit outdat wit order tabl 3 compar avail 3 copi 0 2 4 wit two differ prefer format quorum use adapt vote algorithm case addit wit favor affect avail prefer copi quorum increas time need perform updat sinc take longer write copi wit tabl 4 compar steadyst probabl system updat state estim probabl spn look probabl token place inq1 figur 2 token like place inq1 prefer form quorum given copi wit conclus present detail stochast petri net model replic file system avail analysi model includ failur repair host file updat quorum format manual reconstruct file system total number repres file vari one seven composit repres number copi wit vari well use model investig two differ vote algorithm use maintain file consi tenci first algorithm static vote requir major repres particip updat second algorithm adapt vote requir major repres oper unit particip updat case adapt vote algorithm result higher avail file system effect pronounc mean time repair host higher thu smaller number host avail given time examin process actual particip updat select given major avail desir fast updat process lead prefer wit quorum effect decreas avail file system decreas avail attribut fact repres partecip quorum becom outdat copi frequent outofd increas avail file system prefer given copi particip updat unfavor effect perform sinc take longer perform updat copi wit take longer servic request copi quorum particip futur model effort look effect convert copi wit vice versa effect use differ quorum polici avail file system also investig heurist determin perform convers espect abl explor wide number polici make minor chang addit spn present r class gener stochast petri net perform evalu multiprocessor reliabl vote mechan extend stochast petri net applic analysi design unifi packag solut stochast petri net model consist recoveri control replic file roe file system weight vote replic data dynam vote integr delay throughput measur distribut process model reseaux de petri stochastiqu vote wit consist scheme replic file vote variabl number copi detect mutual inconsist distribut system petri net theori model system locu network transpar theori practic reliabl system design concurr control consist multipl copi data distribut ingr major consensu approach concurr control multipl copi databas tr class gener stochast petri net perform evalu multiprocessor system reliabl vote mechan dynam vote major consensu approach concurr control multipl copi databas consist recoveri control replic file petri net theori model system extend stochast petri net design unifi packag solut stochast petri net model weight vote replic data locu network transpar high reliabl distribut system ctr g chiola marsan g balbo g cont gener stochast petri net definit net level implic ieee transact softwar engin v19 n2 p89107 februari 1993 yianni e pape thoma l casav specif analysi paralleldistribut softwar system petri net transit enabl function ieee transact softwar engin v18 n3 p252261 march 1992 yuanbao shieh dipak ghosal prasad r chintamaneni satish k tripathi model hierarch distribut system faulttoler ieee transact softwar engin v16 n4 p444457 april 1990 changsik park john j metzner effici locat discrep multipl replic larg file ieee transact parallel distribut system v13 n6 p597610 june 2002