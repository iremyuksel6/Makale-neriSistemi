activ camera calibr headey platform use variabl statedimens filter abstractthi correspond present new techniqu calibr camera mount control headey platform use trajectori arbitrari number track corner featur improv calibr paramet estim time util novel variabl state dimens form recurs filter special visual stimuli requir assumpt made structur scene stationari rel head algorithm run 4 frame per second singl inmo t805 transput fulli integr realtim activ vision system updat calibr paramet regularli pass vision modul requir although algorithm requir initi estim camera focal length result present real experi demonstr converg achiev initi error 50 b introduct scene reconstruct object recognit area comput vision plagu need accur camera calibr 19 calibr typic requir object made high precis place front camera 13 8 requir consider experiment care make method impract autonom robot act unstructur world reason much emphasi place recent field structur motion 12 stereo 7 object recognit 21 activ vision 5 algorithm obviat camera calibr howev vision control robot system seem limit far idea push order make control motion activ system must convert imag quantiti angl distanc requir calibr form exampl consid 1d fixat target point p correspond perspect project point x imag focal length f igonor imag distort angl camera must turn fixat p first sight one merit activ system exploit visual feedback redirect gaze without know f howev one underestim f valu overestim vice versa choic f affect damp fixat control system correspond describ calibr method exploit headey platform abil make precis known head movement robustli track stationari point unstructur world approach novel sever way first utilis measur imag featur track multipl imag comput effici statist principl manner secondli process fulli integr realtim reactiv vision system gaze control 18 17 provid continu updat calibr paramet vision modul thirdli algorithm use novel form recurs filter allow observ arbitrari number track featur incorpo rate variabl statedimens filter vsdf gener work support grant uk epsrc grant grg30003 ec esprit programm ep 5390 author depart engin scienc univers oxford park road oxford ox1 3pj uk email pm dwmrobotsoxacuk solut static estim problem involv global state variabl number local state coupl global state work respect calibr paramet visual direct track featur world show section iii filter effect deal discard state correspond lost featur time complex linear number current local state track featur method aspect common previous report work like thacker courtney 23 aim improv estim time incorpor new imag measur arriv like hartley 10 calibr use rotat camera motion like du bradi 6 use imag featur track multipl frame research togeth maybank faugera 14 brook et al 4 emphas benefit selfcalibr paradigm well describ present work special object use visual stimuli calibr paramet updat time react extern disturb calibr proce automat background task progress follow section discuss calibr paramet singl camera direct two rotat axe section iii iv give detail descript algorithm run parallel motion algorithm implement realtim vision system 17 result present section v two version algorithm demonstr generaliz natur approach ii geometr paramet recov consid calibr paramet singl camera two attach rotat axe elev azimuth camera head geometri sketch figur 1 xy z frame stationari rest head frame defin set x axi coincid elev axi axi coincid azimuth axi arbitrari intial posit elev angl e azimuth angl gaze frame transform x fix unknown transform take head frame x camera frame x z zaxi optic axi definit perpendicular x axe parallel imag plane z gammaf imag frame camera frame optic centr x z f xyz frame frame transform elev axi z z head frame azimuth axi fig 1 model use singl camera mount 2 degre freedom elev azimuth head configur yorick mean azimuth axi correspond 0 axi elev note sens head angl posit elev mean camera look posit azimuth mean camera gaze left ideal transform xy z x would pure rotat x would ident head design strive ideal use vernier adjust camera mount although import applic metrolog effort seem misplac vision devic take account intern misalign camera chang exampl zoom chang must determin calibr prefer use less precis mount calibr misalign overal transform x z x z written priori sum pure rotat pure tran lation rotat compris part chang precis use rotat axe fix unknown part aris misalign camera mount camera bodi optic axi effect ccd chip within bodi translat chang rotat chang aris small offset rotat axe rel larg displac optic centr rotat centr small displac princip point notion imag centr x translat coupl rotat theoret possibl determin howev effect visual data translat compon also proport invers depth practic present platform effect negligbl two matter relat camera first minor signific data calibr obtain close imag centr radial distort routin correct use method describ 3 secondli aspect ratio imag frame imperfectli known lack precis knowledg hardwar paramet camera ad rate two independ focal length calcul x direct imag summaris first assum point suffici depth view case greater 2m distant transform between x z x rotat chang precis mechan camera platform use yorick 22 provid inform rel head angl within 001 ffi correspond 01 pixel imag importantli proper account taken time delay imag captur earli process head odometri map precis correspond imag data 22 secondli assum transform x x frame pure rotat three small angl associ typic less 3 ffi recov calibr two focal length camera fx fy x direct take account aspect ratio final assumpt 3d point view stationari rel frame origin simplifi develop calibr algorithm sinc intrins extrins estim paramet constant world move one recov scene motion well cali bration complic matter consider 14 1 11 consid stationari scene point stationari gaze frame x z thu p con stant shall first determin point x imag plane project given current elev azimuth angl e elev rotat angl e x axi azimuth rotat angl elev axi 0 thu repres matric ce se ce gamma 0 ca e use abbrevi etc defin z unit vector direct camera x measur fix xy z frame let small rotat x axe rotat camera frame head frame describ matrix gammao oe x 1 henc combin rotat togeth x rarer oe consid fix point p 3d coordin rel camera imag coordin x relat standard project equat set express fact measur visual direct 3d point p valid simplif long head angl e kept well away sigma90 ffi point pz approach zero equat 2 provid basi algorithm estim head paramet observ stationari point world algorithm decrib section iv use variabl state dimens filter describ iii variabl state dimens filter vsdf wish recov calibr paramet trajectori track featur essenc problem difficult combin measur featur provid state time use typic kalman filter 2 howev complic issu first featur well provid inform global state ie calibr paramet also local state 3d visual direct point world secondli visibl featur world constantli chang head rotat combin impli full state vector compris local global state vector constantli chang size similar problem aros structur motion system harri et al 9 estim egomot track corner featur solut chosen separ kalman filter run local state vector attach corner updat global state vector end iter good reason use harriss approach time complex kalman filter cubic function state vector size involv matrix multipl invers implement full kalman filter would prohibit howev approach suboptim fulli impos rigid constraint upon egomot problem formul one contribut correspond show certain class estim problem involv singl global state multipl local state formul way timecomplex linear full state vector size thu make comput tractabl observ requir formul new method local state coupl local measur featur posit global state local state approach exactli equival kalman filter use differ formul bring import aspect chosen problem set take advantag observ equat relat paramet featur includ relat featur mean invers covari matrix full state vector contain mostli zero shown turn properti invers covari matrix mean calcul time linear number featur use updat method normal kalman filter state vector determin also linear time use invers covari filter relat inform filter 15 benefit formul allow featur remov state vector simpli remov correspond row column invers covari matrix subsequ updat invers covari state vector exactli featur retain state vector word fit state vector dimens number current featur filter detail first discuss oper filter gener term describ use calibr section iv let us write set global paramet vector x correspond focal length mechan align error camera calibr problem let featur track paramet estim world co ordin call paramet local paramet whole paramet set x term full state vector relat observ z j time j measur equat z w j gaussian distribut vector mean 0 covari r j let prior estim x x0 covari p0 first consid whole histori featur time k defin j follow ae track time step j k maximum likelihood solut innov first term measur disagr full state vector initi estim x0 second term includ measur time k note state dynam involv x assum constant vector digress point analys simplifi problem recurs estim singl constant state vector x measur zj subsequ appli result complet system present given estim xk x time step k covari p k new measur 1 new estim xk minimis rk1 covari zeromean measur 1 linear around previou estim xk drop time step index simplic obtain updat rule jacobian matrix hx h h henc also evalu old valu x updat p done calcul xd sinc assum x constant estim x vari slowli error introduc linear small although import sourc error equival part extend kalman filter 2 appli result case estim multipl state vector x consid first bundl singl vector thu complet state vector accordingli partit invers covari updat rule c given new measur z hx w e individu jacobian hx hy use equat 5 requir p written mean chang state estim reason use form state updat formula rather directli use eq 5 appli case multipl ys coupl measur process formula lower comput complex crux vsdf approach multipl measur z nois vector w covari r write z r e stack vector matric r b e r blockdiagon also write invers covari matrix updat rule term p gamma1 updat p gamma1 state estim updat use increment note measur local state correspond eq 3 zero b c remain unchang th term updat ignor increment appli case gammac updat formula constitut vsdf algorithm achiev minim j eq 4 inspect clear comput complex complet updat singl timestep linear n oppos cubic eq 5 use directli remain describ vsdf initi local state vector ad remov a1 initi filter given initi estim valu x0 global state vector x covari p0 follow matrix scalar initi a2 introduc new local state local state vector yn1 introduc initi estim determin initi measur new matric bn1 cn1 initi zero final n crement n n 1 procedur effect add new column row block invers covari matrix p gamma1 a3 remov local state local state y1 say remov state vector data avail therefor remov row column block l invers covari matrix p gamma1 howev must ensur affect subsequ calcul reduc state new observ made accomplish subtract follow term l b l c l discard state n shift posit l remain state fill gap final n decrement n n gamma 1 note extra storag requir maintain inform discard state iv implement calibr algorithm pair equat 2 written definit fy oe x oe oe z measur function h defin hx row rotat matrix r defin term e oe x oe oe z x constitut global set paramet estim z measur posit project drop subscript section consid singl track featur implement vsdf recurs updat need calcul jacobian matric h respect x readili obtain differenti fill detail concern implement camera calibr vsdf framework initi initi valu fx0 fy0 focal length fx fy pixel estim empir toler error high 50 angl oe x oe oe z like small initi valu set zero initi covari p0 set diagon entri oe 2 f focal length oe 2 oe angl oe 30pixel oe 01radian larg indic lack confid initi estim effect initi covari declin time cours b corner match corner detect 25 framer 25hz 64 theta 32 pixel central imag window assumpt track featur correspond stationari scene point mean posit featur new imag predict previou estim x visual direct calibr paramet new head angl e use eq 2 featur search 3 theta 3 pixel window centr predict posit corner found match accept pixel around similar around featur detect previou imag test sum absolut differ pixel greylevel valu 7 theta 7 window around featur divid mean pixel valu ratio less 01 match accept one possibl match found reject stringenc reflect need elimin fals match expens lose true match uniqu match found new featur posit x incorpor new observ see next section match found featur ambigu match may still reappear subsequ frame featur allow remain invis three consecut frame remov local state vector p fig 2 show sever frame taken run calibr algorithm track corner superimpos fig 2 consecut frame calibr algorithm match unmatch newli appear corner indic respect black white dot black circl c incorpor new observ vsdf updat procedur allow arbitrari subset current local state new observ incorpor subset correspond featur uniqu match latest frame imag posit x z take covari r z diagon entri oe 2 xy oe correspond estim random error featur posit ad new local state new corner featur appear initi imag posit initi estim 3d world direct pn1 determin current paramet rearrang eq 2 two linear equat px py rotat matrix r calcul use latest estim x x imag posit xn1 time imag taken new local state vector ad use procedur section iiia2 first observ pass vsdf gener two version algorithm implement first calibr focal length full calibr algorithm describ case corner data everi sixth frame 25hz imag stream use algorithm run 425hz focal length algorithm easili construct redefin x fx fy remov term oe x oe oe z equat section iv effect forc zero order run calibr algorithm either version camera first align head hand initi valu focal length provid algorithm start simultan commenc head motion exact trajectori matter long chosen cover larg enough rang space head angl eg pure horizont trajectori chosen would imposs measur vertic focal length fy implement head follow trajectori constant angular speed 6 elev azimuth one angular rang limit 20 ffi elev reach whereupon head revers relev veloc appear bounc limit v result result focal length algorithm fig 3 show result five run focal length algo rithm horizont axi essenti measur time amount data form corner match vari time much match ceil exam ple instead use cumul number corner match abscissa five run last around 200 second use differ start valu fx fy 300250 350650 650275 thu initi error 50 algorithm still converg case algorithm converg valu mean valu fx taken end run 5233 standard deviat 17 pixel ie 03 mean valu mean standard deviat fy 3918 146 04 mean also plot predict error absolut error measur avail equival epipolar error stereo calibr algorithm 24 measur rootmeansquar rm error predict posit featur actual posit imag sinc track search window limit one pixel either side predict posit corner pixel posit integ rm error practic restrict rang 051 occasion dip 05 seen rm error quickli drop near 05 show track error small lack groundtruth calibr paramet import current purpos wish abl track move object use gener motion tracker 20 must make predict imag motion base paramet fx fy oe x oe oe z unit pixel radian mean 5283 3878 0028 0054 00058 std dev 09 10 0007 0011 00011 ratio 02 03 25 20 20 mean standard deviat calibr paramet end run shown figur 4 known head motion rm predict error calibr exactli measur tell us well done b result full algorithm eight run full calibr algorithm shown fig 4 focal length quickli converg valu slightli differ valu previou experi differ calibr method chang focuss adjust run angular align offset take longer converg smaller effect run took 10 minut point paramet still converg result end run summar tabl expect percentag error align offset much larger focal length small less ef fect perhap slightli surpris measur cyclotors oe z gamma03 ffi indic either misalign camera mount ccd within camera utilis coupl imag centr align offset see effect imag centr locat fx oe gammaf oe x ie 28 11 result tabl present gener motion detect track algorithm 17 20 use focal length suffici perform predict imag imag vi discuss conclus appli variabl statedimens filter problem calibr singl camera mount robot head track corner featur utilis accur knowledg camera rotat approach extend sever way firstli could use imag featur instanc line segment done 3d structur motion recoveri would like explor issu robust outlier detect thoroughli thu far featur match algorithm employ restrict allow mani fals match situat model break calibr chang due instanc manual refocuss vsdf reset breakdown theoret detect test residu j use 2 test dof degre freedom mismatch given featur also test measur chang j would occur measur featur remov residu chang 2 random variabl implement test space restrict prevent us give detail believ variabl state dimens filter first algorithm possess essenti properti realtim vision recurs low comput complex repect imag data size statist rigor deriv alreadi appli structurefrommot recoveri similar problem vari state size also occur 16 error pixel xfocal length time match pixel yfocal length time match error pixel predict error time match fig 3 result five run focal length calibr algorithm differ initi valu focal length horizont axi measur cumul number match time taken run approxim 200 second error pixel xfocal length time match pixel yfocal length time match 2000 4000 6000 8000 006 002002006error xangl offset 2000 4000 6000 8000 006 002002006error time match yangl offset 2000 4000 6000 8000 error zangl offset error pixel predict error time match fig 4 result eight run full calibr algorithm includ camera align offset angl horizont axi measur cumul number match r euclidean structur uncalibr imag track data associa tion applic project geometri robot vision self calibr motion stereo vision mobil robot qualit surfac shape deform imag curv seen three dimens uncalibr stereo rig calibr problem stereo 3d posit integr imag sequenc affin structur motion techniqu calibr scale factor imag center high accuraci 3d machin vision metrolog theori selfcalibr move camera stochast model recurs affin structur motion imag sequenc drive saccad pursuit use imag motion reaction peripher imag motion use headey platform geometr model multipl stereo view activ track foveat featur cluster use affin structur use project invari constant time librari index model base vision modular headey platform realtim reactiv vision onlin calibr 4 dof stereo head estim stereo motion paramet use variat principl corner detect 3d vision use array processor tr ctr chungyi lin shengwen shih yipe hung gregori tang new approach automat reconstruct 3d world use activ stereo vision comput vision imag understand v85 n2 p117143 februari 2002 joss knight ian reid autom align robot pantilt camera unit use vision intern journal comput vision v68 n3 p219237 juli 2006