qualiti servic failur detector editor note paper unfortun contain error led paper reprint may 2002 issu pleas see ieee transact comput vol 51 5 may 2002 pp 561580 correct paper avail without subscriptionw studi qualiti servic qo failur detector qo mean specif quantifi 1 fast failur detector detect actual failur 2 well avoid fals detect first propos set qo metric specifi failur detector system probabilist behavior ie system messag delay messag loss follow probabl distribut give new failur detector algorithm analyz qo term propos metric show among larg class failur detector new algorithm optim respect qo metric given set failur detector qo requir show comput paramet algorithm satisfi requir show done even probabilist behavior system known present simul result show new failur detector algorithm provid better qo algorithm commonli use practic final suggest way make failur detector adaptiveto chang probabilist behavior network b introduct faulttoler distribut system design provid reliabl continu servic despit failur compon basic build block system failur detector failur detector use wide varieti set network commun protocol 10 comput cluster manag 23 group membership protocol 5 9 7 27 22 21 etc roughli speak failur detector provid inform process crash inform typic given form list suspect alway uptod correct research partial support nsf grant ccr9711403 olin fellowship oracl corpor one oracl drive nashua nh 03062 usa email weichenoraclecom z dix depart dinformatiqu ecol polytechniqu 91128 palaiseau cedex franc email samdixpolytechniquefr x compaq system research center 130 lytton avenu palo alto ca 943011044 usa emailaguilerapadeccom failur detector may take long time start suspect process crash may erron suspect process crash practic due messag loss delay chandra toueg 12 provid first formal specif unreli failur detector show use solv fundament problem distribut comput name consensu atom broadcast approach later use gener work eg 20 16 17 1 3 2 work failur detector specifi term eventu behavior eg process crash eventu suspect specif appropri asynchron system time assumpt whatsoev 1 mani applic howev time constraint applic failur detector eventu guarante suf ficient exampl failur detector start suspect process one hour crash use solv asynchron consensu useless applic need solv mani instanc consensu per minut applic time constraint requir failur detector provid qualiti servic qo quantit timeli guarante paper studi qo failur detector system messag delay messag loss follow probabl distribut first propos set metric use specifi qo failur detector qo metric quantifi fast detect actual failur b well avoid fals detect give new failur detector algorithm analyz qo term propos metric show among larg class failur detector new algorithm optim respect qo metric given set failur detector qo requir show comput paramet algorithm satisfi requir show done even probabilist behavior system known final give simul result show new failur detector algorithm provid better qo algorithm commonli use practic qo specif analysi failur detector algorithm base theori stochast process best knowledg work first comprehens systemat studi qo failur detector use probabl theori 11 qo specif failur detector consid messagepass distribut system process may fail crash messag may delay drop commun link 2 failur detector slow ie may take long time suspect process crash make mistak ie may erron suspect process actual mistak necessarili perman failur even though failawar failur detector 17 implement time asynchron model specif asynchron model assum process crash perman equival process recov crash assum new ident trust suspect trust suspect fd q figur 1 detect time detector may later stop suspect process use failur detector reason fast accur paper propos set metric qo specif failur detector gener qo metric abl describ failur detector speed fast detect crash accuraci well avoid mistak note speed respect process crash accuraci respect process crash failur detector speed easi measur simpli time elaps moment process p crash time failur detector start suspect p perman qo metric call detect time illustr fig 1 measur failur detector accuraci turn determin good set accuraci metric delic task illustr subtleti involv consid system two process p q connect lossi commun link suppos failur detector q monitor process p output failur detector q either suspect p crash trust p may altern two output time time purpos measur accuraci failur detector q suppos p crash consid applic queri qs failur detector random time applic natur measur accuraci probabl queri random time failur detector q indic correctli p qo metric queri accuraci probabl exampl fig 2 queri accuraci probabl fd 1 q 1212 queri accuraci probabl howev suffici fulli describ accuraci failur detector see show fig 2 two failur detector fd 1 fd 2 queri accuraci probabl b fd 2 make mistak frequent fd 1 3 applic everi mistak caus costli interrupt applic mistak rate import accuraci metric note howev mistak rate alon suffici character accuraci shown fig 3 two failur detector mistak rate differ queri accuraci probabl 3 failur detector make mistak time output chang trust suspect p actual 1 figur 2 fd 1 fd 2 queri accuraci probabl 75 mistak rate fd 2 four time fd 1 figur 3 fd 1 fd 2 mistak rate 116 queri accuraci probabl fd 1 fd 2 75 50 respect even use togeth two accuraci metric still suffici fact easi find two failur detector fd 1 fd 2 fd 1 better fd 2 measur ie higher queri accuraci probabl lower mistak rate b fd 2 better fd 1 anoth respect specif whenev fd 2 make mistak correct mistak faster fd word mistak durat fd 2 smaller fd 1 small mistak durat may import applic seen sever differ aspect accuraci may import differ applic aspect correspond accuraci metric paper identifi six accuraci metric sinc behavior failur detector probabilist metric random variabl use theori stochast process quantifi relat metric analysi allow us select two accuraci metric primari one sens redund one deriv b togeth use deriv four accuraci metric summari show qo specif failur detector given term three basic metric name detect time two primari accuraci metric identifi taken togeth metric use character compar qo failur detector 12 design analysi new failur detector algorithm paper consid simpl system two process p q connect commun link process p may fail crash link p q may delay drop messag messag delay messag loss follow probabilist distribut process q failur detector monitor p output either suspect p crash trust p suspect p trust p short respect common failur detect algorithm drawback simpl failur detect algorithm commonli use practic work follow regular time interv process p send heartbeat messag q q receiv heartbeat messag trust p start timer fix timeout valu timer expir q receiv newer heartbeat messag p q start suspect p algorithm two undesir characterist one regard accuraci detect time explain consid ith heartbeat messag intuit probabl prematur timeout depend sole particular delay simpl algorithm howev probabl prematur timeout also depend heartbeat preced fact timer start upon receipt igamma1 igamma1 fast timer start earli increas probabl prematur timeout depend past heartbeat undesir see second problem suppos p send heartbeat crash let delay last heartbeat simpl algorithm q would perman suspect p dto time unit crash thu worstcas detect time algorithm maximum messag delay plu impract mani system maximum messag delay order magnitud larger averag messag delay sourc problem even though heartbeat sent regular interv timer catch expir irregular time name receipt time heartbeat plu fix algorithm propos elimin problem result probabl prematur timeout heartbeat depend behavior heartbeat preced detect time depend maximum messag delay new algorithm qo analysi new algorithm process p send heartbeat messag period everi j time unit simpl algorithm determin whether suspect p q use sequenc call fresh point obtain shift send time heartbeat messag fix paramet ffi precis oe time sent time let 2 trust p time q receiv heartbeat higher given probabilist behavior system ie probabl messag loss distribut messag delay paramet j ffi algorithm determin qo new algorithm use theori stochast process simul result given section 7 consist qo analysi show new algorithm perform better common one contrast common algorithm new algorithm guarante upper bound detect time moreov new algorithm optim sens best possibl queri accuraci probabl respect given bound detect time precis show among failur detector send heartbeat rate use network bandwidth satisfi upper bound detect time new algorithm best queri accuraci probabl first version algorithm describ assum p q synchron clock assumpt unrealist even larg network exampl gp cesium clock becom access provid clock close synchron see eg 29 synchron clock avail propos modif algorithm perform equal well practic shown simul basic idea use past heartbeat messag obtain accur estim expect arriv time futur heartbeat use estim find fresh point explain section 6 configur algorithm meet failur detector requir applic given set failur detector qo requir provid applic show comput paramet algorithm achiev requir first assum one know probabilist behavior system ie probabl distribut messag delay messag loss drop assumpt show configur failur detector meet qo requir applic even probabilist behavior system known 13 relat work 19 gouda mcguir measur perform failur detector protocol assumpt protocol stop soon process suspect crash even suspicion mistak class failur detector less gener one studi work failur detector altern suspicion trust mani time 28 van reness et al propos scalabl gossipstyl random failur detector protocol measur accuraci protocol term probabl prematur timeout 4 probabl prematur timeout howev appropri metric specif failur detector gener implementationspecif use compar failur detector use timeout differ way point explain end section 23 24 raynal tronel present algorithm detect member failur group process detect failur group perhap fals detect process report group failur protocol termin algorithm use heartbeatstyl protocol timeout mechan simpl algorithm describ section 12 4 call probabl mistak 28 29 verssimo raynal studi qo failur detector detector indic servic meet qualityofservic requir contrast paper studi qo failur detector ie well failur detector work heartbeatstyl failur detector commonli use practic keep good detect time good accuraci mani implement reli special featur oper system commun system tri ensur heartbeat messag receiv regular interv see discuss section 129 23 easi even closelyconnect comput cluster hard widearea network probabilist network model use paper similar one use 14 6 probabilist clock synchron method estim expect arriv time heartbeat messag close method remot clock read 6 rest paper organ follow section 2 propos set metric specifi qo failur detector section 3 describ new failur detector algorithm analyz qo term metric also present optim result explain set algorithm paramet meet given qo requir first case know probabilist behavior messag section 4 case known sec tion 5 section 6 deal unsynchron clock present result simul section 7 conclud paper discuss section 8 appendix list main symbol use paper appendic b give proof main theorem detail proof found 13 2 qo specif failur detector consid system two process p q assum failur detector q monitor p q crash henceforth real time continu rang 0 1 21 failur detector model output failur detector q time either mean q suspect trust p time respect transit occur output failur detector q chang stransit occur output q chang ttransit occur output q chang assum finit number transit finit time interv sinc behavior system probabilist precis definit model qo metric use theori stochast process keep present intuit level omit technic detail relat theori found 13 consid failur detector whose behavior eventu reach steadi state explain inform failur detector start run behavior depend trust suspect suspect fd q figur 4 mistak durat good period durat g mistak recurr time mr initi condit whether initi q suspect p long run typic time pass effect initi condit gradual diminish behavior longer depend long run ie eventu failur detector behavior reach equilibrium steadi state steadi state probabl law govern behavior failur detector chang time qo metric propos refer behavior failur detector reach steadi state metric random variabl 22 primari metric propos three primari metric qo specif failur detector first one measur speed failur detector defin respect run p crash detect time inform time elaps ps crash time q start suspect p perman precis random variabl repres time elaps time p crash time final stransit failur detector q occur transit afterward fig 1 final stransit stransit occur p crash next defin metric use specifi accuraci failuredetector throughout paper accuraci metric defin respect failurefre run ie run p crash 6 two primari accuraci metric mistak recurr time mr measur time two consecut mistak precis mr random variabl repres time elaps stransit next one fig 4 mistak durat measur time take failur detector correct mistak precis random variabl repres time elaps stransit next ttransit fig 4 discuss introduct mani aspect failur detector accuraci may import applic thu addit mr propos four accuraci metric next section select mr primari metric given two one 5 omit boundari case metric sinc similarli defin 6 explain 13 metric also meaning run p crash comput four shown section 24 23 deriv metric propos four addit accuraci metric averag mistak rate measur rate failur detector make mistak ie averag number stransit per time unit metric import longliv applic failur detector mistak stransit result costli interrupt case applic group membership cluster manag queri accuraci probabl p probabl failur detector output correct random time metric import applic interact failur detector queri random time mani applic make progress good period period failur detector make mistak observ lead follow two metric good period durat g measur length good period precis g random variabl repres time elaps ttransit next stransit fig 4 shortliv applic howev close relat metric may relev suppos applic start random time good period remain part good period long enough shortliv applic abl complet task metric measur remain part good period forward good period durat fg random variabl repres time elaps random time q trust p time next stransit first sight may seem averag fg half g length good period incorrect section 24 give actual relat fg g import remark order timeoutbas failur detector probabl prematur timeout sometim use accuraci measur probabl timer set prematur timeout process actual measur howev appropri implementationspecif b use applic unless given togeth implementationspecif measur eg often timer start whether timer start regular variabl interv whether timeout period fix variabl etc mani variat exist practic 10 19 28 thu probabl prematur timeout good metric specif failur detector eg use compar qo failur detector use timeout differ way six accuraci metric identifi paper refer implementationspecif featur particular refer timeout 24 accuraci metric relat theorem 1 explain six accuraci metric relat use theorem justifi choic primari accuraci metric henceforth pra denot probabl event ex ex k vx denot expect valu mean kth moment varianc random variabl x respect part 2 3 theorem 1 assum failurefre run probabilist distribut failur detector histori ergod roughli speak mean failurefre run failur detector slowli forget past histori given time futur behavior may depend recent behavior call failur detector satisfi ergod condit ergod failur detector ergod basic concept theori stochast process 26 technic detail substanti outsid scope paper also determin relat accuraci metric case ergod hold result express complex gener version given found 13 theorem 1 ergod failur detector follow result hold 1 2 alway 0 r x particular 3c et fg fact hold immedi definit proof part 2 3 use theori stochast process part 2 intuit part 3 relat g fg complex particular part 3c counterintuit one may think et fg 3c say et fg gener larger et g 2 version wait time paradox theori stochast process 4 explain theorem 1 guid select primari accuraci metric part 2 3 show p fg deriv mr suggest primari metric select among mr g moreov sinc clear given joint distribut two one deriv remain one thu two mr g select primari metric two choos mr primari metric get follow conveni properti help compar failur detector fd 1 better fd 2 term et mr et expect valu primari metric sure fd 1 also better fd 2 term et g expect valu metric would get use properti g select one primari metric 7 7 exampl fd 1 may better fd 2 term et g et wors fd 2 term et mr 3 design qo analysi new failur detector algorith 31 probabilist network model assum process p q connect link creat duplic messag 8 may delay drop messag note link repres endtoend connect necessarili correspond physic link assum messag loss messag delay behavior messag sent link probabilist character follow two paramet messag loss probabl probabl messag drop link b messag delay random variabl rang 0 1 repres delay time messag sent time receiv condit messag drop link assum expect valu ed varianc vd finit note model assum messag delay time follow particular distribut thu applic mani practic system access local clock simplic assum clock drift ie local clock run speed real time result easili gener case local clock bound drift section 3 4 5 assum clock synchron explain remov assumpt section 6 simplic assum probabilist behavior network chang time section 8 explain modifi algorithm dynam adapt chang probabilist behavior system assum crash predict ie state system given time inform whatsoev occurr futur crash exclud system programcontrol crash 11 moreov delay loss behavior messag process send independ whether process crash 32 algorithm new algorithm work follow monitor process p period send heartbeat messag q everi j time unit j paramet algorithm everi heartbeat messag tag sequenc number henceforth oe denot send time messag monitor process q shift oe forward ffi paramet algorithm obtain sequenc time use time receiv heartbeat messag determin whether trust suspect p follow consid 8 messag duplic easili taken care whenev refer messag receiv chang first copi messag receiv modif definit analys paper go particular result remain correct without chang c b fd q suspect trust trust suspect figur 5 three scenario failur detector output one interv process p 1 1 time oe process q 3 1 time 4 receiv j j output fsuspect p fresh messag receivedg 5 upon receiv messag j time 2 ftrust p fresh messag receivedg figur failur detector algorithm nfd paramet j ffi clock synchron time period check whether receiv messag j j trust p entir period start suspect p time i1 q receiv messag j j q start trust p time i1 fig 5 b time i1 q receiv messag j j q suspect p entir period procedur repeat everi time period detail algorithm paramet j ffi denot nfd given fig 6 9 note time i1 messag j j affect output failur detector reason call fresh point time i1 still fresh use algorithm q trust p time q receiv messag still fresh time 9 version algorithm conveni illustr main idea perform analysi omit obviou optim 33 qo analysi algorithm give qo algorithm analysi given appendix b assum link p q satisfi follow messag independ properti behavior two heartbeat messag sent p independ 10 henceforth let 0 line 3 algorithm first formal intuit behind fresh point fresh messag lemma 2 trust p time q receiv messag follow definit run p crash 1 1 let k smallest integ sent time 2 1 let p j x probabl q receiv messag ij time everi j 0 everi x 0 let 3 2 let q 0 probabl q receiv messag 4 1 let ux probabl q suspect p time 5 2 let p probabl stransit occur time definit given term posit integ proposit 3 howev show actual independ proposit 3 1 dffije 2 definit probabl q receiv time 1 thu similarli easi see degener case interest henceforth assum follow theorem summar qo analysi new failur detector algorithm practic hold consecut heartbeat sent delta time unit apart delta depend system assum behavior heartbeat independ equival assum j delta theorem 4 consid system synchron clock probabl messag loss distribut messag delay p x failur detector nfd fig 6 paramet j ffi follow properti 1 detect time bound 2 averag mistak recurr time et mr 3 averag mistak durat et mr et given theorem easili deriv accuraci measur use theorem 1 exampl get queri accuraci probabl p theorem 4 1 show import properti algorithm detect time bound bound depend behavior messag delay loss section 4 5 6 show use theorem 4 comput failur detector paramet failur detector satisfi qo requir given applic 34 optim result among failur detector send heartbeat rate satisfi upper bound detect time new algorithm provid best queri accuraci probabl precis let c class failur detector algorithm everi run process p send heartbeat q everi j time unit satisfi u constant u let instanc new failur detector algorithm nfd paramet j j part 1 theorem 4 know 2 c show theorem 5 2 c let p queri accuraci probabl let p queri accuraci probabl p theorem consequ follow import properti algorithm consid algorithm 2 c let r failurefre run r 0 failurefre run heartbeat delay loss exactli r show q suspect p time r q also suspect p time r 0 properti easi see probabl q trust p random time must least high probabl q trust p random time 2 c detail proof given appendix c failur detector configur qo requir u mr u pr x probabilist behavior heartbeat figur 7 meet qo requir nfd probabilist behavior heartbeat given clock synchron 4 configur failur detector satisfi qo requir suppos given set failur detector qo requir qo requir could given applic use failur detector show comput paramet j ffi failur detector algorithm requir satisfi assum local clock process synchron b one know probabilist behavior messag ie messag loss probabl p l distribut messag delay prd x section 5 6 consid case assumpt hold assum qo requir express use primari metric precis set qo requir tupl u mr posit number u upper bound detect time l mr lower bound averag mistak recurr time u upper bound averag mistak durat word requir 11 mr goal illustr fig 7 find configur procedur take input qo quirement name u mr b probabilist behavior heartbeat messag name p l prd x output failur detector paramet j ffi failur detector satisfi qo requir 44 furthermor minim network bandwidth taken failur detector want configur procedur find largest intersend interv j satisfi qo requir use theorem 4 goal state mathemat program problem 11 note bound primari metric et mr et also impos bound deriv metric accord theorem 1 precis 1t l mr mr mr mr et fg mr 2 subject mr valu ux p given proposit 3 solv problem hard instead show find j ffi satisfi 4547 j find may largest possibl replac 47 simpler stronger constraint comput optim solut modifi problem see appendix obtain follow procedur find j ffi j qo achiev stop els continu ffl step 2 let find largest j j max mr j alway exist find j use simpl numer method binari search work j decreas increas exponenti fast ffl step 3 set theorem 6 consid system clock synchron probabilist behavior messag known suppos given set qo requir 44 procedur two possibl outcom 1 output j ffi case paramet j ffi failur detector nfd fig 6 satisfi given qo requir 2 output qo achiev case failur detector achiev given qo requir exampl configur procedur failur detector suppos follow qo requir crash failur detect within b averag failur detector make one mistak per month ie l c averag failur detector correct mistak within one minut ie u assum messag loss probabl p 001 distribut messag delay exponenti averag messag delay ed 002 input number configur procedur get paramet failur detector satisfi given qo requir failur detector configur estim probabilist behavior heartbeat ed qo requir u mr u figur 8 meet qo requir nfd probabilist behavior heartbeat known clock synchron 5 deal unknown messag behavior section 4 procedur comput paramet j ffi nfd meet qo requir assum one know probabl p l messag loss distribut prd x messag delay assumpt unrealist system probabilist behavior messag may known case still possibl comput j ffi explain proceed two step 1 first show comput j ffi use p l ed vd recal ed v expect valu varianc messag delay respect 2 show estim p l ed vd section still assum local clock synchron drop assumpt next section see fig 8 comput failur detector paramet j ffi use p l ed vd ed vd bound prd use follow onesid inequ probabl theori eg see 4 p79 random variabl finit expect valu finit varianc deriv follow bound qo metric algorithm nfd theorem 7 consid system synchron clock assum ffi ed algorithm nfd et mr note theorem 7 assum ffi ed ffi paramet nfd assumpt reason ffi ed nfd would gener fals suspicion everi time heartbeat messag delay averag messag delay nfd would make mani mistak use failur detector theorem 7 use comput paramet j ffi failur detector nfd satisfi qo requir given 44 recal qo requir given tupl mr upper bound worstcas detect time l mr lower bound averag mistak recurr time u upper bound averag mistak durat configur procedur given procedur assum u ed ie requir detect time greater averag messag delay reason assumpt achiev stop els continu ffl step 2 let find largest j j max mr j alway exist ffl step 3 set notic procedur use distribut prd x messag delay use p l ed vd theorem 8 consid system clock synchron probabilist behavior messag known suppos given set qo requir 44 suppos ed procedur two possibl outcom 1 output j ffi case paramet j ffi failur detector nfd fig 6 satisfi given qo requir 2 output qo achiev case failur detector achiev given qo requir configur procedur work distribut messag delay known ed v known illustr procedur take exampl section 4 except assum distribut exponenti specif suppos failur detector qo requir crash failur detect within ond ie u b averag failur detector make one mistak per month ie l mr c averag failur detector correct mistak within one minut ie u assum messag loss probabl p 001 averag messag delay ed 002 varianc v also 002 input number configur procedur get paramet failur detector nfd satisfi given qo requir note go case distribut known exampl section 4 case known j decreas 997 971 correspond slight increas heartbeat send rate order achiev given qo estim p l ed vd easi estim p l ed vd use heartbeat messag exampl estim p l one use sequenc number heartbeat messag count number miss heartbeat divid count highest sequenc number receiv far estim ed vd use synchron clock follow p send heartbeat send time q receiv q record receipt time way gamma delay comput averag varianc gamma multipl past heartbeat messag thu obtain accur estim ed vd 6 deal unknown messag behavior unsynchron clock far assum clock p q synchron precis algorithm nfd fig 6 q set fresh point shift send time heartbeat constant clock synchron local send time heartbeat p use q set thu q need differ way basic idea q set shift expect arriv time heartbeat q estim expect arriv time accur comput estim q need synchron clock 61 nfdu algorithm use expect arriv time present nfdu new failur detector algorithm system unsynchron clock new algorithm similar nfd differ q set shift expect arriv time heartbeat rather send time heartbeat assum local clock drift respect real time ie accur measur time interv algorithm result easili gener case local clock small bound drift respect real time let oe denot send time respect qs local clock expect arriv time q ea ed expect messag delay assum q know ea soon show q accur estim set shift ea forward ff time unit ie ff new failur detector paramet replac ffi intuit ea time expect receiv ff slack ad ea accommod possibl extra delay loss figur 9 show whole algorithm denot nfdu restructur algorithm littl process p fuse ps local clockg 1 1 time delta j send heartbeat q process q fuse qs local clockg keep largest sequenc number messag q receiv farg current time fif current time reach 1 none messag receiv still freshg 6 output fsuspect p sinc messag receiv still fresh timeg 7 upon receiv messag j time freceiv messag higher sequenc numberg fset next fresh point 1 use expect arriv time 1 g ftrust p sinc still fresh time tg figur 9 failur detector algorithm nfdu paramet j ff clock synchron ea known show explicitli q use ea variabl keep largest heartbeat sequenc number receiv far 1 refer next fresh point note q updat also chang 1 local clock q ever reach time 1 event might never happen time none heartbeat receiv still fresh q start suspect p line 56 q receiv j check whether new heartbeat j case 1 q updat 2 q set next fresh point 1 ea 1 ff 3 q trust p current time less 1 line 911 note algorithm ident nfd except way q set particular time let 2 trust p time q receiv heartbeat higher 62 analysi configur nfdu nfdu nfd differ way set nfd nfdu last equal hold ea ed thu qo analysi nfdu obtain simpli replac ffi ed ff proposit 3 theorem 4 theorem 7 configur paramet j ff nfdu meet qo requir use method similar one section 5 proceed two step 1 first show comput j ff use p l vd note ed use 2 show estim p l vd fig 10 comput failur detector paramet j ff use p l vd replac ffi ed ff theorem 7 obtain follow bound accuraci metric nfdu failur detector nfdu known configur estim probabilist behavior heartbeat h qo requir mr u figur 10 meet qo requir nfdu probabilist behavior heartbeat known clock synchron driftfre theorem 9 consid system driftfre clock assum ff 0 algorithm nfdu et mr note bound given theorem 9 use p l vd hand ed use theorem 9 use comput paramet j ff failur detector nfdu satisfi qo requir assum qo requir given tupl u mr posit number requir mr note upper bound detect time u plu unknown averag messag delay ed actual upper bound u detect time u ed word qo requir detect time absolut 44 rel ed justifi follow note local clock synchron oneway messag use absolut bound u detect time enforc nontrivi failur detector moreov reason specifi upper bound requir rel averag delay ed heartbeat fact failur detector guarante detect crash faster ed make mani mistak use follow configur procedur algorithm nfdu modifi one section 5 achiev stop els continu ffl step 2 let dt u find largest j j max mr j alway exist ffl step 3 set theorem 10 consid system unsynchron driftfre clock probabilist behavior messag known suppos given set qo requir 611 procedur two possibl outcom 1 output j ff case paramet j ff failur detector nfdu fig 9 satisfi given qo requir 2 output qo achiev case failur detector achiev given qo requir estim p l vd local clock synchron estim p l vd use procedur section 5 estim p l procedur use clock work vd procedur use clock work even though clock synchron see recal procedur estim vd comput varianc multipl heartbeat messag time respect qs local clock time q receiv messag time respect ps local clock time p send clock synchron gamma actual delay rather delay plu constant name skew clock p q thu varianc gamma varianc vd messag delay 63 nfde algorithm use estim expect arriv time failur detector nfdu fig assum q know exact valu ea expect arriv time messag practic q may know valu need estim everi time q execut line 10 algorithm nfdu fig 9 q consid n recent heartbeat messag n denot 0 sequenc number messag 0 n receipt time accord qs local clock ea 1 estim intuit formula first normal 0 shift backward time js comput averag normal 0 final shift forward comput averag 1j easi see good estim ea 1 denot nfde algorithm obtain fig 9 replac ea 1 estim simul show nfde nfdu practic indistinguish valu n low 30 thu larg valu n configur procedur nfdu also use configur nfde see fig 11 failur detector configur estim probabilist behavior heartbeat h qo requir mr u figur meet qo requir nfde nfdu except expect arriv time ea heartbeat estim 7 simul result simul new failur detector algorithm develop simpl algorithm commonli use practic describ section 12 particular simul algorithm nfd one synchron clock show simul result valid qo analysi nfd section 33 b simul algorithm nfde one without synchron clock estim expect arriv time show provid essenti qo nfd c simul simpl algorithm compar new algorithm nfd nfde show new algorithm provid much better accuraci simpl algorithm set simul follow purpos comparison normal intersend time j heartbeat messag new algorithm simpl algorithm 1 messag loss probabl p l set 001 messag delay follow exponenti distribut ie prd choos exponenti distribut follow two reason first characterist larg portion messag fairli short delay small portion messag larg delay also characterist messag delay mani practic system 14 second simpl analyt represent allow us compar simul result analyt result given theorem 4 averag messag delay ed set 002 small valu compar intersend time j correspond system messag delay order ten millisecond typic messag transmit internet heartbeat messag sent everi second note sinc follow exponenti distribut standard deviat varianc compar accuraci differ algorithm first set paramet send messag rate recal satisfi bound u detect 25 3 35 requir bound u worstcas detect time averag mistak recurr time obtain simul analyt figur 12 averag mistak recurr time obtain simul new algorithm nfd nfde shown theta b simul simpl algorithm shown ffi pi c plot analyt formula et mr new algorithm nfd shown time simul run valu u rang 1 35 valu u measur accuraci failur detector term averag mistak recurr time et mr averag mistak durat et valu u plot et mr consid run 500 mistak recurr interv comput averag length interv show plot et et algorithm similar bound approxim 71 simul result nfd nfde ensur nfd meet given upper bound u detect time set ffi u prescrib theorem 4 1 algorithm nfde choos estim expect arriv time use recent messag ensur nfde meet given upper bound u set fig 12 show simul result algorithm nfd nfde togeth analyt formula et mr deriv section 33 result show accuraci algorithm nfd nfde similar b simul result algorithm match analyt formula et mr 72 simul result simpl algorithm simpl algorithm upper bound detect time howev upper bound guarante simpl modif gener idea discard heartbeat larg delay precis modifi algorithm anoth paramet cutoff time c heartbeat delay c time unit call slow heartbeat discard 12 modif detect time c given bound u detect time tradeoff set cutoff time c timeout larger cutoff time c smaller number slow heartbeat discard shorter timeout valu vice versa simul choos two cutoff time time averag messag delay respect timeout set u c algorithm c 016 denot sfdl one sfd simul result averag mistak recurr time sfdl sfd fig 12 show accuraci new algorithm without synchron clock better sometim order magnitud accuraci simpl algorithm intuit use cutoff time bound detect time simpl algorithm detriment accuraci simpl algorithm use larg cutoff time must use small timeout valu decreas accuraci failur detector use small cutoff time discard heartbeat equival increas messag loss probabl turn also decreas accuraci failur detector detail explan simul result found 13 conclud remark adapt failur detector paper assum probabilist behavior heartbeat messag chang network may case instanc corpor network may one behavior work hour messag traffic high complet differ behavior lunch time night system mostli idl peak hour heartbeat messag may higher loss rate higher expect delay higher varianc delay offpeak hour network requir failur detector adapt chang condit ie dynam reconfigur meet given qo requir turn failur detector made adapt explain case clock synchron make nfd adapt period reexecut configur outlin fig 8 basic idea period run estim use n recent heartbeat estim current valu p l ed v estim fed configur recomput new failur detector paramet j ffi assum algorithm detect slow messag easi local clock synchron failawar datagram servic 18 may use similarli clock synchron make nfde adapt period reexecut configur outlin fig 11 differ estim also output ea estim arriv time next heartbeat input failur detector nfde adapt algorithm form core failur detect servic current implement evalu 15 servic intend share among mani differ concurr applic differ set qo requir failur detector architectur dynam adapt chang network condit also chang current set qo demand new applic start old one termin acknowledg would like thank carol delportegallet hugu fauconni anonym refere confer version paper use comment help us improv paper r use heartbeat failur detector quiescent reliabl commun consensu partition network failur detect consensu crashrecoveri model quiescent reliabl commun transi commun subsystem high avail probabilist clock synchron distribut system relac commun infrastructur construct reliabl applic largescal distribut system probabl measur reness editor reliabl distribut comput isi toolkit requir internet hostscommun layer imposs group membership unreli failur detector reliabl distribut system qualiti servic failur detector probabilist clock synchron failur detector servic depend comput fast abstract failur detector omiss failur environ ment acceler heartbeat protocol non block atom commit unreli failur detector ensembl system faulttoler multicast group commun system search cluster group membership failur detect simpl protocol probabilist analysi stochast process tr probabl statist queue theori comput scienc applic unreli failur detector reliabl distribut system totem horu imposs group membership search cluster 2nd ed use heartbeat failur detector quiescent reliabl commun consensu partition network quiescent reliabl commun reliabl distribut comput isi toolkit probabilist clock synchron distribut system time distribut system model algorithm non block atom commit unreli failur detector failawar failur detector failawar membership servic acceler heartbeat protocol failur detector omiss failur environ ensembl system qualiti servic failur detector ctr xuanhua shi hai jin weizhong qiang alter first step toward depend grid proceed 2006 acm symposium appli comput april 2327 2006 dijon franc tiejun jane hillston stuart anderson evalu qo crashrecoveri failur detect proceed 2007 acm symposium appli comput march 1115 2007 seoul korea marco k aguilera carol delportegallet hugu fauconni sam toueg implement omega weak reliabl synchroni assumpt proceed twentysecond annual symposium principl distribut comput p306314 juli 1316 2003 boston massachusett horita k taura chikayama scalabl effici selforgan failur detector grid applic proceed 6th ieeeacm intern workshop grid comput p202210 novemb 1314 2005