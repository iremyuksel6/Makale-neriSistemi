size router buffer internet router contain buffer hold packet time congest today size buffer determin dynam tcp congest control algorithm particular goal make sure link congest busi 100 time equival make sure buffer never goe empti wide use ruleofthumb state link need buffer size averag roundtrip time flow pass across link c data rate link exampl 10gb router linecard need approxim 250m x 25gbit buffer amount buffer grow linearli liner larg buffer challeng router manufactur must use larg slow offchip dram queue delay long high varianc may destabil congest control algorithm paper argu ruleofthumb outdat incorrect backbon router larg number flow tcp connect multiplex togeth singl backbon link use theori simul experi network real router show link n flow requir longliv shortliv tcp flow consequ router design enorm 25gb link carri 10000 flow could reduc buffer 99 neglig differ throughput 10gb link carri 50000 flow requir 10mbit buffer easili implement use fast onchip sram b introduct motiv 11 background internet router packet switch therefor buer packet time congest arguabl router buer singl biggest contributor uncertainti inter net buer caus queue delay delayvari overflow caus packet loss underflow degrad throughput given signific role might reason expect dynam size router buer well understood base wellground theori support extens simul experiment router buer size today base ruleofthumb commonli attribut 1994 paper villamizar song 1use experiment measur eight tcp flow 40 mb link conclud dynam tcp congest control algorithm router need amount buer equal averag roundtrip time flow pass router multipli capac router network interfac wellknown show later ruleofthumb inde make sens one small number longliv tcp flow network oper follow ruleofthumb requir router manufactur provid 250m buer ing 2 rule found architectur guidelin 3 requir larg buer complic router design impedi build router larger capac exampl 10gb router linecard need approxim 250m 10gb 25gbit buer amount buer grow linearli liner goal work find ruleofthumb still hold still true trac use tcp number flow increas significantli today backbon link commonli oper 25gb 10gb carri 10000 flow 4 one thing sure well understood much buer actual need buer size aect network perform 5 paper argu rule ofthumb outdat incorrect believ sig 25 3 35 4 45 window pkt figur 1 window top router queue bottom tcp flow bottleneck link figur 2 singl flow topolog consist access link latenc l acc link capac cacc bottleneck link capac c latenc l nificantli smaller buer could use backbon router eg remov 99 buer without loss network util show theori simul experi support argument least believ possibl use much smaller buer warrant explor studi comprehens experi need real backbon network paper isnt last word goal persuad one network oper tri reduc router buer backbon network worth ask care accur size router buer declin memori price buer router believ overbu bad idea two reason first complic design highspe router lead higher power consumpt board space lower densiti second overbu increas endtoend delay presenc congest larg buer conflict lowlat need real time applic eg video game devic control case larg delay make congest control algorithm unstabl 6 applic unus 12 ruleofthumb come ruleofthumb come desir keep congest link busi possibl maxim throughput network use think size queue prevent overflow lose packet tcp sawtooth congest control algorithm design fill buer deliber caus occasion loss provid feedback sender matter big make buer bottleneck link tcp caus buer overflow router buer size tcp flow pass dont underflow lose throughput ruleofthumb come metric use throughput goal determin size buer maxim throughput bottleneck link basic idea router packet buer outgo link alway busi outgo link bottleneck want keep busi much time possibl need make sure buer never underflow goe empti fact ruleofthumb amount buer need singl tcp flow buer bottleneck link never underflow router doesnt lose throughput ruleofthumb come dynam tcp congest control algorithm particular singl tcp flow pass bottleneck link requir buer size equal bandwidthdelay product order prevent link go idl therebi lose throughput give quick intuit explan rule ofthumb come particular right amount buer router carri one longliv tcp flow section 2 give precis explana tion set stage theori buer size one flow multipl long shortliv flow later confirm theori true use simul experi section 51 52 respect consid simpl topolog figur 2 singl sourc send infinit amount data packet constant size flow pass singl router sender access link much faster ceiver bottleneck link capac c caus packet queu router propag time sender receiv vice versa denot tp assum tcp flow settl additiveincreas multiplicativedecreas aimd congest avoid mode sender transmit packet time receiv ack gradual increas number outstand packet window size caus buer gradual fill eventu packet drop sender doesnt receiv ack halv window size paus 1 sender mani packet outstand network sent amount equal old win dow window size halv must therefor paus wait ack arriv resum transmit key size buer make sure sender paus router buer doesnt go empti forc bottleneck link go idl determin rate buer drain determin size reservoir need prevent go empti turn equal distanc byte peak trough sawtooth repres tcp assum reader familiar dynam tcp brief remind salient featur found appendix window size show later correspond worth ask tcp sawtooth factor determin buer size exampl doesnt statist multiplex sudden arriv short burst eect particular might expect bursti tcp slowstart phase increas queue occup frequent fill buer figur 1 illustr effect burst queue size typic singl tcp flow clearli queue absorb short term burst slowstart phase accommod slowli chang window size congest avoid phase examin eect bursti caus shortflow section 4 well find shortflow play small eect buer size fact dictat number long flow 13 buffer size influenc router design seen ruleofthumb come let see matter particular complic design router time write state art router linecard run aggreg rate 40gb one physic interfac 250m buer 10gbit 125gbyte buer memori buer backbon router built commerci memori devic dynam ram dram static ram sram 2 largest commerci sram chip today 36mbit mean 40gb linecard would requir 300 chip make board larg expens hot instead tri build linecard use dram would need 10 devic dram devic avail 1gbit problem dram random access time 50n hard use minimum length 40byte packet arriv depart everi 8n wors still dram access time fall 7 per year problem go get wors liner increas futur practic router linecard use multipl dram chip parallel obtain aggreg datar memori need packet either scatter across memori adhoc statist manner use sram cach refresh algorithm 7 either way larg packet buer number disadvantag use wide dram bu hundr thousand signal huge number fast data pin network processor packet processor asic frequent 2000 pin make chip larg expens wide buse consum larg amount board space fast data pin modern dram consum lot power summari extrem dicult build packet buer 40gb beyond given slowli memori speed improv problem go get wors time substanti benefit could gain place buer memori directli chip process packet network processor asic case wide fast access singl memori possibl commerci packet processor asic built 256mbit embeddeddram memori 2 delaybandwidth product accept ie 98 smaller day singlechip packet processor would need extern memori present evid later buer includ devic special io ddr sdram rdram rldram fcram figur 3 schemat evolut router buer singl tcp flow50150250 queue pkt figur 4 tcp flow singl router buer equal delaybandwidth product upper graph show time evolut congest window w lower graph show time evolut queue length qt small might make littl dierenc util backbon link 2 buffer size singl longliv next two section determin larg router buer need tcp flow longliv start examin singl longliv flow consid happen mani flow multiplex togeth start singl flow consid topolog figur 2 singl sender one bottleneck link schemat evolut router queue sourc congest avoid shown figur 3 time t0 sender steadili increas windows fill buer buer drop first packet one roundtrip time later sender timesout wait ack drop packet immedi halv window size wmax wmax2 packet 3 window size limit number unacknowledg ie outstand packet net work loss sender allow wmax outstand packet timeout allow wmax2 outstand packet thu sender mani outstand packet must paus wait ack wmax2 packet goal make sure router buer never goe empti order keep router fulli util therefor buer must go empti sender paus buer never goe empti router must send packet onto bottleneck link constant rate c 3 tcp measur window size byte count window size packet simplic present queue pkt figur 5 tcp flow underbu router50150250350 window pkts50150 queue pkt figur flow overbu router turn mean ack arriv sender rate c sender therefor paus exactli wmax2c second wmax2 packet acknowledg resum send start increas window size key size buer make sure buer larg enough sender paus buer doesnt go empti sender first paus 1 buer full drain period bc 2 shown figur 3 buer avoid go empti first packet sender show buer hit empti ie wmax2c bc determin wmax consid situat sender resum transmiss window size wmax2 buer empti sender send packet rate c link underutil well known send rate tcp equat 7 appendixa sinc buer empti queue delay therefor send rate c requir rtt buer lead wellknown ruleofthumb wide known similar argument made previous 8 9 result easili verifi use ns2 10 simul closedform analyt model ap pendix b figur 4 illustr evolut singl tcp reno flow use topolog shown figur 2 buer size exactli equal ruleofthumb window size follow familiar sawtooth pattern increas steadili loss occur halv window size start increas steadili notic buer occup almost hit zero per packet loss never stay empti behavior want bottleneck link stay busi appendix present analyt fluid model provid closedform equat sawtooth close match ns2 simul figur 5 6 show happen link buer overbu figur 5 router buer buer size less rtt c congest window follow sawtooth pattern sucient buer case howev window halv sender paus wait ack insuci reserv buer keep bottleneck link busi buer goe empti bottleneck link goe idl lose throughput hand figur 6 show flow buer behav like correctli buer flow fulli util link howev window halv buer complet empti queue delay flow increas constant buer alway packet queu summari b 2tp router buer never goe empti bottleneck link never go idl 3 mani long tcp flow share link backbon router mani flow share bottleneck link simultan singl longliv flow realist model exampl 25gb oc48c link typic carri 10000 flow time 4 4 chang model reflect buer requir bottleneck link mani flow consid two situa tion first consid case flow synchron sawtooth march lockstep perfectli inphas consid flow synchron least synchron march lockstep sucient desynchron argu case practic amount buer drop sharpli 31 synchron long flow consid evolut two tcp reno flow bottleneck router evolut window size send rate queue length shown figur 7 although two flow start dierent time quickli synchron perfectli phase welldocu studi tendenc flow share bottleneck becom synchron time 9 11 12 13 set precis synchron flow buer requir singl flow aggreg behavior still sawtooth height sawtooth 4 shouldnt surpris typic user today connect via 56kb modem fulli util 25gb simultan carri 40000 flow fulli util buer bare use link isnt bottleneck size buer larg number flow util pktss rate pktss500150025003500 util pktss queue pkt figur 7 two tcp flow share bottleneck link upper two graph show time evolut rtt flow congest window sender link util send rate tcp sender bottom graph show queue length router buer dictat maximum window size need fill roundtrip path independ number flow specif assum n flow congest window w time endtoend propag delay n window size maximum allow number outstand byte qt buer occup time p averag propag delay solv buer size consid two case packet drop first move lock step flow largest window size wmax time buer full similarli window size smallest drop simultan 9 buer size goe empti sender start transmit paus 9500 10000 10500 11000 11500 12000 12500 probabl packet link underutil packet drop pdf aggreg window normal distribut n11000400 figur 8 probabl distribut sum congest window flow pass router approxim normal distri bution two vertic mark mark boundari number outstand packet fit buer sum congest window lower less packet outstand link underutil higher buer overflow packet drop solv b find result hold number synchron inphas flow 32 desynchron long flow flow synchron backbon router carri thousand flow vari rtt small variat rtt process time sucient prevent synchron 14 absenc synchron demonstr real network 4 15 likewis found simul experi inphas synchron common 100 concurr flow rare 500 concurr flow 5 although dont precis understand synchron tcp flow take place observ aggreg 500 flow amount inphas synchron de creas circumst treat flow synchron understand dierenc ad synchron desynchron window size process recal add togeth mani synchron sawtooth get singl larg sawtooth buer size requir doesnt chang hand sawtooth syn chroniz flow add less sum look like sawtooth smooth distanc peak trough aggreg window size get smaller henc given need much buer distanc peak trough aggreg window size expect buer size 5 outofphas synchron flow synchron scale window dierent time cycl visibl ns2 simul 1000 flow howev buer requir similar outofphas synchron synchron time second buffer sum tcp window pkt router queue pkt figur 9 plot p w tcp flow queue q oset 10500 packet requir get smaller increas number flow inde case explain demonstr via simul consid set tcp flow random indepen start time propag delay well assum desynchron enough window size process independ model total window size bound random process made sum independ sawtooth know central limit theorem aggreg window size process converg gaussian process figur 8 show inde aggreg window size converg gaussian process graph show probabl distribut sum congest window flow dierent propag time start time explain section 51 window size process know queue occup time word outstand byte queue qt link 2tp c drop repres number drop packet buer larg enough tcp oper correctli neglig compar 2tp c therefor distribut qt shown figur 9 given w normal distribut q distribut normal shift constant cours normal distribut restrict allow rang q use pick buer size know immedi probabl buer underflow lose throughput gaussian determin queue occup process know mean varianc mean simpli sum mean constitu find varianc well assum conveni sawtooth averag valu dierent valu would still yield result tcp sawtooth model oscil uniform distribut around averag congest window size w minimum 2 maximum 4 sinc standard deviat uniform distribut 1 th length standard deviat singl window size w thu equat 5 larg number flow standard deviat sum window w given equat 5 standard deviat qt know distribut queue occu panci approxim link util given buer size whenev queue size threshold b risk guarante queue go empti lose link util know probabl q b upper bound lost util q normal distribut use errorfunct 6 evalu probabl therefor get follow lower bound util 1 6 numer exampl util use 10000 router buer size util util 9999988 mean achiev full util buer delaybandwidth product divid squareroot number flow small multipl thereof number flow router increas amount requir buer decreas result practic implic build router core router current 10000 100000 flow pass given time vast major flow short eg flow fewer 100 packet flow length distribut heavi tail major packet given time belong long flow result router would achiev close full util buer size 1 1 delaybandwidth product verifi result experiment section 52 6 precis result could obtain use cherno bound instead present guassian approxim clariti present 4 size router buffer tcp flow longliv fact mani flow last packet never leav slowstart never reach equilibrium send rate 4 weve consid longliv tcp flow well consid short tcp flow aect size router buer go find short flow tcp nontcp much smaller eect longliv tcp flow particularli backbon router larg number flow defin shortliv flow tcp flow never leav slowstart eg flow fewer 90 packet assum typic maximum window size 65kb section 53 see result hold short nontcp flow eg dn queri icmp etc consid topolog figur 2 multipl sender separ access link wide report measur assum new short flow arriv accord poisson process 16 17 slowstart flow first send two packet four eight six teen etc slowstart algorithm sender increas windows one packet receiv ack access link lower bandwidth bottleneck link burst spread singl burst caus queue assum worst case access link infinit speed burst arriv intact bottleneck router model burst arriv mani dierent short flow bottleneck router flow send burst two packet other might send burst four eight sixteen packet distribut burstsiz larg number flow consid burst independ burst even burst flow simplifi model arriv process burst oppos arriv flow assum poisson one might argu arriv poisson burst follow anoth burst one rtt later howev low load mani flow buer usual empti sever time one rtt eectiv memoryless time scale instanc let assum arriv flow fix length l doubl burst length iter slowstart flow arriv n burst size r remaind 1 therefor burst arriv poisson process length iid random variabl equal distribut among 2 4 2 n1 r router buer model simpl mg1 queue fifo servic disciplin case job burst packet job size number packet burst averag number job mg1 queue known eg 18 load link ratio amount incom trac link capac c ex ex 2 first two moment burst size model overestim queue length burst processed5152535450 averag queue length length tcp flow pkt 200 mbit link model figur 10 averag queue length function flow length 08 bandwidth impact buer requir upper bound given mg1 model infinit access link speed match simul data close packetbypacket mg1 queue job dequeu whole job process queue busi overestim queue length half averag job size exit interest note averag queue length independ number flow bandwidth link depend load link length flow valid model compar simul figur show plot averag queue length fix load vari flow length gener use ns2 graph three dierent bottleneck link bandwidth 40 80 200 mb shown model predict relationship close perhap surprisingli averag queue length peak probabl larg burst highest necessarili averag burst size highest instanc flow size 14 gener larger queue length flow size 16 flow 14 packet gener burst x largest burst size 8 probabl 1 3 flow 16 packet gener burst size maximum burst length 8 probabl 1 4 model predict bandwidth eect queue length measur 40 80 200 mb almost ident gap model simul due fact access link bottleneck link space packet burst slower access link would produc even smaller averag queue length determin buer size need probabl distribut queue length averag dicult close form result exist gener mg1 queue length distribut instead approxim tail use eectiv bandwidth model 19 tell us queue length distribut ex equat deriv appendix c goal drop packet short flow drop packet retransmiss significantli increas flow durat word want choos buer size b p q b small key observ short flow size buer depend liner propag delay flow number flow depend load link length flow therefor backbon router serv highli aggreg trac need amount buer absorb shortliv flow router serv client furthermor analysi doesnt depend dynam slowstart burstsiz distribut easili extend short unrespons udp flow practic buer made even slower model simul assum access link faster bottleneck link evid 4 20 highli aggreg trac slow access link case lead burst smooth complet case individu packet arriv close poisson result even smaller buer buer size easili comput md1 model set summari shortliv flow requir small buer mix short longliv flow see simul experi next section shortliv flow contribut littl buer requir buer size usual determin number longliv flow 7 5 simul experiment weve describ theoret model long shortliv flow present result valid model use two valid method simul use ns2 network real internet router simul give us flexibl allow us explor rang topolog link speed number flow trac mix hand experiment network allow us compar result network real internet router tcp sourc rather ideal one ns2 less flexibl limit number router topolog result limit finit number dierent simul experi run cant prove result extend router internet 21 section 53 examin scope limit result valid step need goal persuad network oper test result reduc size router buer approxim 99 check util drop rate dont chang notic time reli limit set experi 51 ns2 simul ran 15000 ns2 simul one simul sever minut network trac router verifi model rang possibl set limit 7 distribut flow defin short flow long flow flow slowstart congest avoid mode respect mean flow may transit short long existence5015025035050 100 150 200 250 300 350 400 450 500 minimum requir buffer number longliv flow 980 util 995 util 999 util figur 11 minimum requir buer achiev 98 995 999 percent util oc3 155 mb line 80m averag rtt measur ns2 longliv tcp flow simul case flow experi one congest link network oper usual run backbon link load 1030 result packet drop rare internet backbon singl point congest rare unlik flow encount two congest point assum router maintain singl fifo queue drop packet tail queue full ie router use red droptail wide deploy scheme today expect result extend red result reli desynchron tcp flow someth like red droptail use tcp reno maximum advertis window size least 10000 byte 1500 1000 byte mtu averag propag delay tcp flow vari 25m 300m 511 simul result longliv tcp flow figur 11 simul oc3 155mb line carri longliv flow graph show minimum requir buer given util line compar buer size predict model exampl model predict 98 util buer rttc sucient number longliv flow small flow partial synchron result doesnt hold howev seen graph number flow exce 250 model hold well found order attain 999 util need buer twice big model predict found similar result hold wide rang set whenev larg number flow littl synchron averag congest window two averag congest window smaller two flow encount frequent timeout buer requir 22 simul experi look three commonli use perform metric see eect buer size minimum requir buffer length tcp flow pkt 200 mbit link mg1 model p001 figur 12 minimum requir buer increas averag flow complet time afct 125 vs infinit buer short flow trac packet loss reduc buer size expect packet loss increas loss rate tcp flow function flow window size approxim see 22 equat 1 know sum window size rtt c b b made small window size halv increas loss factor four necessarili problem tcp use loss use signal indic tcp loss rate low one packet per multipl roundtrip time impor tantli show flow complet sooner smaller buer larg buer one might argu applic use tcp advers aect loss eg onlin game media stream howev applic typic even sensit queue delay goodput 100 util achiev goodput alway 100 retransmiss increas loss goodput reduc small amount long buer equal greater rttc fair small buer reduc fair among flow first smaller buer mean flow smaller roundtrip time send rate higher larg buer roundtrip time increas rel dierenc rate decreas buer would increas fair also increas flow complet time flow second eect timeout like small buer investig timeout aect fair detail howev ns2 simul seem minim aect buer size 512 short flow use commonli use metric short flow flow complet time defin time first packet sent last packet reach de tinat particular measur averag flow complet time afct interest tradeo buer size afct gener link a50015000 50 100 150 200 250 300 350 400 450 500 minimum requir buffer number longliv flow minimum buffer 95 util figur 13 buer requir trac mix dierent flow length measur ns2 simul load 1 afct minim infinit buer packet drop therefor retransmiss take benchmark afct infinit buer find increas afct function buer size exampl figur 12 show minimum requir buer afct increas 125 experiment data ns2 experi 40 80 200 mb load 08 model p q plot graph bound predict mg1 model close match simul result key result amount buer need depend number flow bandwidth roundtrip time depend load link length burst trac mix short flow futur gener 1 tb core router need amount buer local 10 mb router today 513 mix short longliv flow practic router transport mix short long flow exact distribut flow length vari network network time make imposs measur everi possibl scenario give gener idea flow mix influenc buer size good news long flow domin buer size suce larg number flow better still well see afct short flow lower use usual ruleofthumb experi short flow alway slowdown long flow aggress multipl increas caus long flow reduc windows figur 13 14 show mix flow 400 mb link total bandwidth arriv short flow 80 mb 20 total capac number long flow vari 1 500 time experi long flow attempt take bandwidth left avail short flow practic never consum 80 bandwidth rest would taken aggress short flow expect small number flow flow partial synchron 200 longliv flow synchron larg disappear averag complet time apkt flow number longliv flow afct 14 packet flow rttbw buffer afct 14 packet flow rttbwsqrtn buffer figur 14 averag flow complet time buer size rtt c n compar buer size rtt c graph show long flow domin flow size want 95 util need buer close mean ignor short flow size buer cours doesnt tell us shortliv flow fare might shutout long flow increas afct figur 14 show case ns2 simul averag flow complet time much shorter rtt c n buer rtt c size buer queue delay lower reduc buer size still achiev 100 util decreas complet time shorter flow 514 pareto distribut flow length real network trac contain broad rang flow length flow length distribut known heavi tail 4 experi use pareto distribut model defin short flow still slow start pareto distribut flow congest router ie 1 model hold achiev close 100 throughput buer small multipl rtt c n 9 exampl ns2 simul 155 mb line rtt 100m measur 100200 simultan flow achiev util 99 buer packet point 23 network low la tenci fast access link limit tcp window size would concurr flow network singl heavi flow could hog bandwidth short period time termin unlik practic unless oper allow singl user satur network long backbon network order magnitud faster access network user abl satur backbon anyway even could tcp capabl util link quickli 8 n number activ long flow given time total number flow 9 number long flow n size buer found measur number flow congest avoid mode instant visual select robust minimum due addit increas behavior certain window size trac transport highspe router commerci network today 4 24 10 1000 concurr flow believ unlik chang futur uncongest router ie 1 model use shortflow model present section 4 often lead even lower buer requir small buer may penal long flow forc congest avoid earli even though bandwidth still avail want allow singl flow take 1n bandwidth alway need buer rtt c n even low link util found gener result hold dierent flow length distribut least 10 trac long flow otherwis short flow eect sometim domin measur commerci network 4 suggest 90 trac long flow seem safe assum long flow drive buer requir backbon router 52 measur physic router simul captur characterist router tcp interact verifi model run experi real backbon router trac gener real tcp sourc router cisco gsr 12410 25 4 x oc3 posengin 0 line card switch ip packet use po ppp sonet 155mb router input output queue although input queue took place experi total throughput router far maximum capac switch fabric tcp trac gener use harpoon trac gener 26 linux bsd machin aggreg use second cisco gsr 12410 router gigabit ethernet line card util measur done use snmp receiv end compar netflow record 27 router buer link util flow rttbw pkt ram model sim exp 200 figur 15 comparison model ns2 simul experiment result buer requir cisco gsr 12410 oc3 linecard 521 long flow figur 15 show result measur gsr 12410 router router memori adjust limit length interfac queue outgo interfac buer size given multipl rttc number packet size ram devic would need subtract size intern fifo linecard see section 522 model lowerbound util predict model sim exp util measur simul ns2 physic router respect 100 200 flow expect synchron model predict util correctli within measur accuraci 01 ns2 sometim predict lower util found practic attribut synchron flow simul real network key result model simul experi agre router buer size equal approxim rttc oppos rtt c case would 1291 packets0011 queue length pkt fifo link underutil exp cisco gsr ifqueu exp cisco gsr buffer model mg1 ps model mg1 fifo figur experiment simul model predict router queue occup cisco gsr 12410 router 522 short flow section 4 use mg1 model predict buer size would need shortliv bursti tcp flow verifi model gener lot shortliv flow measur probabl distribut queue length gsr 12410 router figur 16 show result comparison model match remark well 10 53 scope result futur work result present paper assum singl point congest flow path dont believ result would chang much percentag flow experienc congest multipl link howev investig singl point congest mean 10 result match close assum router underreport queue length 43 packet learn manufactur linecard undocu 128kbyte transmit fifo setup 64 kbyte use queue packet intern fifo mtu 1500 byte account exactli 43 packet dierenc revers path congest would like eect tcpbuer interact 28 assump tion simplifi network topolog fairli gener arbitrari network flow may pass router bottleneck link howev assum singl point congest packet loss littl trac shape occur previou link network focu tcp main trac type internet today constant rate udp sourc eg onlin game singl packet sourc poisson arriv eg dn model use short flow model result mix flow still hold understand trac compos mostli nontcp packet would requir studi model assum upper bound congest window realiti tcp implement maximum window size low 6 packet 29 window size 64kbyte requir use scale option 30 rare use result still hold flow limit window size requir even smaller router buer 1 run simul use random earli detect 12 eect flow synchron small number flow aggreg larg number 500 flow vari rtt synchron red tend littl eect buer requir ment howev earli drop slightli increas requir buer sinc use buer less ecient visibl impact vari latenc direct eect vari bandwidthdelay product congest also caus denial servic do 31 attack attempt flood host router larg amount network trac understand make router robust do attack beyond scope paper howev find direct benefit larger buer resist do attack 6 relat work villamizar song report rtt bw rule 1 author measur link util 40 mb network 1 4 8 longliv tcp flow dierent buer size find fifo drop disciplin larg maximum advertis tcp congest window necessari buer rttc guarante full link util reproduc result use ns2 confirm setup small number flow larg congest window flow almost fulli synchron buer requir singl flow morri 32 investig buer requir 1500 longliv flow link 10 mb 25m latenc conclud minimum amount buer need small multipl number flow point bandwidthdelay product 217 packet flow fraction packet transit time mani flow timeout advers eect util fair repeat experi ns2 obtain similar result howev typic router use carrier isp limit implic user fast access link need sever packet outstand achiev adequ perform user slow access link eg 32kb modem user 96kb gsm mobil access need addit buer network sucient packet outstand howev addit buer end access link eg modem bank local isp gsm gateway cellular carrier believ overbu core router serv dierent user would wrong approach overbu increas latenc everyon also dicult implement high liner instead access devic serv slow lastmil access link 1mb continu includ packet worth buer link line speed increas mtu size stay constant would also assum issu becom less relev futur avrachenkov et al 33 present fix point model util long flow flow complet time short flow model short flow use mm1k model account flow burst long flow model use analyt model tcp aect buer rtt model requir fix point iter calcul valu specif set one simul result given directli compar result garetto towsley 34 describ model queue length router load one similar model section 4 key dierenc author model burst batch arriv k m1 model oppos model model burst vari job length mg1 model accommod slowstart congest avoid mode howev lack close form solut end author obtain queue distribut similar 7 conclus believ buer backbon router much larger need possibl two order magnitud result right consequ design backbon router evid buer made smaller havent test hypothesi real oper network littl dicult persuad oper function profit network take risk remov 99 buer next step see result present paper first step toward persuad oper tri oper verifi result least demonstr much smaller buer work fine still remain persuad manufactur router build router fewer buer shortterm dicult competit marketplac obviou router vendor would feel comfort build router 1 buer competitor histor reason network oper like buy router larger buer even unnecessari eventu router continu built use current ruleofthumb becom dicult build linecard commerci memori chip end necess may forc buer smaller least result true know router continu work fine network util unlik aect 8 acknowledg author would like thank joel sommer professor paul barford univers wisconsinmadison set run measur physic router wail testb salli floyd frank kelli use disucss matthew holliman feedback long flow led central limit theorem argument 9 r high perform tcp ansnet httpwww rfc 3439 internet architectur guidelin philosophi provis internet backbon network support latenc sensit applic dynam tcpred scalabl control analysi memori architectur fast packet bu observ dynam congest control algorithm network simul ns2 random earli detect gateway congest avoid oscil behaviour network tra understand perform mani tcp flow aggreg tra area tra data network cascad investig multifract natur internet wan tra note e internet tra scalabl tcp congest control person commun stanford network characterist residenti tra cisco 12000 seri router observ dynam congest control algorithm e rfc 1213 manag inform base network manag tcpipbas internetsmibii framework classifi denial servic attack tcp behavior mani flow model simul measur queue delay longtail internet trac illustr tr observ dynam congest control algorithm random earli detect gateway congest avoid high perform tcp ansnet area traffic data network cascad observ dynam congest control algorithm statist bandwidth share difficulti simul internet aggreg traffic perform activ queue manag drop tail understand perform mani tcp flow model simul measur queu delay longtail internet traffic behavior mani flow provis internet backbon network support latenc sensit applic ctr gaurav raina oliv heckmann tcp local stabil hopf bifurc perform evalu v64 n3 p266275 march 2007 amogh dhamdher constantin dovroli open issu router buffer size acm sigcomm comput commun review v36 n1 januari 2006 perform analysi timerbas burst assembl slot schedul optic burst switch network perform evalu v63 n9 p10161031 octob 2006 robert n shorten dougla j leith queue provis network effici transmiss control protocol ieeeacm transact network ton v15 n4 p866877 august 2007 mahmoud elhaddad rami melhem taieb znati analysi transmiss schedul algorithm support bandwidth guarante bufferless network acm sigmetr perform evalu review v34 n3 p4863 decemb 2006 yeet li dougla leith robert n shorten experiment evalu tcp protocol highspe network ieeeacm transact network ton v15 n5 p11091122 octob 2007 damon wischik nick mckeown part buffer size core router acm sigcomm comput commun review v35 n3 juli 2005 g vubrugi r stanojev j leith r n shorten critiqu recent propos buffers strategi acm sigcomm comput commun review v37 n1 januari 2007 sangta ha long le injong rhee lisong xu impact background traffic perform highspe tcp variant protocol comput network intern journal comput telecommun network v51 n7 p17481762 may 2007 young eun xinb wang perform analysi tcpaqm gener aimd intermedi buffer size comput network intern journal comput telecommun network v51 n12 p36553671 august 2007 georg varghes j andrew fingerhut flavio bonomi detect evas attack high speed without reassembl acm sigcomm comput commun review v36 n4 octob 2006 yashar ganjali nick mckeown updat buffer size internet router acm sigcomm comput commun review v36 n5 octob 2006 mihaela enachescu yashar ganjali ashish goel nick mckeown tim roughgarden part iii router small buffer acm sigcomm comput commun review v35 n3 juli 2005 joel sommer paul barford nick duffield amo ron improv accuraci endtoend packet loss measur acm sigcomm comput commun review v35 n4 octob 2005 aleksandar kuzmanov power explicit congest notif acm sigcomm comput commun review v35 n4 octob 2005 zhenyun zhuang taeyoung chang raghupathi sivakumar aravind velayutham 3 applicationawar acceler wireless data network proceed 12th annual intern confer mobil comput network septemb 2329 2006 lo angel ca usa elvi vieira michael bauer proactiv control roundtrip time variat packet drop use smoothtcpq proceed 3rd intern confer qualiti servic heterogen wiredwireless network august 0709 2006 waterloo ontario canada allen b downey tcp selfclock bandwidth share comput network intern journal comput telecommun network v51 n13 p38443863 septemb 2007 joel sommer paul barford nick duffield amo ron geometr approach improv activ packet loss measur ieeeacm transact network ton v16 n2 p307320 april 2008 kortebi l muscariello oueslati j robert evalu number activ flow schedul realiz fair statist bandwidth share acm sigmetr perform evalu review v33 n1 june 2005 sumitha bhandarkar saurabh jain l narasimha reddi ltcp improv perform tcp highspe network acm sigcomm comput commun review v36 n1 januari 2006