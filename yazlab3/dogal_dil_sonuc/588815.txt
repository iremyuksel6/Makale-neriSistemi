perfect pack theorem averagecas behavior optim onlin bin pack consid onedimension bin pack problem discret uniform distribut ujk 1 leq j leq k1 bin capac k item size chosen uniformli set 12ldotsj note 0 discret version previous studi continu uniform distribut u0u bin capac 1 item size chosen uniformli interv 0u show averagecas perform heurist differ substanti two type distribut particular onlin algorithm constant expect wast space ujk jk 1 leq j k1 wherea onlin algorithm on12 expect wast u0u 0 u leq 1 ujk result applic gener theorem courcoubeti weber cover discret distribut distribut optim expect wast random list n item must either theta n theta n12 o1 depend whether certain perfect pack exist perfect pack theorem need ujk distribut intrigu result independ combinatori interest proof cornerston paper also survey recent result compar behavior heurist discret continu uniform distribut b introduct suppos one given item size 1 2 3 j one size ask pack bin capac k littl wast space possibl ie one ask find least cardin partit pack set item size item block bin sum k publish electron februari 1 2002 paper origin appear siam journal discret mathemat volum 13 number 3 2000 page 384402 httpwwwsiamorgjournalssirev44139542html depart comput scienc athen univers econom busi athen greec courcoucsiforthgr bell lab murray hill nj 07974 statist laboratori univers cambridg cambridg cb3 0wb uk rrweber statslabcamacuk avaya lab research bask ridg nj 07920 mihalisresearchavayalabscom valu j k set pack perfectli ie size item block sum exactli k clearli sum item size must divis k condit must satisfi surprisingli divis constraint necessari sucient reader might want tri hand prove rel short proof exist illustr next section certain ingenu requir find one exercis serv warmup follow gener dicult theorem also prove next section r copi size r 1 theorem 1 perfect pack theorem posit integ k j r perfectli pack list l consist rj item r size 1 bin size k sum rj item size multipl k settheoret term question answer theorem 1 intrigu puzzl pure combinator motiv work came relev certain fundament question averagecas analysi algorithm particular consid standard bin pack problem one given bin capac b list item posit size b ask find pack item minimum number bin realworld applic bin pack theorem 1 item size drawn finit set howev usual averagecas analysi bin pack heurist assum item size chosen accord continu probabl distribut natur allow uncount number possibl item size see 3 10 exampl assumpt continu distribut advantag sometim simplifi analysi justifi ground continu distribut serv reason approxim discret one reason ask whether actual true exampl consid continu uniform distribut u0 u 0 u 1 bin capac 1 item size chosen uniformli interv 0 u discret uniform distribut uj k 1 j k 1 bin capac k item size chosen uniformli set 1 2 j limit distribut umjmk equival u0 jk scale divid item size bin capac mk howev limit combinatori question address theorem 1 evapor suggest someth import may fact lost transit discret continu model result paper show inde case describ result need follow notat bin pack algorithm l list item al number bin use appli l sl sum item size l divid bin capac note sl lower bound number bin need pack l wast pack l denot w algorithm alway produc optim pack follow l n denot list n item whose size independ sampl given distribut f expect wast rate ew algorithm distribut f defin expect valu w l n function n follow typic abbrevi simpli expect wast say distribut f bound wast distribut ew opt consequ theorem 1 classif theorem courcoubeti weber 11 prove follow theorem 2 j k 1 j k 1 ew opt repres departur continu model sinc u0 u also bound wast distribut u 0 u 1 3 16 distinct come consid onlin algorithm onlin algorithm item assign bin order occur input list l assign must made without knowledg size number item later list item pack subsequ move mirror mani practic situat clearli substanti restrict power algorithm particular prove follow theorem 3 onlin algorithm u 0 1 case ew contrast discret uniform case singl onlin algorithm bound expect wast distribut uj k 1 j k 1 recent discov sumofsquar algorithm ss 12 defin follow suppos pack integers item bin capac b onlin algorithm pack item x list thing relev current pack number n h bin whose current content total h 1 h b 1 ss choos bin x place either new previous empti bin one alreadi partial fill enough room x minim result sum h note ss implement take ob time per item 12 run linear time fix bin size shown 12 algorithm ss perform well averag surprisingli gener sens let us say discret distribut f tripl b p b integr bin size finit set integr item size rang 1 b 1 ration probabl vector p 0 probabl item size ignor possibl item size b sinc item alway must start new bin complet fill leav rest pack unaect follow special version result 12 suce need theorem see 12 discret distribut henc theorem 2 ew ss current paper organ follow proof perfect pack theorem theorem 1 appear section 2 section 3 present proof theorem 2 begin describ classif result courcoubeti weber 11 upon proof depend result say discret distribut f ew opt must one n n 12 o1 case appli depend exist certain perfect pack gener np hard howev theorem 1 allow us avoid complex case discret uniform distribut uj k theorem 3 paper contribut theori continu distribut prove section 4 conclud section 5 survey result prove averagecas behavior bin pack algorithm discret continu distribut shall see signific dierenc discret continu case 2 perfect pack theorem begin proof theorem 1 three lemma list number special instanc lead perfect pack first lemma take care special case r 1 lemma 4 suppos j k posit integ j k 12 set j item one size 1 j perfectli pack bin size k proof proof induct pick j k assum theorem true pair smaller lexicograph order k j theorem clearli true k 2 j 2 assum k j 2 start perfectli pack bin pair item j remain item size plu item size k2 k even sinc sum size item pack point multipl k sum size remain item also multipl k k odd unpack item instanc k induct hypothesi appli k even k2 divid jj 12 remain item larger k2 thu item 1 k j 1 form instanc k2 k j 1 induct hypothesi perfectli pack bin size k2 halfbin item size k2 combin bin size k suppos j k2 k even instanc k2 j induct hypothesi appli k odd first note k2 j j 2 impli togeth 2m thu construct pair item total size k 1 place one pair bin bin gap size k k item size 1 j 2m 12 sum item size must mk k applic induct hypothesi instanc complet proof lemma 5 consid r 1 set ith consist j item consecut r even b j odd rj item perfectli pack j bin size equal sum averag item size r group ie rj proof lemma follow show bin size rj 12 possibl pack perfectli item j bin manner bin contain exactli one item r set r even simpli take two set pack ith largest item one set ith smallest item set ie pair bin level j 1 repeat r2 time fill j bin size rj 12 r j odd extra step requir idea first pack item tripl one item three set sum tripl easiest appreci construct consid exampl say 9 tripl sum 15 given column gener tripl j result pack one per bin fill j bin level 3j 12 number remain set even remain space j bin equal thu procedur case appli complet pack bin follow lemma provid part induct step use proof theorem 1 lemma 6 consid quadrupl k j r posit integ k j 12 exist perfect pack r copi 1 j bin size k exist perfect pack lexicograph smaller quadrupl form one follow hold b r divid k c k r even proof first use argument lemma 4 demonstr reduc problem smaller instanc hold j k2 k odd pack bin pair j 12 remain item size 1 k j 1 defin smaller instanc k k k even pack bin way k2 remain item size 1 k2 pack bin size k2 induct hypothesi exist perfect pack b hold r must common factor p 1 problem reduc instanc k j rp mp suppos neither b hold c k even k2 divid k2 thu problem reduc smaller instanc bin size k2 r even sinc b hold k divis r must even thu argument appli final case assum b c hold ie j k2 r divid k k r odd let r k fact r odd impli r 1 r 2 integ fact r divid k impli k 1 k 2 integ 12 sinc assumpt j k2 henc hypothesi instanc k 1 j r 1 pack r 1 copi 1 bin size k 1 similarli also pack copi 1 bin size k 2 sinc combin pair bin size k 1 k 2 bin size k thu reduct smaller instanc hold proof perfect pack theorem instanc theorem prove describ quadrupl lemma 6 notic would enough specifi tripl k j r howev help mention explicitli proof theorem induct k j r lexicograph order lemma 4 true 1 assum quadrupl smaller k j r perfectli pack r 1 show exist perfect pack r copi 1 bin size k lemma 6 need consid case r odd r divid k r 1k2r j k2 note case r 1k2r integ k2r 05 integ show perfectli pack item size bin size k note lower bound rang greater 1 lower bound j theorem follow remain item form smaller quadrupl induct hypothesi perfectli pack bin size k follow construct reader may find help consid specif exampl consid quadrupl k j r 165 77 5 91 note k r odd r divid k j lie r show perfectli pack item size 12 77 remain item form smaller quadrupl 165 11 5 2 pack item size j 1r1k2r j divid rang item size interv ie set consecut integ interv symmetr multipl k2r one two length depend whether interv 100 coffman et al symmetr odd even multipl k2r form interv first take largest interv symmetr r 1k2r interv r 1krj j note interv includ r 2k2r sinc j rk2r next take largest interv form remain item symmetr r2k2r obtain interv jkr1 r1krj1 continu fashion take interv symmetr multipl k2r end interv two kind first r 12 interv center even multipl k2r interv center r 1 2ik2r rang 0 r 32 second equal number interv center odd multipl k2r interv center r 2ik2r j ikr rang 1 r 12 note smallest endpoint claim numer exampl two interv type interv first type 22 44 55 77 length 23 symmetr 33 66 interv second type 12 21 45 54 length 10 symmetr 165 495 gener interv first type odd length symmetr even multipl k2r interv second type even length k 2j 1 symmetr odd multipl k2r plan use lemma 5 perfectli pack bin size k item whose size lie interv type begin consid interv first type odd length symmetr point ikr 12 r item size interv strategi partit interv group satisfi hypothes lemma 5b arrang midpoint interv within group sum k sinc midpoint correspond averag item size correspond interv number item interv odd lemma 5b impli perfectli pack item interv group construct group bin pack problem midpoint interv take role item size follow write item quot speak midpoint interv possibl normal view item perfectli pack bin requir size consid interv first type though r item size ikr wish pack bin size k normal multipli item size rk equival problem pack r item size 1 r 12 bin size r smaller version pack problem induct hypothesi mean desir pack achiev exampl though 5 item size 33 66 pack bin size 165 normal factor 133 equival problem instanc 5 2 5 3 must pack item whose size lie interv second type interv even length symmetr point ik2r odd 1 r 2 r item size interv exhibit reduct smaller perfect pack problem multipli item size 2rk problem equival perfectli pack r copi item size 1 3 5 r 2 bin size 2r exampl 5 copi item size 1 3 perfectli pack 2 bin size 10 unfortun sum item size odd multipl r item perfectli pack bin size 2r reason also conveni even sum item size multipl 2r consid perfect pack bin size r 2r assum moment r copi item size perfectli pack bin size r 2r pack entir bin size 2r number item bin must even item size odd lemma 5 appli impli origin item perfectli pack bin size k hand suppos bin size r requir set item pack bin size r correspond set interv whose midpoint sum k2 recal interv even length divid interv first half second half obtain twice mani interv whose midpoint sum k use lemma 5 construct perfect pack final step proof show inde perfectli pack r copi item size 1 3 5 r 2 bin size r 2r shall use dierent pack depend upon whether case item perfectli pack follow simpl procedur begin pack one bin 1 1 r 2 one bin 2i 1 r2i2 r2i one bin 2i1 2i1 r2i r2i note final case get three item size 2i pack four item size larger 1 three item size 1 appli pack time leav us one item size larger 1 item size 1 pack one bin use remain item 1 item size 1 use two item size 1 1 numer exampl construct say pack 5 copi 1 3 bin size 5 10 first pack one bin 1 1 one bin 1 3 3 3 leav one item size 3 two size 1 perfectli pack bin size 5 procedur similar begin pack one bin 1 1 r 2 one bin 2i 1 2i1 r 2i2 r 2i pack four item size larger 1 three item size 1 appli pack time leav us three item size larger 1 3 item size 1 pack one bin 2i 1 2i leav us item size 1 two item size one item size final pack one bin use remain item 3 proof theorem 2 recal theorem statement distribut uj k j k 1 ew opt reli gener result courcoubeti weber 11 suppos discret distribut defin section 1 note pack item size bin size b view nonneg integ vector interest vector give rise sum exactli b shall call perfect pack configur instanc one configur would 1 0 2 let p sb denot set perfect pack configur given b let sb convex cone r span nonneg linear combin configur p sb theorem courcoubeti weber 11 discret distribut b p follow hold p lie interior sb ew opt b p lie boundari sb ew opt c p lie outsid sb ew opt gener nphard determin three case appli given distribut prove straightforward transform partit problem 13 howev distribut uj k j k 1 use follow lemma shall prove use perfect pack theorem show appli lemma 7 j k exist posit integ set r item consist r item size togeth r item j 1 size pack perfectli bin size k note lemma impli jdimension vector strictli insid appropri cone 1 e interior cone span vector form r r vector sum perfect pack configur lemma 7 proof theorem 2 thu follow case theorem proof lemma 7 make use perfect pack theorem two case k simpli set r total size r item size 1 perfect pack theorem perfectli pack jj bin size remain item size go one per bin fill bin size precis k hand suppos thing bit complic r 12 perfect pack theorem r item size 1 perfectli pack bin size k item exist assumpt j k 1 add addit item size bin one per bin bring bin size k remain r item size k j j total item use complet fill remain bin pair item size j k j j 1 k note k even last bin type contain two item size k2 even number item choic r present diculti easi verifi case r less 2k 2 4 proof theorem 3 recal theorem statement l n item size gener accord u0 u 0 u 1 onlin algorithm exist constant c 0 ew l n cn 12 infinit mani n proof let wt denot amount empti space partial fill bin item pack show n 0 expect valu averag w1 wn n 12 u 3 impli ewn must n 12 u 3 ie 12 consid pack item t1 let denot number nonempti bin gap least u 2 8 first item pack bin one put item larger u 2 8 therefor t1 leav gap less bin either must size less u 2 8 size must within empti space one bin gap larger 8 probabl u 2 8tu choos condit whether greater less n 12 note size t1 distribut u0 u independ s1 last bin leav gap p s1 last bin p s1 last bin leav gap p s1 last bin p s1 leav gap s1 last bin u4 sum first item size note lower bound number bin henc number item last item bin thu s1 last bin es use fact n2 impli hand wt n impli ewn n 12 note proof reli heavili fact distribut continu sinc reason union n 12 interv size cover full probabl space discret distribut uj k fail reason obtain significantli better averagecas behavior 104 coffman et al tabl expect wast symmetr case bf n 12 log 34 n 26 n 12 log 34 best onlin n 12 log 12 n 26 27 n 12 log 12 upper bound prove refer lower bound conjectur base experi upper lower bound appear follow correspond result continu case detail upper bound particular still need work 5 conclud remark result paper among first obtain averagecas behavior bin pack algorithm discret distribut sinc announc 4 mani addit result prove illustr contrast similar case continu distribut conclud section survey literatur point remain open problem let us begin consid symmetr uniform distribut repres u0 1 uk 1 k k 1 gener symmetr distribut one satisfi ps ps b 0 b tabl 1 summar known averagecas behavior distribut horizont line separ oin algorithm onlin one except note result tabl theorem four famou classic algorithm extens studi first fit ff onlin algorithm item place first bin room bin sequenc accord order receiv first item bin room new bin start best fit bf similar except item place bin smallest gap larg enough contain tie broken favor earlier bin first fit decreas ffd best fit decreas bfd correspond oin algorithm list first sort item nonincreas order size ff bf appli worstcas point view ff bf equival asymptot sens produc pack use 70 bin optim neither wors 15 correspond oin version ffd bfd use bin optim wors 14 15 result tabl 1 show algorithm perform much better averag worst case sinc sublinear expect wast surpris first observ empir 2 oin version continu advantag onlin counterpart reduc practic signific distinct behavior ff bf bf better two remark appli equal well discret continu case comparison case signific dierenc onlin algorithm fix valu k onlin algorithm tabl expect wast contrast expect wast continu case n 23 ff n 12 log 34 n bf n 12 log 12 n best possibl onlin algorithm notat fn mean lower bound taken hardi littlewood sens ofn ie greater cfn tabl possibl expect wast nonsymmetr case opt u 1 3 k 1 onlin u n 12 ou n 12 log 34 n 25 k 1 result prove paper rule theorem occurr known either bfd ffd occur k 10000 5 conjectur hold u 0 1 base experiment studi date prove u 066 23 bf 18 c 0 infinit mani n rather standard knuthian sens greater cfn c 0 sucient larg n sens howev onlin result discret case consist continu one although technic onlin algorithm allow know magnitud n one formal set formula expect wast discret case one get ew bf best possibl onlin algorithm ss applic continu distribut note asymptot discret sens appear wors ff bf inde experi suggest ew ss let us turn nonsymmetr distribut u0 u u 1 uj k 1 known result distribut summar tabl 2 first time see dierenc continu discret case oin algorithm particular ffdbfd ew u 12 3 16 mani distribut uj k j k2 correspond discret uniform distribut ew moreov u 12 1 ew growth rate never occur uj k follow theorem 5 say discret distribut f ew ffd must either o1 n 12 n theorem also provid algorithm determin answer given distribut b p find constant proportion expect wast linear run time polynomi b unfortun although answer distribut uj k k 10000 comput 5 suggest simpl rule choic among o1 n 12 n might depend j k exampl type behavior occur uj 151 distribut choic linear bound expect wast switch back forth 10 time j increas 1 149 result k 10000 howev exhibit sever suggest pattern first prove hold arbitrarili larg k expect wast o1 whenev j k expect wast n 12 occur uj k suggest may never occur third uj k uj k either linear bound linear constant proportion bfd never larger ffd occasion smaller sens discret case asymptot consist continu case even though expect wast ffd bfd alway sublinear latter k increas maximum constant proportion linear expect wast uj k appear decreas inde 106 coffman et al shown constant ffd bound function declin least fast log kk 5 presum hold bfd well worst case distribut u6 13 expect wast ffd bfd n624 less 06 expect optim number bin moreov easili avoid sinc ss bound expect wast distribut ff bf although case identifi onlin ff bf algorithm outperform oin cousin turn onlin algorithm ff bf observ behavior discret uniform distribut appear empir similar behavior continu one base extens experi conjectur ff bf linear expect wast u0 u 0 u 1 although date prove u 066 23 bf 18 discret case uj k experi suggest sucient larg k expect wast ff bf bound linear prove 19 shown ew bf 0 result extend ff 1 4 shown ew ff practic bound expect wast common least small k growth rate bf uj k k 11 complet character use multidimension markov chain argument 8 linear expect wast occur u8 11 gener result prove linear expect wast mirror result continu case ew bf k sucient larg 18 point know expect wast o1 n possibl ff bf distribut uj k classif theorem ffd bfd opt proven rang possibl known limit o1 n 12 n ffd bfd also gap lower bound prove paper best possibl onlin expect wast continu distribut u0 u best rate known achiev former n 12 latter 12 log 34 n prove 25 algorithm 25 work distribut discret continu drawback pragmat point view best current bound run time 8 log 3 n 12 one will consid special algorithm better run time possibl least theoret fix distribut f algorithm af run time log n expect wast 12 log 34 n 24 algorithm drawback howev sinc proof exist nonconstruct question whether practic algorithm exist attain bound inde whether lower bound achiev remain open final addit open problem mention discret continu uniform distribut u0 u uj k question happen arbitrari discret continu distribut discret case abovement classif theorem appli bfd ffd opt say correspond expect wast must o1 n 12 n also mention applic case bfd ffd specif distribut determin time polynomi b opt also algorithm determin case appli note 12 involv solv 1 linear program sb variabl constraint none algorithm technic run polynomi time sinc b may exponenti larger contribut instanc size log b howev feasibl b perfect pack theorem 107 excess 1000 make possibl character behavior ffd bfd opt mani interest distribut casebycas basi theorem ss present section 1 gener arbitrari discret distribut one replac ss simpl variant ss ss item pack minim h choic must made subject follow addit constraint item may place partial fill bin result gap exactli fill item whose size alreadi encount list l result algorithm still run time onb satisfi distribut f 12 addit complic random variant run time onb log b satisfi properti also constant proportion opt expect wast linear 12 case arbitrari continu distribut yet gener classif theorem although partial result prove rhee 22 provid complic measuretheoret character f sublinear appear comput use result rhee talagrand 23 impli ew opt must 12 better rate strictli o1 n 12 yet rule howev moreov yet algorithm gener eectiv ss variant result 24 25 impli onlin algorithm whose expect wast 12 log 34 n wors optim expect wast oin algorithm karmarkar karp devis algorithm worst case never use optim number bin plu log 2 opt olog 2 n 17 mean expect wast never maximum olog 2 n ew opt algorithm 24 25 howev impract run time best current bound 8 log 2 n conclud open problem hearken back main result paper note abil determin expect wast ffd bfd opt casebycas basi take us far gener result would desir result u0 1 uk 1 k typic continu hold arbitrari continu discret symmetr distribut respect real world domin symmetr distribut would nice could identifi addit interest class nonsymmetr distribut f gener result ew opt prove paper discret uniform distribut interest class new perfect pack theorem provid us similar gener answer r experiment studi bin pack unexpect expect behavior result bin pack stabil onlin bin pack random arriv longrun averag constraint sumofsquar algorithm bin pack comput intract guid theori npcomplet averag case behavior first fit decreas optim pack continu uniform distribut u0 linear wast best fit bin pack skew distribu tion stochast analysi best fit bin pack averagecas analysi bin pack uniformli distribut item size optim bin pack item random size optim bin pack item random size averag case analysi onlin algorithm bin pack pack better best fit tight bound averagecas onlin bin pack ing tr ctr jano csirik david johnson clair kenyon jame b orlin peter w shor richard r weber sumofsquar algorithm bin pack journal acm jacm v53 n1 p165 januari 2006