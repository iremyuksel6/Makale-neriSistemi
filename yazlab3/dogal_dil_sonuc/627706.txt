timeconstrain queri process casedb abstractcasedb realtim singleus relat prototyp dbm permit specif strict time constraint relat algebra queri given time constrain nonaggreg relat algebra queri fragment chain relat involv queri casedb initi obtain respons modifi version queri use iter queri evalu techniqu success improv evalu modifi version queri casedb control risk overspend time quota step use risk control techniqu b introduct realtim databas strict realtim time constraint respond queri timeconstrain queri form evalu queri q time unit multius realtim dbm resourc ie cpu data share issu meet time constraint evalu queri becom complic due cpu schedul transact manag concurr control comparison singleus dbm satisfact timeconstraint deal resourc share transact manag nevertheless problem evalu timeconstrain queri singleus dbm far trivial also solut use multius dbm forc timeconstrain queri fix cpu util time import paramet multius realtim dbmss transact schedul casedb realtim singl user relat prototyp dbm use relat algebra ra queri languag earlier paper 10 11 12 present queri approxim techniqu aggreg relat algebra queri result queri estim use statist estim sampl techniqu paper present queri modif techniqu process nonaggreg realtim relat algebra queri singleus dbm issu timeconstraint satisfact equival control evalu time queri precis two point observ 1 queri evalu time ra queri unknown prior evalu estim certain probabilist confid exampl consid follow queri select set tupl research support nation scienc foundat grant iri8811057 iri9009897 iri9008632 preliminari version paper appear proceed 1992 ieee de confer depart comput engin scienc case western reserv univers cleveland oh 44106 z depart comput scienc southern illinoi univers carbondal il 62901 relat satisfi boolean formula f queri number tupl satisfi f may vari significantli differ relat whether select complet within given time quota known priori gener evalu time queri chang differ relat also select 1 ra oper queri 2 given time constraint queri may small queri evalu time consum probabl abl evalu queri within time unit refer risk overspend rest paper may extrem high exampl probabl join two diskresid relat 1000 block perform 10 second like almost zero thu risk overspend time quota 10 second join almost one one come variou approach approxim modifi timeconstrain ra queri approach use casedb follow 1 relat databas fragment semant meaning subset fragment 2 queri addit time quota user specifi maximum risk overspend taken dbm evalu either queri one modifi version concept risk overspend given queri introduc 13 3 evalu timeconstrain queri dbm modifi origin queri replac relat fragment queri modif techniqu fragment select risk overspend time quota evalu modifi queri closest less risk specifi user fragment select problem 4 time left evalu modifi queri step 3 perform iter higher risk overspend process carri time quota complet use iter queri evalu except 15 16 realtim databas literatur deal multius environ transact manag maxim number transact complet within deadlin smith liu 15 vrbski liu 16 give methodolog find approxim answer relat algebra queri approach amount time use increas accuraci approxim result improv approach contain risk control mechan way obtain improv approxim result differ rest paper organ follow section 2 queri modif techniqu describ algorithm exampl section 31 32 discuss two differ formul fragment select problem show problem npcomplet heurist solut present section 33 fragment select problem implement casedb section 4 present 1 select ra oper express e denot sel e ratio number output tupl e product number tupl operand relat e transform use queri modif techniqu section 5 report experiment result perform analysi section 6 conclud queri modif techniqu techniqu timeconstrain queri modifi replac relat fragment user databas administr identifi relat would probabl use timeconstrain queri process divid relat three type strata requir strongli prefer prefer strata figur 21 show relat fragment chain relat furnac user prefer queri evalu furnac strongli prefer queri evalu one two fragment criticalstatusfurnac highpriorityandcriticalstatusfurnac absolut requir queri evalu fragment highpriorityandcriticalstatusanddangerousenvironmentfurnac fragment requir prefer strongli prefer strata call requir strongli prefer prefer fragment exampl 21 casedb ra queri keyword paramet specifi time constraint time quota keyword paramet r specifi risk overspend consid databas relat furnac fnumber fname prioriti statu environ contain inform furnac relat temperatur fnumber temperatur time date maintain record temperatur furnac assum user specifi relat fragment chain shown figur 21a 21b consid queri list furnac name temperatur 10 second risk 05 less specifi ra first revis queri q q 1 furnac replac highpriorityandcrit statusanddangerousenvironmentfurnac temperatur replac last 3daytemperatur ie requir fragment q 1 evalu assum evalu q 1 took 2 second casedb find risk evalu queri differ combin fragment two chain time 8 second assum among risk risk come closest less 05 048 queri list last day temperatur highpriorityandcriticalstatusfurnac casedb evalu q 2 assum evalu q second remain 2 second casedb choos larger fragment two chain use high risk overspend eg 095 repeat queri evalu reason choos high risk later iter reduc number addit iter thu control overhead iter averag number iter alway upper bound 4 casedb keep evalu modifi version q time bigger fragment time quota run casedb return last complet respons user togeth modifi queri respons figur 22 present outlin nonaggreg realtim queri evalu algorithm use casedb pleas note major random variabl introduc error queri evalu time thu caus multipl queri evalu step select ra oper queri end queri evalu step better inform oper select use revis select estim pleas note algorithm figur 22 transform modifi queri q q 0 q 0 use previou step respons first revis queri q obtain replac relat requir fragment evalu revis queri constitut first queri evalu step casedb spend remain time iter improv queri addit step clearli step 2 onward dbm may save time instead evalu current step queri base relat revis current step queri previou step output use current step output b add new tupl output due larger fragment util current step point b cours true gener monoton 2 queri figur 21 relat fragment chain motiv approach list 1 compromis size operand relat queri risk overspend expect case possibl except set differ oper ra relat replac subset ie fragment queri evalu time henc risk overspend get smaller queri monoton ad tupl input relat make lose output tupl otherwis nonmonoton ra queri union intersect project join monoton howev inclus set differ oper make ra queri nonmonoton 2 specifi fragment relat much risk will take overspend queri user guid dbm choos modifi queri 3 modifi queri semant meaning repres best queri dbm answer given risk given time constraint algorithm timeconstrainedadhocandnonaggregatequeryevaluationq fi input q arbitrari relat algebra queri given amount clock time quota fi upper bound risk overspend use step 2 output revis queri qs respons produc within clock time unit begin set timer interrupt unit true begin step1 begin replacerequiredfragmentsqq ffor r q select requir fragment f replac r f q obtain qsg executeq fstandard relat algebra queri executiong els begin step2 fi 0 els step fdecid risk taken step 3 g previou fi 0 timeleftq fsolv fragment select problem risk fi 0 obtain revis queri qsg q previou qs goto end fif relat could obtain constraint satisfi given queryq evaluatedg transformq q 0 ftransform qs q 0 q 0 use previou step responseg endif currenttim starttim previou qs endwhil 3 timer interrupt occur interrupt servic routin return control statement loop therefor loop next line infinit loop endreturnqsresponsetoq figur 22 queri evalu algorithm realtim nonaggreg queri casedb 3 fragment select problem complex heurist section formal defin fragment select problem use two differ risk factor formul prove formul lead npcomplet problem briefli describ heurist approach use casedb r let r denot fragment relat fragment lattic r ie rg consid q input relat r queri evalu step q let us say choos fragment f r relat r call result list fragment fff 1 fragment list q describ two differ risk factor formul 31 risk factor ff 11 gave risk factor ff approach sampl evalu estim aggreg queri revis approach fragment select nonaggreg queri assum th queri evalu step let f ng fragment list q select step first character probabl exceed time quota q evalu fragment f risk ff overspend f let amount time left random variabl repres actual amount time spent th step mean varianc simpli sel denot select oper op th step sele simpli sel denot set sel op oper op e ie sel 2 sel let costq timecost formula queri th step clearli equal satisfi sinc sel henc unknown step end use expect version equat ie xi denot expect valu function assum given fragment list f approxim sel b time cost formula costq queri q deriv solv use equat 32 risk overspend step denot ff defin p denot probabl risk ff number ff obtain actual amount time spent step less equal therefor use equal less equal probabl known obtain equat 32 use equat 33 solv ff henc ff thu risk ff overspend q evalu use fragment fragment list f comput state fragment select problem discuss complex fragment select problem fsp ff ff given risk overspend step let x denot set f f j jf j fragment list 0 ff ff j prechosen small constant g choos fragment list x list f risk ff ff gamma ff minimum 2fsp particular case fsp relat r j two fragment r j theorem 1 2fsp ff npcomplet proof see appendix thu complex find f ff among possibl fragment list high howev monoton queri sever fragment list elimin consider exampl consid two fragment list f 1 f 2 risk ff 1 ff 2 respect assum fragment f 1 contain correspond fragment f 2 clearli q monoton ff 2 ff 1 ff 2 evalu found ff ff 2 need comput ff 1 elimin f 1 consider nevertheless fragment select problem still remain npcomplet theorem 2 fsp ff npcomplet fsp ff denot fragment select problem monoton queri proof see appendix addit discuss section 5 use stratifi relat fragment lattic defin maintain priori number elig fragment list consid significantli reduc tightli control essenti mani fragment fragment set relat r stratifi fragment fragment select problem consid fragment singl stratum variou way approxim sel op sel 14 2 3 earlier work 11 10 approxim sel op sampl evalu count estim overhead approxim sel op reduc zero disk access sampl fragment f also preretriev store along pleas note select oper op 1 q use operand output anoth oper op 2 q depend select op 2 select independ precis select estim covari select need estim unfortun covari formula usual quit complic 9 moreov complex chang sampl method use equat 33 assum approxim function fragment use varianc among select sel replac sampl select varianc obtain sel op approxim 32 risk factor fi op discuss anoth risk factor comput approach also adapt revis 11 fragment select problem previou section control risk ff overspend whole queri q approach pursu casedb defin risk fi op overspend oper op q approach comput simpler ffrisk approach advantag use separ risk factor differ oper exampl join oper q larg operand relat high varianc select may want take small risk overspend oper hand take larg risk overspend select oper small operand relat regardless varianc select approach follow assum step given fragment list f know select sel op varsel op oper op q instead use sel queri time cost formula costq use sel sel word probabl actual select sel op fragment list f greater sel therebi result overspend op executionth risk fi op select sel deriv use equat sel mean sel v arsel varianc sel fi op proper valu chosen system base distribut sel control risk fi op approxim v arsel equat 34 use varianc correspond sampl select simpl random sampl cluster sampl 9 give formula varianc sampl select let us state fragment select approach use fi approach fragment select problem fsp denot set sel let x denot set prechosen small constant g choos fragment list x list f fi gamma costq among fragment list x 2fsp fi particular case fsp fi relat two fragment fragment list theorem proof similar proof theorem 1 2 omit thu problem find f fi op risk also npcomplet similar complex find f ff riskexcept expect valu function costq ff risk approach much complex ff risk approach similar complex reduct techniqu use control time spent fragment select problem 33 heurist approach fi risk factor casedb implement firisk factor heurist approach locat f fi constant approach consid follow properti heurist select ii type oper involv time cost subqueri r involv iv file organ type v posit input relat pars tree queri use select select oper high slight increas fragment size relat involv oper would drastic increas output therebi increas time cost might overspend alloc time would like increas fragment size input relat whose associ oper high select readi take larg risk use type oper determin monoton properti subqueri involv relat oper fragment size increas decreas may observ priori increas decreas output size henc time cost relat revers true increas decreas fragment size decreas increas output size would like increas fragment size relat increas time cost maxim avail time larger figur 31 pars tree r timecost subqueri involv base relat expect smaller varianc henc timecost queri involv oper would smaller varianc type oper subqueri play part timecost subqueri file organ relat involv subqueri also play role determin timecost subqueri exampl case select oper index file whose index attribut use select formula timecost much less evalu select oper nonindex file justifi use posit relat pars tree queri use follow exampl assum follow queri qr whose pars tree shown figur 31 increas size r 1 r 2 varianc output size also increas sinc output size queri random variabl depend output size r heurist procedur proce follow given iter system fit one follow scenario choos relat depend scenario increas fragment size relat comput risk taken risk accept queri evalu chosen fragment time insuffici 4 risk taken small 5 increas fragment size relat ffl associ oper high select 6 ffl lower pars tree ie away root 7 ffl involv expens oper ie timecost higher order eg 2 4 avail time less time taken evalu queri requir fragment 5 risk less 01 7 relat level 3 greater increas fragment size relat ffl associ oper whose select low ffl closer root pars tree ffl involv inexpens oper time insuffici risk taken high similar scenario 1 increas fragment size relat involv expens oper lower pars tree avail time less instead increas fragment size relat associ oper whose select high readi take larger risk scenario 3 avail time suffici risk taken small contrast scenario 2 increas fragment size relat lower pars tree involv expens oper involv oper whose select low time suffici risk taken high algorithm selectfragmentsq fi availabletim qm modifi queri previou iter fi risk taken next step availabletim time avail next iter modifi queri use present iter begin heuristicchooseq r fi availabletim fchoos relat r use heuristicg estimatedtim availabletim r empti begin estimatedtim 0 fchoos fragment f j r relat r fragment use previou iterationg previou qm replacefragmentq previou f j r f r qm replac fragment f r f j r queri qmg subqueri subq r 1 op r 2 subq op r 1 qm size r 1 r 2 known avail estim begin sel switch op case opo fop select operationg estimatedtim fr 0 output relat r 1 input relationg case op fop project operationg estimatedtim case union operationg estimatedtim fr 0 output relat r 1 r 2 input relationsg case intersect operationg estimatedtim case op 1 fop natur join operationg estimatedtim case differ operationg estimatedtim endfor fif select fragment entir relat choos anoth relat help heuristicsg heuristicchooseq previou r fi availabletim endwhil estimatedtim availabletim qmq previou fif estim time within avail time discard new fragment use previous found fragment could evalu within avail timeg figur 32 algorithm select fragment scenario increas fragment size relat lower pars tree involv oper high select involv expens oper 34 algorithm select fragment algorithm selectfrag given figur 32 outlin method use select fragment fragment select problem use heurist approach suggest section 33 algorithm procedur selectcost projectcost unioncost intersectioncost joincost return time estim correspond oper specifi section 43 algorithm heuristicchoos shown figur 33 specifi process choos relat base four scenario algorithm heuristicchooseqrfitimeleft arbitrari queri risk taken present iter avail current iter involv q taken evalu queri requir fragment begin switch cond begin case basetim fi 1 case basetim fi 1 case basetim fi 1 case basetim fi 1 endcas figur 33 algorithm choos relat base heurist algorithm lesstimelowrisk choos relat base scenario 1 avail time insuffici risk overspend small algorithm use three function name levelr return level relat pars tree operatorvalu return valu associ oper oper r directli valu depend time complex oper selectivityr return select r algorithm lesstimelowriskqselectedrel arbitrari queri relat involv q begin everi relat r q begin ifselectedrelationempti entir relat use process previou iter els els els endfor figur 34 algorithm choos relat modifi given scenario similar lesstimelowrisk procedur algorithm lesstimehighrisk moretimehighrisk choos relat base scenario 23 4 respect algorithm choosefrag choos fragment fragment set relat casedb use linear search find right fragment given relat follow algorithm choosefrag implement casedb algorithm choosefragmentf j r f r r fragment current use relat choos fragment new fragment chosen relat r f j oe f begin figur 35 algorithm choos fragment given fragment set algorithm calculateselplu implement comput sel oper p casedb arbitrari queri sel estim select previou i1 iter risk taken step assum larger select oper op valu chosen p sel total number point point space op given number tupl relat involv oper number point point space op step j number point includ previou i1 iter begin sel sel returnsel end figur 36 algorithm calcul sel iter queri evalu transform illustr iter queri evalu transform exampl exampl 41 consid queri q 2 exampl 21 assum evalu q 1 q 2 took 8 second still 2 second left time quota third step use risk 095 dbm choos evalu transform q 0 3 equival queri q 3 use q 2 follow fnametemperatur criticalstatusfurnac make two observ first two union oper right hand side equat 41 union two disjoint set therefor need duplic tupl elimin lead fast implement second implement relat fragment chain furnac temperatur actual maintainphys file f 0 gammag node thu evalu f 3 g 0 respect alreadi store databas avail lead fast implement q 3 2 consid singleoper queri input relat r casedb evalu q use fragment f r f ae f exampl 42 consid relat r relat fragment chain r assum alreadi evalu still time left time quota let f 2 next fragment chosen evalu qf 2 term qf 1 turn use evalu qf evalu qf i1 term qf done almost alway 8 follow algebra manipula tion qf i1 convert qf q 0 word use f f 0 evaluationtwo relat strictli smaller f i1 call f 0 i1 complement fragment f i1 iith union oper q 0 q union two disjoint set let us denot union two disjoint set call disjoint union let r two relat r pleas note disjoint union implement fast sinc unlik union requir duplic tupl elimin normal implement sort databasesan expens task therefor whenev possibl use disjoint union union illustr exampl exampl 43 let qr r relat fragment chain f respect assum previou iter qf evalu current chosen evalu q ie qf j1 evalu transform relat fragment chain r contain g 0 j1 comput store databas alreadi queri session start 2 8 except discuss 4 41 transform singleoper queri gener approach singleoper queri assum qf evalu qf k evalu let f ik denot f 0 k g jm denot g 0 ra oper evalu transform form list singleoper queri q transform project 42 transform multipleoper queri consid ra queri multipl oper pars tree eg ra queri pars tree shown figur 31 queri evalu step intern node pars tree associ output relat instanc obtain evalu oper node approach store use whenev possibl last instanc relat monoton queri approach quit effici 421 monoton queri assum ra express set differ oper ie monoton queri let output relat intern node pars tree obtain two consecut queri evalu step summar queri transform node pars tree let e e arbitrari ra express possibl relat evalu th step give e respect th step give e i1 respect relat fragment chain relat involv e e comput e 0 clearli e e unari oper case 2 f correspond qf jm section 41 respect use exactli transform given section 41 evalu e i1 e i1 e i1 exampl e avail transform 422 nonmonoton queri whenev set differ oper appear pars tree ie nonmonoton queri may two consecut output relat set differ oper result complic transform use comput thu make iter evalu costli note rs consecut evalu f 1 g 1 f 2 g 1 f 3 g 1 etc creat monoton increas output relat approach casedb subexpress e queri evalu e afterward evalu e e new fragment e e approach guarante consecut output relat set differ oper case comput use transform 43 timecost transform given oper choos transform compar cost formula transform oper briefli present cost formula pleas note chosen cost formula oper also use algorithm selectfrag estim iter time henc choos fragment use sequenti file sort key store fragment relat notat jf j denot number record f jjf jj denot number block use store f jjf jj use comput disk access cost sinc tupl readstor block fromto disk two way maintain intermedi result obtain iter evalu step either main memori evalu disk sinc use iter evalu method process fragment relat intermedi result repeatedli use iter step therefor keep intermedi result main memori final result obtain iter step kept disk follow give timecost transform union set differ one transform give time cost transform 1 smallest expect number disk access 2 smallest expect number comparison sinc queri evalu iter fashion comput cost tranform certain iter step among four equival transform union list section 41 transform u3 qf smallest time cost constant among three equival transform union list section 41 transform d3 qf smallest time cost constant transform constant constant use algorithm selectionf ik condit cost transform constant project use algorithm projectionf ik attribut cost transform constant 5 experiment result 51 implement casedb implement queri modif techniqu carri eram relat prototyp dbm 8 eram built top unix 43bsd oper system sun 360 workstat written c program languag casedb consist five basic modul name file manag modul perform function read write tupl relat mainten modul creat retriev updat destroy relat algebra modul execut algebra oper help file manag modul command interpret modul support relat complet queri languag relat mainten command lattic mainten modul execut command creat updat delet lattic ie simplest case fragment chain detail casedb implement 7 inform relat associ fragment chain store two differ dictionari basic structur dictionari divid page 9 end page pointer next avail space page pointer next page page number inform casedb complement fragment discuss section store two reason choic ffl queri modif techniqu use complement fragment transform discuss section entir fragment less amount space requir 52 creation input relat relat use experi first second attribut c 1 c 2 integ type third attribut c 3 charact type first attribut uniqu random integ key relat second attribut key relat use determin select oper distribut attribut uniform relat involv experi contain 5000 tupl tupl size 100 byte number tupl requir fragment alway 100 9 page 1024 byte number tupl complement fragment vari 100 200 relat index unless specifi otherwis 53 factor affect casedb factor affect perform casedb discuss risk probabilist risk overspend play import role select fragment list ie solv fragment select problem casedb depend risk given user sel give differ time estim differ risk valu lead select larger fragment risk higher smaller fragment risk lower b complement fragment size timecost costq function size input fragment sinc use complement fragment iter queri evalu step size complement fragment affect fragment select process c select select oper p affect select fragment relat involv p select p p either union intersect differ project select defin ratio number output tupl total number input tupl p natur join oper select p defin ratio number output tupl product input tupl expect time evalu function select thu chang select alter expect time time avail time increas input tupl use lead evalu origin queri 54 singl oper queri section present result singl oper queri see factor present earlier section affect perform casedb casedb normal use risk given user second iter third succeed iter casedb comput higher risk valu number iter reduc howev order see actual effect risk given user fi experi use risk fi iter exclud first iter follow tabl column risk denot risk overspend given user column selp denot sel select use timecost formula second iter explain previou section given queri timequota risk overspend casedb evalu queri substitut relat queri correspond requir fragment time left first iter casedb iter time avail small overspend time occur column itr denot total number iter queri gone includ iter avail time oversp column ptu percentag tupl use last iter overspend occur pt denot percentag tupl select use last iter note pt includ tupl use iter overspend might occur ptu pt column valu overspend occur ie casedb termin process could select fragment could use next iter evalu iter could complet within avail time given risk final ovsp repres amount time oversp second 541 select oper tupl complement fragment risk 100 150 200 selp itr ptu pt ovsp selp itr ptu pt ovsp selp itr ptu pt ovsp 3 sel 1 54 time10sec tabl effect risk singl select oper select queri follow form select rel c2 500 risk5 time10sec use experi rel relat name c2 second attribut relat vari select formula eg c2 500 obtain differ select select oper distribut c2 relat fragment chain uniform use uniform distribut given us consist valu select use calcul sel queri modif techniqu follow equat use comput sel equat seen increas risk overspend fi fi valu decreas therebi reduc sel sinc timecost function sel timecost decreas risk increas lead select larger fragment increas risk tabl 51 seen number tupl select process increas linearli risk except risk almost 1 999 risk fi almost 1 sel tend zero shown selp column lead select larg number tupl input tupl use time figur effect time singl select operation1500250035000 input tupl use 2nd iter risk5 time10sec 100 tuplesfragcomp figur effect select singl select oper select oper increas complement fragment size number tupl select increas linearli risk 07 percentag tupl select 19 205 23 complement fragment size 100 150 200 respect tabl 51 increas attribut cost disjoint union exampl use 1000 tupl tupl use first iter second iter 10 expect time use select fragment function sel need union lattic complement fragment size 100 5 disjoint union lattic complement fragment size 200 though disjoint union expens oper increas total time requir process iter avail time increas number input tupl select process also increas linearli figur 51 sinc compar expect time avail time expect time less equal avail time use fragment select avail time increas larger fragment select expect time would within avail time select i1 th iter use comput sel turn use comput expect time time cost th queri evalu step henc select iter affect select fragment next iter increas select i1 th iter increas sel turn increas expect time th queri evalu step therefor increas select size fragment use follow iter decreas linearli figur 52 542 natur join oper tupl complement fragment risk 100 150 200 selp itr ptu pt ovsp selp itr ptu pt ovsp selp itr ptu pt ovsp 3 sel 1 0008 time20sec tabl effect risk singl natur join oper experi conduct natur join oper second attribut relat use join attribut join attribut valu relat uniformli distribut test effect risk natur join oper complement fragment size 150 risk 001 3 5 7 999 percentag tupl select 305 335 35 35 36 respect data seen total number tupl select process linearli increas risk unlik select oper digress linear increas risk approach 1 increas number tupl select process show deviat linear increas linear increas attribut small valu natur join select risk fi tend 1 sel small actual select small valu chang expect time drastic select oper increas complement fragment size avail time risk remain number fragment select process increas even small increas select larger fragment select exampl chang 008 select 001 009 differ 200 tupl 543 project oper project oper relat project second attribut distribut second attribut relat fragment uniform2000400060008000 input tupl use time 200tuplescompfrag risk5 sel001 figur effect time singl natur join operation900110013001500 input tupl use 2nd iter select join oper first iter time10sec risk5 tuplesfragcomp150 figur effect select singl natur join oper tupl complement fragment risk 100 150 200 selp itr ptu pt ovsp selp itr ptu pt ovsp selp itr ptu pt ovsp 3 sel 1 087 time10sec tabl effect risk singl project input tupl use time figur effect time singl project operation5001500250035000 input tupl use 2nd iter select first iter figur effect select singl project oper tabl 53 see complement fragment size 100 risk 7 999 percentag tupl select process 32 34 respect though percentag tupl select risk 999 higher percentag tupl select risk 7 overspend avail time risk 7 note overspend risk 7 occur third iter total number iter risk 999 2 ie number tupl select second iter case 999 risk higher number tupl use second iter risk 7 deduc number iter reduc higher number tupl process risk fi increas number iter reduc use two result casedb design use higher risk valu third succeed iter irrespect risk given user case project oper increas avail time number tupl select process linearli increas select oper chang unlik join oper slope curv small figur 56 544 intersect oper intersect oper consid special case join oper return rel low number output tupl tupl complement fragment risk 100 150 200 selp itr ptu pt ovsp selp itr ptu pt ovsp selp itr ptu pt ovsp 3 sel 1 4 time20sec tabl effect risk singl intersect oper tabl 54 seen effect risk chang number tupl select minim ie variat number tupl select respect increas risk valu 2 12 14 complement fragment size 100 state begin section first attribut relat use experi key relat relat index unless specifi otherwis relat index disjoint union index relat result index relat expens union oper time cost formula made time read write tupl disjoint union process data sinc cost disjoint union equal cost union effect risk use write process cost tupl reduc figur 57 show effect time number tupl select intersect oper increas time number tupl select process increas linearli input tupl select time figur effect time singl intersect oper 545 union oper tupl complement fragment risk 100 150 200 selp itr ptu pt ovsp selp itr ptu pt ovsp selp itr ptu pt ovsp 3 sel 1 6 time20sec tabl effect risk singl union oper effect risk time variat test union oper like intersect oper cost disjoint union high tabl 55 show effect risk differ complement fragment size complement fragment size 200 risk 3 999 number tupl select process 14 16 respect 2 increas number tupl input tupl use time figur effect time singl union oper figur 58 show linear increas number tupl select process increas avail time differ oper tupl complement fragment risk 100 150 200 selp itr ptu pt ovsp selp itr ptu pt ovsp selp itr ptu pt ovsp sel 1 1 time20sec tabl effect risk singl differ oper experi similar union intersect oper conduct differ oper transform differ oper iter queri evalu complic union differ oper one note due nonmonoton differ oper might delet certain tupl output previou iter figur 59 show effect time singl differ oper avail time increas input tupl choosen process input tupl use time figur effect time singl differ oper tabl 56 show effect risk well complement fragment size differ oper consid percentag tupl select risk 7 complement fragment size 100 150 200 13 155 18 respect seen increas fragment size percentag tupl select risk time increas larger complement fragment number disjoint union reduc therebi reduc expect time higher number tupl select 56 multioper queri queri contain monoton oper union intersect join select project use experi experi mainli design test effect risk variat multioper queri relat use experi contain 5000 tupl 200 tupl per complement fragment base fragment contain 100 tupl tabl 57 tabl 58 seen increas risk valu number input tupl select evalu increas also note overspend avail time quota happen overspend occur total time oversp usual larg due complex natur timecost formula especi number oper queri increas sinc number tupl intermedi result depend select oper small discrep estim valu either overestim underestim timecost result either overspend risk itr ptu pt ovsp itr ptu pt ovsp 3 200 tuplescompfrag time30sec tabl perform casedb case multioper queri risk itr ptu pt ovsp itr ptu pt ovsp itr ptu pt ovsp 3 200 tuplescompfrag time100sec tabl perform casedb case multioper queri underspend time quota incorpor differ nonmonoton oper queri lead complic transform iter queri evalu current version casedb monoton properti preserv transform includ new tupl minuend differ oper second succeed iter solut effici process nonmonoton multioper queri subject anoth report 6 conclus futur work paper discuss nonaggreg queri process techniqu casedb realtim dbm present result experi conduct casedb analyz complex risk control method propos implement evalu heurist solut control risk overspend differ oper multioper queri preserv monoton properti therebi make transform evalu simpler achiev includ new tupl minuend differ oper first iter use risk factor user indirectli specifi aggress want get queri evalu larg input relat fragment possibl within time quota given risk high dbm becom bold choos larger input relat hand risk low dbm choos small input relat make sure queri oversp anoth way look risk factor queri hint dbm given hint level aggress choos fragment pleas note use risk control approach second queri evalu step make sure possibl lowerqu queri respons obtain first queri evalu step also note third step use high risk fourth step rare execut therebi control overhead introduc due iter queri evalu risk factor approach essenti queri modif techniqu priori runtim protocol user dbm evalu queri modifi version within qiven time quota riskbas approach introduc new paradigm realtim system dbm user addit time constraint ask specifi risk factor guid dbm decid aggress evalu queri second step note approach choic relat fragment complet semanticsbas henc chang basi applic therefor provid guidanc paper select fragment howev discuss experiment part size complement fragment influenc perform empir evalu paper studi timeconstrain queri make follow choic time constraint alway satisfi b queri evalu 4 queri evalu iter step minim overhead due iter c use risk factor approach second step attempt use risk close possibl lower end userspecifi risk choic ac experiment result section paper report perform approach term number paramet total number iter ii number tupl use iii percentag tupl use last iter overspend occur iv amount time oversp v amount time wast etc one certainli use abovelist paramet perform metric choos risk factor order desir valu abovelist paramet realtim databas transact complet given valu usual valu assign transact reduc time transact pass time deadlin view queri readonli transact valu assign complet queri sum valu accumul complet transact serv perform metric comparison approach valuebas model notion control revisionresc queri perhap valuebas approach extend ad queri modif way assign vari valu modifi version queri approach would requir guidanc user clear one would judg valu modifi queri also dbm would need addit guidanc perhap term valu modifi queri riskbas approach also use process realtim transact transact specifi option requir part subtransact dbm modifi transact downsiz make sure transact complet within deadlin current investig approach appendix proof theorem 1 2fsp ff 2 np sinc nondeterminist algorithm need guess fragment list f check polynomi time ff ff ff gamma ff transform first defin 01 knapsack problem consid finit set u set z posit integ u 2 u associ size su 2 z valu vu 2 z let b k two posit integ u 0 u 01 knapsack problem proven npcomplet remain npcomplet even suvu u 2 u 5 follow assum give transform 01 knapsack problem 2fsp ff construct set relat r j fragment list r j r j ff ff follow 1 set contain relat r number element un g 2 r j g 3 ff j bn u2u su 4 ff j transform take polynomi time prove exist set u 0 exist fragment list assum fragment list f exist construct u 0 follow f j f f properti k assum exist f ff ff ff gamma ff possibl f consid correspond construct follow f j f f 1 f satisfi condit ff ff sinc ff 2 f satisfi constraint ff gamma ff sinc sinc onetoon onto function invers set possibl f possibl subset u 0 u conclud exist u 0 k proof theorem 2 reduct 01 knapsack problem 2fsp ff 11 exactli reduct 01 knapsack problem 2fsp ff transform transform 01 knapsack 2fsp ff note monoton queri check fragment list show fragment list check correspond u 0 need check also given fragment list f construct correspond u 0 follow f j f f add consid three fragment list f 1 f 2 f 3 risk ff respect q monoton 1 ff ff 2 evalu ff 3 ff ff 2 u2u 0su sinc f 2 f 3 u2u 0su mean need check 3 2 ff 2 ff ff gamma ff 2 need evalu ff 1 ff 2 ff ff gamma ff mean need check u 0 1 conclud 2fsp ff npcomplet qed r gener framework queri modif estim record select estim use select databas perform evalu autom queri modif databas comput intractabilitya guid theori npcomplet set queri optim distribut databas system casedb system process realtim nonaggreg relat algebra queri implement extend relat databas manag system relat aggreat queri process techniqu realtim databas statist estim relat alegbra express process aggreg relat queri hard time constraint statist estim aggreg relat algebra queri process timeconstrain aggreg queri casedb statist profil estim databas system monoton improv approxim answer relat algebra queri objectori queri processor produc monoton improv approxim answer tr ctr sungkil lee gltekin zsoyolu distribut process timeconstrain queri casedb proceed fifth intern confer inform knowledg manag p279287 novemb 1216 1996 rockvil maryland unit state kyoungdon kang sang h son john stankov manag deadlin miss ratio sensor data fresh realtim databas ieee transact knowledg data engin v16 n10 p12001216 octob 2004 kyoungdon kang sang h son john stankov differenti realtim data servic ecommerc applic electron commerc research v3 n12 p113142 januaryapril amirijoo j hansson h son gunnarsson experiment evalu linear timeinvari model feedback perform control realtim system realtim system v35 n3 p209238 april 2007 nevzat hurkan balkir gultekin ozsoyoglu z meral ozsoyoglu graphic queri languag visual queri process ieee transact knowledg data engin v14 n5 p955978 septemb 2002 gultekin ozsoyoglu richard thoma snodgrass tempor realtim databas survey ieee transact knowledg data engin v7 n4 p513532 august 1995