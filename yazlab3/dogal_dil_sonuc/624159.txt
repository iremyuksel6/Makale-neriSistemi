virtual network transport protocol myrinet articl describ protocol generalpurpos cluster commun system support multiprogram virtual network direct protect network access reliabl messag deliveri use messag timeout retransmiss power returntosend error model applic automat network map protocol use simpl lowcost mechan exploit properti interconnect without limit flexibl usabl robust implement protocol activ messag commun system run network 100 sun ultrasparc workstat interconnect 40 myrinet switch progress microbenchmark demonstr good perform 42 microsecond roundtrip time 31 mb nodetonod bandwidth well scalabl heavi load grace perform degrad presenc high content b introduct microsecond switch latenc gigabyt per second scalabl bandwidth low transmiss error rate cluster interconnect network myrinet bcf95 provid substanti perform convent lo research support part arpa grant f3060295 c0014 california state micro program nsf infrastructur grant cda8722788 nsf graduat research fellow ship author contact cal area network properti stand mark contrast network environ tradit network internetwork protocol design exploit fea ture previou effort fast commun system produc number portabl commun interfac implement exam ple gener activ messag gam clm95 illinoi fast messag fm pkc97 plc95 real world comput partnershipss pm thi96 bip pt97 provid fast commun lay er constrain special commun layer environ exampl support singleprogram multipledata parallel program assum perfect reliabl network system achiev highperform oftentim par massiv parallel processor bring bodi work mainstream requir generalpurpos robust commun protocol use date commun interfac support client server parallel distribut applic multithread multiprogram environ ment implement use process schedul optim techniqu rather requir correct timeshar system implement provid protect direct applic access network resourc critic highperform fi nalli protocol enabl system provid reliabl messag deliveri automat handl infrequ noncatastroph network error support automat network manag task topolog acquisit rout distribut section 2 present core set requir cluster protocol state specif assump tion section 3 present overview system architectur briefli describ four layer commun system section 4 examin issu design decis pro tocol realiz system network interfac card nic firmwar section 5 analys perform result sever microbenchmark finish relat work conclus requir cluster protocol must support multiprogram ming direct access network applica tion protect errant program sy tem reliabl messag deliveri respect buffer overrun well drop corrupt packet mechan automat discov network topolog distribut valid rout multiprogram essenti cluster becom person supercomput commun system must provid protect applic isol respect traf fic perform requir direct network access bypass oper system common case oper system resili transient network error fault programm ought bother transient problem retransmiss mechan solv catastroph problem requir handl higher layer final system support automat network manag includ period discoveri network topolog distribut mutual deadlockfre rout pair function network interfac protocol architectur make number assumpt interconnect system first assum interconnect network latenc order microsecond link bandwidth gigabit rel error free second interconnect host interfac homogen problem interest commun within singl cluster network cluster internet system homogen elimin number issu handl differ network maximum transmiss unit packet format probe network oper paramet eg tcp slowstart guarante network fabric protocol use network interfac ident doesnt preclud use heterogen host endpoint host differ endian lastli maximum number node attach cluster interconnect limit enabl trade memori resourc proport number network interfac nic exchang reduc comput cost critic code path system limit maximum number nic 256 though would straightforward chang compiletim constant scale thousand 3 architectur system four layer 1 activ messag applic program interfac 2 virtual network system abstract network interfac commun resourc 3 firmwar execut embed processor network interfac 4 processor interconnect hardwar section present brief overview layer highlight import properti relev nicton transport protocol describ thoroughli section 4 31 amii api activ messag 20 amii mc96 provid applic interfac commun system allow arbitrari number applic creat multipl commun endpoint use send receiv messag use procedur interfac activ messag primit three messag type support short messag contain 4 8 word payload medium messag carri minimum 256 byte bulk messag provid larg memorytomemori transfer medium bulk messag data sent anywher sender address space commun layer provid pageabl storag receiv medium messag upon receiv medium messag activ messag handler pass pointer storag oper directli data bulk messag data deposit perendpoint virtual memori region region locat anywher receiv address space receiv identifi region base address length applic set clear event mask control whether semaphor associ endpoint post whenev messag arriv empti receiv queue endpoint set mask wait semaphor multithread applic option process messag eventdriven way isol messag traffic unrel applic done use perendpoint messag tag specifi applic outgo messag contain messag tag destin endpoint messag deliv tag messag figur 1 data path send receiv short medium bulk activ me sage short messag transfer use program io directli endpoint nic mem ori medium messag sent receiv use perendpoint medium messag stage area pageabl kernel heap map pro cesss address space medium messag singlecopi oper send host zerocopi oper receiv host bulk memori transfer current built use medium messag singlecopi oper sender singlecopi oper receiv match tag destin endpoint amii api provid integr returntosend error model applicationlevel error nonmatch tag catastroph network failur lose connect remot endpoint messag deliv destin return sender applic regist perendpoint error handler process undeliver messag implement recoveri procedur desir system return messag applic simpli retransmit messag highli unlik succeed 32 virtual network virtual network collect endpoint mutual address requisit tag necessari commun amii provid abstract view endpoint virtual network interfac virtual network view collect endpoint virtual interconnect onetoon correspond amii endpoint virtual network endpoint figur 2 processorn node virtual network layer provid direct network access via endpoint protect unrel applic ondemand bind endpoint physic commun resourc figur 32 illustr idea applic creat one commun endpoint use api function call virtual network segment driver creat endpoint address space seg ment page network interfac memori provid back store activ endpoint wherea host memori act back store less activ endpoint onnic endpoint cach endpoint map processs address space directli access applic network interfac thu bypass oper system endpoint manag use standard virtual memori mechan leverag interprocess protect enforc process run system applic may creat endpoint nic accommod local memori provid applic exhibit bursti commun behavior small fraction endpoint may activ time virtual network system take advantag virtual physic interfac resourc specif myrinet system use nic memori cach activ endpoint page endpoint nic ondemand much like virtual memori system memori page frame analog pagefault endpoint fault occur either applic write messag nonresid endpoint messag arriv nonresid endpoint endpoint fault also occur whenev messag sent receiv refer host memori resourc medium messag stage area arbitrari userspecifi virtual memori region send messag endpoint virtual memori segment receiv messag pin current dma map 33 nic firmwar firmwar implement protocol provid reliabl undupl messag deliveri nic protocol must address four core issu schedul outgo traffic set resid endpoint nic nic flow control mechan polici timer manag schedul perform packet retransmiss detect recov error detail nic protocol given section 4 protocol implement firmwar determin structur endpoint endpoint four messag queue request send repli send request receiv repli receiv queue entri hold activ messag short messag transfer directli resid endpoint memori use program io medium bulk messag use program io activ messag dma associ bulk data transfer figur 1 illustr data flow short medium bulk messag interfac medium messag requir one copi sender zero copi receiv bulk messag current implement use medium messag requir one copi sender one copi receiv code zerocopi bulk transfer exist suffici tested258146node3 switch switch id135node51id246165025node34166135node91 switch id136switch id136 id246id0246id146884036id146switchid136 switch id146switch switch figur 3 berkeley network topolog discov mapper network map daemon period explor discov network current topolog case fat treelik network 40 myrinet switch three subclust current connect use two switch use 11 cabl 34 hardwar system hardwar consist 100 sun ultrasparc workstat interconnect myrinet figur highspe local area network wormhol rout linklevel backpressur network use 40 8port crossbar switch 160 mb fullduplex link host contain lanai 41 network interfac card sbu nic contain 375 mhz embed processor 256 kb sram singl host sbu dma engin independ network send receiv dma engin show requir section 2 context amii virtual network myrinet influenc design implement nicton protocol key issu endpoint schedul flow control timer manag ment reliabl messag deliveri error handl make contribut protocol 41 endpoint schedul system support direct network access multiprogram nic new task endpoint schedul ie send messag current set cach endpoint situat differ tradit protocol stack tcpip messag applic pass layer protocol process multiplex ever reach network interfac messag stream differ applic aggreg nic servic share outbound inbound messag queue endpoint schedul polici choos long servic one endpoint endpoint servic next simpl roundrobin algorithm give endpoint equal minim servic time fair starvat free endpoint alway messag wait send algorithm might satisfactori howev applic commun bursti ltw93 spend equal time resid endpoint optim better strategi exist minim use critic nic resourc examin empti queue endpoint schedul polici must balanc optim throughput respons particular endpoint aggreg throughput respons time current algorithm use weight roundrobin polici focus resourc activ endpoint empti endpoint skip endpoint pend messag nic make attempt send paramet k hold even nic empti particular endpoint loiter host enqueu addit messag loiter also allow firmwar cach state packet header constant send messag endpoint lower perpacket overhead larger ks result better perform burst larg k degrad system respons multipl activ endpoint empir chosen k 8 42 flow control system flow control mechan two requir one hand allow adequ number unacknowledg messag flight order fill commun pipe sender receiv limit number outstand messag manag receiv buffer make buffer overrun infrequ steadi state sender never wait acknowledg order send data assum destin process schedul attent network given bandwidth b round trip time rtt requir allow least b delta rtt byte outstand data system address flow control three lev el 1 userlevel activ messag credit endpoint 2 niclevel stopandwait flow control multipl independ logic channel 3 network backpressur userlevel credit reli upon requestrepli natur amii allow endpoint k user outstand request wait respons choos k user larg enough endpointtoendpoint commun proce maximum rate prevent receiv buffer overflow endpoint request receiv queue larg enough accommod sever sender transmit full speed sender small number k user outstand request set request receiv queue small multipl k user feasibl addit mechan discuss shortli engag overrun occur protocol 8 kb packet bandwidth delay product 31mb byte less two 8kb messag short packet bandwidth delay product messag provid slack receiv optim arithmet comput k user round next power 2 4 nic must provid least number logic channel accommod number outstand messag discuss next 421 channel manag tabl two simpl data structur manag nicton flow control inform data structur also record timer manag error detect inform physic rout sourc destin nic overlay multipl independ logic channel row send channel control tabl figur 4 hold state channel particular destin interfac intersect column hold state particular logic channel implicit bound number outstand messag enabl implement trade storag reduc arithmet address comput two simpl easilyaddress data structur nic delta channel entri suffici linklevel backpressur ensur heavi load exampl one communi cation network drop packet creditbas flow control amii librari throttl individu sender prevent high con figur 4 nic channel tabl nic channel tabl provid easyaccess nic flow control timer manag error detect informa tion nic use stopandwait flow control channel manag commun state inform channel tabl entri send tabl left entri includ timer manag inform packet timestamp pointer unacknowledg packet number retri receiv sequenc inform next sequenc number use whether entri use receiv tabl right entri contain sequenc inform incom packet expect sequenc number tention common receiv also reli linklevel backpressur endtoend flow control remain effect overhead remain small trade network util load allow packet block consum link switch resourc simplic section 5 show hybrid scheme perform well 422 receiv buffer fast commun layer prevent buffer overrun dedic enough receiv buffer space accommod messag potenti flight p processor credit k outstand me sage singl endpoint per host requir system one endpoint made alloc k delta p storag prac tical howev larg scale system larg number commun endpoint requir k storag e number endpoint virtual network seriou scale storag util problem make prealloc approach impract storag grow proport virtual resourc physic one furthermor neglig packet retransmiss cost altern approach involv modest prealloc buffer packet retransmiss becom practic provid request respons receiv queue 16 entri 4 delta k user endpoint suffici absorb load four sender transmit maximum rate buffer overflow occur protocol drop packet nack sender system automat retransmit messag import consequ design decis virtual network segment driver use singl virtual memori page per endpoint simplifi memori manag activ 43 timer manag guarante reliabl messag deliveri commun system must perform timeout retransmiss packet timer manag algorithm determin packet retransmiss event schedul delet retransmiss perform send packet schedul timer event receiv acknowledg delet event send tabl entri period scan packet retransmit perpacket timer manag cost must small requir cost schedul retransmiss event send oper delet retransmiss event acknowledg recept neglig depend granular timeout quantum frequenc timeout event differ tradeoff exist shift cost perpacket oper retransmiss exampl use larger timer quantum low perpacket cost price expens retransmiss section 5 show hybrid scheme zero amort cost workload packet retransmit transport protocol implement timeout retri posit acknowledg interfac firmwar provid effici acknowledg minim expens sbu transact current perform obviou piggyback ack nack activ messag repli messag channel manag tabl store timeout transmiss state send packet involv read sequenc number appropri entri send tabl index destin nic free channel save pointer packet potenti retransmiss record time packet sent receiv nic look sequenc inform incom packet appropri receiv tabl entri index send nic id channel messag sent sequenc inform match receiv send acknowledg sender upon receipt sender updat sequenc inform free channel use new packet use simpl easilyaddress data structur nic delta channel en tri schedul delet packet retransmiss event take constant time retransmiss though nic perform nic delta work maintain unacknowledg packet count destin nic reduc cost signifi cantli send packet increment counter packet destin nic receiv associ acknowledg decrement counter count reduc retransmiss overhead proport total number network interfac 44 handl system address data transmiss error resourc avail problem three level nic tonic transport protocol amii api return tosend error model userlevel network manag daemon transport protocol build block higherlevel api error model network manag daemon depend transport protocol handl transient network error detect drop erron packet reli upon timeout retransmiss recoveri 255 retransmi sion ack nack receiv protocol declar messag undeliver return amii layer reliabl messag deliveri timeoutretransmiss mechan requir send interfac copi unacknowledg messag anyway amii librari invok perendpoint error handler function applic may take appropri recoveri action 441 transient error posit acknowledg timeout retransmiss ensur deliveri packet valid rout data packet drop corrupt protocol control messag well ensur data control packet never deliv destin despit transmiss tag sequenc number timestamp maximum 2 k outstand messag detect duplic requir sequenc number alternatingbit protocol independ logic channel 442 unreach endpoint nic determin destin endpoint unreach reli upon timeout retransmiss mechan 255 retri ie sever second nic receiv ack nack receiv protocol deem destin endpoint unreach happen protocol mark sequenc number channel uniniti return origin messag back userlevel via endpoint repli receiv queue applic handl undeliver messag would activ messag userspecifi handler function rout destin nic exist endpoint trivial unreach 443 network manag system use privileg mapper daemon one interfac node system probe discov current network topol ogi given current topolog daemon elect leader deriv distribut set mutual deadlockfre rout nic system mcs97 discov topolog sourcerout cutthrough network anonym switch like myrinet requir use network probe packet may potenti deadlock messag network henc map myrinet induc deadlock produc truncat corrupt packet receiv interfac result switch hardwar detect break deadlock even hardwar work perfectli transport protocol perspect mapper daemon perform two special function 1 send receiv probe packet applicationspecifi sourcebas rout discov link switch host 2 read write entri nic rout tabl special function perform use privileg endpoint avail privileg process 444 virtual network issu virtual network introduc new issu reliabl undupl messag deliveri endpoint may nonresid dma resourc set medium messag stage area packet may need retri unavail sourc endpoint unload host memori nic must cope late duplic acknowledg arriv nonresid endpoint transport protocol acknowledg oper upon send receiv tabl entri endpoint protocol must ensur channel tabl state remain consist load unload endpoint packet success written destin endpoint return posit acknowledg ack sender receiv ack free correspond send channel resourc nack notifi sender transmiss error unavail receiv resourc receiv nack caus sender note receiv feedback receiv timeout retransmiss mechan resend packet simplic design use singl retransmiss mechan packet chosen use sequenc timeoutretri base multipl independ logic channel ack nack manag send receiv channel tabl state physic resourc consequ time endpoint unload nic care must taken flush ack nack potenti linger network send queue remot nic requir outstand packet posit af firm acknowledg unload start point endpoint outstand messag immedi unload endpoint outstand messag wait outstand messag ack packet posit acknowledg endpoint un load guarante transmit packet success written destin endpoint fifo messag deliveri know duplic ack may retransmit immedi follow use channel sequenc number first ack new packet sent channel use new sequenc number acknowledg ack new sequenc number seen requir messag receiv ack thu flush previou duplic ack may exist network receiv nic send queue howev destin node experi load endpoint unload outstand messag may packet receiv ack goal delay endpoint unload oper ensur old ack nack corrupt channel state toward goal receiv latest nack reflect result latest retransmiss good receiv ack requir nack recent one necessari avoid case nack receiv endpoint unload ack origin messag success written arriv determin sender receiv latest nack done use 32bit timestamp packet retransmiss carri sender timestamp nack echo timestamp back sender endpoint improv scheme requir packet either receiv ack latest nack unload 5 measur perform section present seri benchmark analyz system first microbenchmark character system term logp commun model lead comparison previou gener activ messag system understand cost ad function next benchmark examin perform host vari degre destin endpoint content conclud examin system perform number activ virtual network increas program run berkeley network workstat system standalon environ ment topolog acquisit rout daemon disabl elimin background commun activ normal present 51 logp character logp commun model use four paramet character perform commun layer parameter enabl comparison differ commun layer consist framework microbenchmark facil clm95 deriv model paramet l latenc overhead gap g number processor p given overhead two compon send overhead receiv overhead r send receiv overhead measur time spent processor issu handl messag gap measur permessag time ratelimit stage communicationsystem latenc accumul time account overhead logp paramet comparison time microsecond gam 190 400 580 550 2100 amii 409 428 1598 1260 4194 os g l rtt515253545 compon gap latenc rtt time microsecond protect 105 112 221 reliabl 533 112 228 baselin 960 1036 3745 gap latenc rtt figur 5 perform character use logp model top graph show logp paramet measur older current activ messag system hardwar platform figur 5 show logp character ii new generalpurpos activ messag system virtual network error model com parison also show paramet gam earlier activ messag system spmd parallel program lack virtual network error model featur found new system amii figur show contribut protect check mechan reliabl messag deliveri well retransmiss add fundament cost commun amii roundtrip time 42 microsecond compar gam roundtrip time 21 mi crosecond 21 microsecond spent direct amii 41 spent find write messag descriptor endpoint 41 spent read messag endpoint ceiver two network interfac spend total 126 microsecond inject eject messag network care condit compil inclus individu protocol compon network interfac firmwar allow us measur perform impact addit cost appear gap attribut nicton transport protocol beyond baselin 960 microsecond gap reliabl includ cost posit acknowledg messag contribut 53 addit microsecond protect check requir generalpurpos multiprogram environ add anoth 1 microsecond gap timer retransmiss mechan add unmeasur small cost coars granular network reliabl time scale necessari take measur ment beyond baselin 104 microsecond latenc reliabl contribut 11 addit microsecond protect check add anoth 11 microsecond timer retransmiss protocol mechan add measur latenc comparison show gap specif network interfac firmwar limit amii short messag rate wherea send receiv overhead limit gam short messag rate although case microbenchmark use small activ messag 4word payload amii send overhead larger addit inform capabl store network interfac across sbu amii gap also larger firmwar construct privat header messag untouch applic sent use separ dma oper requir addit firmwar instruct memori access 52 contentionfre perform figur 6 show endpointtoendpoint bandwidth two machin use cachecoher stream sbu dma transfer nic dma messag network local memori storeandforward delay introduc larg messag move data host memori interfac although current network interfac firmwar pipelin bulk data transfer elimin de lay stream transfer nevertheless reach 31 mb 4kb messag consist dma transfer reach 23 mb 8kb messag gam pipelin increas bulk transfer perform maximum 38 mb differ consist stream dma transfer rest whether hardwar buffer sbu messag size byte bandwidth mb consist dma stream dma figur send bandwidth function messag size byte consist hostton dma oper across sbu higher perform small transfer stream transfer obtain higher perform data transfer time swamp cost flush hardwar stream buffer sbu bridg chip adaptor kept consist automat memori transact manual via system call upon complet transfer perm avg bw agg bw avg rtt us neighbor 3097 mb 285 gb 475 us bisect 565 mb 052 gb 508 us tabl 1 tabl show aggreg bandwidth averag round trip time 92 node differ messag permut cshift permuta tion node send request right neighbor repli request receiv left neigh bor neighbor adjac node perform pairwis exchang bisect pair node separ network bisect perform pairwis exchang bandwidth measur use medium messag wherea rtt measur use 4word activ messag tabl present three permut result aggreg send bandwidth averag perhost send bandwidth permessag roundtrip time run 92 machin column show bandwidth scale system reach nontrivi size first two permut circular shift neighbor exchang commun pattern substanti network local expect case perform well bandwidth near peak permessag roundtrip time within factor 2 op timal bisect exchang pattern show larg number machin satur bisect bandwidth refer figur 3 see network topolog small number bisect cabl addit switch network cabl order increas bisect 53 singl virtual network next three figur show perform commun subsystem presenc con tention specif host send common destin host traffic destin common host also destin end point reason becom clear host common destin refer server host refer clients100003000050000700001 7 13 19 25 31 37 43 sender messag rate msgssec aggreg msg rate avg sender rate figur 7 activ messag rate destin endpoint content within singl virtual network figur 7 show aggreg messag rate server top line number client send 4word request receiv 4word respons messag increas addit show averag perclient messag rate bottom line number client increas 92 figur 8 present similar result show sustain bandwidth bulk transfer server number client send 1kb messag receiv 4word repli averag perclient bandwidth grace fairli degrad conjectur fluctuat server aggreg messag rate bandwidth aris acknowledg repli messag encount congest name request also destin server variat persend rate sender bandwidth mb aggreg bw avg sender bw figur 8 deliv bandwidth destin endpoint content within singl virtual network200600100014001 5 9 13 17 sender averag round time figur 9 roundtrip time destin endpoint content within singl virtual network bandwidth small observ print page figur 9 show averag perclient roundtrip time number client grow host slope line exactli gap measur logp microbenchmark 54 multipl virtual network extend previou benchmark stress virtual network first increas number server endpoint maximum 7 cach interfac memori continu increment add endpoint increasingli overcommit resourc thu rather client share common destin end point client endpoint dedic server endpoint n client server process n differ endpoint one pair differ client result n differ virtual network contain client messag within virtual network guarante messag virtual network make forward number client messag rate msgss server client figur 10 aggreg server perclient messag rate small number virtual network figur show averag server messag rate perclient messag rate error bar five minut interv number client continu make request server vari one seven rang network interfac seven endpoint frame accommod server endpoint scenario stress schedul outgo repli multiplex incom request server result show server messag rate within 11 theoret peak 62 578 messag per second given measur logp gap 1598 microsecond perclient messag rate within 16 ideal fair share 1nth server put steadi server perform grace respons system increas load demonstr effect oper flowcontrol endpoint schedul multiplex mechan throughout system figur 11 extend scenario shown figur one import differ server host figur 10 singlethread process poll endpoint roundrobin fashion extens number busi endpoint exce network interfac capac virtual network system activ load unload endpoint interfac memori ondemand fashion server attempt write repli messag nonresid endpoint request arriv nonresid end pagefault occur virtual network number client messag rate msgss server client figur 11 aggreg server perclient messag rate larg number virtual network driver move back storag remap endpoint page necessari howev time server process suspend thu neither send receiv addit messag messag arriv nonresid endpoint endpoint reloc nack would result signific perform drop interfac endpoint frame becom overcommit extend scenario avoid pitfal block server spawn separ thread solari lwp per client endpoint server thread wait binari semaphor post commun subsystem upon messag arriv caus endpoint receiv queue becom nonempti addit messag may deliv endpoint server thread sched ule run server thread disabl messag arriv event process batch request reenabl arriv event wait semaphor apart natur way write server approach allow larg number server thread suspend pend resolut endpoint page fault server thread resid endpoint remain runnabl activ send receiv messag result show event mechan thread overhead degrad peak server messag rate 15 53 488 messag per second variat averag perclient messag rate across five minut sampl interv remain small variat messag rate client increas load client rate 40 higher averag other 36 lower averag finergrain time seri analysi shown client commun rate reveal expect havior client resid server endpoint burst messag rate shown figur 10 other send messag endpoint becom resid appropri server thread schedul client miss turn send appreci number messag server thread schedul 6 relat work recent commun system categor support virtual network interfac commun resourc posit multiprogram error handl gam pm fm use messagebas api littl support multiprogram gam canon fast activ messag layer pm fm add support gangschedul parallel program system driven primarili need spmd parallel comput ing support mpi portabl mpp fm handl receiv buffer overrun ignor type network error none system explicit error model hinder implement highlyavail nonscientif applic shrimp unet hamlyn closer system system provid direct protect access network interfac use techniqu similar found applic devic channel dpd94 shrimp project use virtual memori map commun model run multipl applic preliminari multiprogram result unet unetmm support multiprogram hamlyn present vision senderbas commun abl support multiprogram demonstr result use pingpong style benchmark import distinct previou work lie virtual network interfac commun resourc shrimp level indirect use coupl virtual memori commun effect virtual network unet provid virtual interfac leav rout buffer manag reliabl messag deliveri protocol issu higherlay hamlyn allow process map contigu region nicaddress host memori address space messag area afford level indirect allow system virtual network interfac posit taken virtual direct impact error model event error shrimp hamlyn deliv signal process unet deleg respons provid adequ buffer resourc condit traffic higherlevel protocol drop packet resourc unavail conclus bring direct protect commun mainstream comput requir generalpurpos robust commun protocol paper introduc amii api virtual network abstract extend tradit activ messag reliabl messag deliveri simpl yet power error model support use arbitrari sequenti parallel program paper present design nicton transport protocol requir gener sy tem myrinet implement measur cost gener rel gam minim activ messag layer hardwar particular explor cost associ endpoint schedul flow control timer manag reliabl messag deliveri error handl use logp commun model measur basic paramet system implement achiev endtoend latenc microsecond short activ messag peak bandwidth 31 mb number repres twice end end latenc 77 bandwidth provid gam cost reliabl messag deliveri make signific contribut basic commun cost use addit benchmark demonstr protocol provid robust perform grace degrad virtual network ab straction even physic network interfac resourc overcommit factor 12 benchmark demonstr feasibl truli virtual network interfac resourc show import support multithread applic nicton protocol discuss paper perform well enabl divers set time research effort research berkeley activ use system investig explicit implicit techniqu coschedul commun process dac96 essenti part highperform commun multiprogram cluster uni multiprocessor server relat work cluster smp lmc97 investig use multipl network interfac multiprotocol activ messag layer impact packet switch network gigabit ethernet cluster interconnect protocol open question eager examin extent exist protocol mechan polici appli new regim acknowledg research support part arpa grant f3060295c0014 california state micro pro gram professor david e culler nsf presidenti faculti fellowship ccr9253705 nsf infrastructur grant cda8722788 nsf graduat research fellowship nation seminconductor corport graduat research fellowship would like thank rich martin provid valuabl feedback earlier version paper would also like thank eric anderson discuss special especi andrea arpacidusseau comment suggest improv paper r case network workstat two virtualmemori map virtual network interfac design gigabit per second local area network implement hamlyn sender manag interfac archi tectur logp perform assess fast network interfac effect distribut schedul parallel work load experi highspe network adap tor softwar perspect interfac messag processor arpa comput net work selfsimilar natur ethernet traffic activ messag applic program interfac commun subsystem organ hpam activ messag layer network hp workstat system area network map ping high perform messag workstat illinoi fast messag fm myrinet protocol design high perform network ing myrinet experi pm highperform commun librari multius parallel environ activ messag mechan integr commun com putat tr ctr han eberl nil gura separ highbandwidth lowlat commun cluster interconnect clint proceed 2002 acmiee confer supercomput p112 novemb 16 2002 baltimor maryland gang qu miodrag potkonjak techniqu energi minim commun pipelin proceed 1998 ieeeacm intern confer computeraid design p597600 novemb 0812 1998 san jose california unit state jinsoo kim kangho kim sungin jung build highperform commun layer virtual interfac architectur linux cluster proceed 15th intern confer supercomput p335347 june 2001 sorrento itali matt welsh anindya basu xun wilson huang thorsten von eicken memori manag userlevel network interfac ieee micro v18 n2 p7782 march 1998 thorsten von eicken werner vogel evolut virtual interfac architectur comput v31 n11 p6168 novemb 1998 evan speight hazim abdelshafi john k bennett realiz perform potenti virtual interfac architectur proceed 13th intern confer supercomput p184192 june 2025 1999 rhode greec alan mainwar david e culler design challeng virtual network fast generalpurpos commun acm sigplan notic v34 n8 p119130 aug 1999 stephan brauss martin frey martin heimlich andrea huber martin lienhard patrick mller martin nf josef nemecek roland paul anton gunzing effici commun architectur commod supercomput proceed 1999 acmiee confer supercomput cdrom p19e novemb 1419 1999 portland oregon unit state philip buonadonna andrew gewek david culler implement analysi virtual interfac architectur proceed 1998 acmiee confer supercomput cdrom p115 novemb 0713 1998 san jose ca