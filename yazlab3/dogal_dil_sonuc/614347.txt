realtim photorealist visual flythrough abstractin paper present comprehens flythrough system gener photorealist imag true realtim high perform due innov render algorithm base discret ray cast approach acceler ray coher multiresolut travers terrain well 3d object repres textur map voxelbas model system base pure softwar algorithm thu portabl first implement workstat port generalpurpos parallel architectur achiev realtim perform b introduct quest realtim photorealist render one major goal 3d comput graphic recent year techniqu ad realism imag shade shadow textur transpar develop gener realist imag realtim current research flight simul applic alway led way realtim perform 3 specialpurpos machin dedic flight simul develop machin gener imag reason realism realtim expens million us dollar 7 15 main contribut work present paper realtim perform achiev commerci generalpurpos parallel architectur oppos special render hardwar gener imag arbitrari complex scene within reach current technolog howev rate imag gener flight simul achiev realtim scene view sky complex typic view contain terrain mere 25d 3d object seen rel simpl featureless object nevertheless simul photorealist aerial view realtim mean easi 10 term visual flythrough distinguish flight simul visual flythrough gener simul imag seen video camera attach fli object camera gener photorealist imag although necessarili color sinc mani video camera greylevel output emphas gener true photorealist imag critic applic user need recogn area identifi object ground ie target mission rehears see photorealist impress imag present figur 1 typic flythrough scenario camera view larg area especi camera pitch angl high ie toward horizon mani applic camera fli high speed long distanc area cover second flight vast suggest possibl load entir terrain data onto main memori applic even gigabyt ram enough safe say size ever suffic sinc applic demand alway increas accord avail space suggest flythrough requir larg secondari storag togeth fast page mechan imag aerial view gain realist impress map digit photograph onto terrain model order achiev high qualiti full resolut digit terrain model correspond aerial photograph need employ caus major load convent graphic hardwar base geometr pipelin first high resolut polygon terrain model contain vast number polygon need process geometr pipelin process tini polygon lose costeffect raster hardwar high resolut photograph need texturemap raster creat problem sinc larg photograph map need load onto expens cach exampl realityengin board hold kilobyt textur 1 larger textur need page main memori realtim 8 avoid mani flight simul use repetit pattern ground textur applic specif target area vital requir true photograph map terrain photograph huge must load fli raster hardwar form seriou bottleneck render pipelin instead use polygon model geometr pipelin favor softwar solut model repres voxelbas represent texturemap photograph model preprocess stage decoupl render stage 9 voxelbas model also lend repres fine grain geometri voxel data regular intern repres array offer easi fast access data 5 voxel repres store discret local attribut model voxel repres terrain contain height valu color valu voxel repres 3d model contain textur photograph describ section 5 voxelbas visual flight simul realtim perform develop hugh train inc flight simul run special purpos hardwar yield poor result graphic workstat 15 visual flythrough develop hardwar independ thu portabl portabl import sinc enabl integr flythrough system rapid progress hardwar platform howev softwar render algorithm must fast enough around second two per frame run sequenti machin parallel machin processor achiev rate higher 20 frame per second figur 1 two aerial photorealist imag gener flythough cours assum littl overhead impos parallel version algorithm although employ parallel machin real time perform mainli due innov render algorithm new algorithm gener photorealist imag figur 1 within two second common workstat implement parallel version algorithm 32way multiprocessor architectur sped render achiev desir realtim rate note hard ware independ ray cast algorithm reach reason speed 13 5 11 point sampl avoid alias artifact quit involv time costli algorithm present resembl principl project algorithm 15 howev algorithm base forward map method design implement hard ware algorithm present next section simpl ray cast figur 2 imag footprint terrain defin view paramet forward map acceler ray coher multiresolut travers highli optim hardwar independ implement remaind paper structur follow section 2 describ render algorithm section 3 present ibm power visual system current parallel platform parallel algorithm implement detail concern parallel algorithm result discuss gener voxelbas object section 5 conclud brief discuss current activ final remark 2 render algorithm sequenc imag gener render algorithm independ imag defin locat camera 3d space camera field view orient name pitch roll yaw angl imag resolut figur 2 depict imag footprint defin project imag frame terrain terrain model repres voxelbas map gener discret elev map color correspond aerial photo map render algorithm base backward map approach known ray cast imag gener cast rayofsight eman viewpoint imag pixel toward model see figur 3 ray travers figur 3 discret ray cast voxelbas terrain terrain voxel intersect terrain terrain color sampl map back sourc pixel sinc model discret explicit intersect calcul sequenti search hit ray voxel speed ray travers crucial achiev realtim perform techniqu employ base discret grid travers step along ray perform project ray plane rather 3d height along ray increment uniformli sampl compar height terrain hit occur color terrain hit point map back sourc pixel hit background color sky map appar naiv travers flat 12 contrast hierarch travers 5 5 pyramid elev map use multiresolut pyramid treat hierarchi bound box ray travers recurs topdown travers number step hierarch travers proport height pyramid binari pyramid use number step logarithm terrain length rather linear terrain size case flat travers figur 4 assum terrain cave ray eman previou hit point algorithm base increment flat travers shown ray hierarch travers sinc terrain height field map assum terrain model vertic caviti overhang ie vertic line one intersect terrain travers acceler use ray coher 6 11 basic idea long camera roll ray cast pixel vertic adjac alway hit terrain greater distanc viewpoint ray imag pixel gener column column bottom top ray eman ray alway travers distanc shorter distanc ray see figur 4 thu ray travers distanc equal rang previou hit ray featur shorten ray travers consider total number step requir gener one column equal length column footprint elimin factor number pixel column word naiv gener one column time complex oml l length column footprint number pixel imag column use ray coher time complex reduc ol provid order magnitud speed ray eman bottom column gain previou hit thu acceler hierarch travers 5 use vertic ray coher consecut ray terrain voxel virtual travers time complex travers proport number voxel imag footprint still huge number sinc imag footprint extend horizon moreov number viewdepend caus instabl frame gener rate due perspect project ray diverg distanc cau figur 5 multiresolut travers voxel map resolut correspond sampl rate ing nonuniform sampl rate terrain voxel ray ray eman bottom imag frame hit terrain closer rang upper ray assum terrain dataset repres singl resolut close voxel tend oversampl far voxel undersampl use hierarchi data resolut improv sampl sinc ray adapt travers sampl voxel appropri size proport pixel footprint see figur 5 optim everi step one pixel gener multiresolut travers voxel sampl rate becom proport number ray ie pixel number step becom independ view direct number step terrain order imag space rather object space thu adapt hierarch travers speed render also help stabil frame gener rate implement use pyramid data resolut level half resolut level use resolut even success sens uniform sampl would use space anoth advantag binari pyramid simplic altern consecut level step size either multipli divid two take advantag integ arithmet travers 5 moreov pyramid offer fast first hit first ray eman bottom row pixel array ray benefit coher previou ray ray topdown travers hierarchi speed first hit 5 one import issu must taken care realtim hierarch render creat soft transit switch level sharp transit notic caus alias effect wave sweep terrain simpl solut interpol adjac hierarchi 14 interpol weight defin distanc viewpoint sampl voxel sinc rang gradual chang weight caus soft transit synthet object tree build vehicl place terrain 3d object repres stick run voxel three type uniform stick color singl color like terrain voxel textur stick contain vertic sequenc color voxel complex stick textur stick contain semitranspar fulli transpar voxel see 15 synthet object describ set adjac stick ray hit textur stick climb onto stick map back stick textur screen semitranspar valu encount secondari ray continu voxel result secondari ray blend valu primari ray accord valu semitranspar voxel mani case transpar valu indic caviti stick case blend perform color secondari ray directli map pixel sinc caviti caus spawn secondari ray clear slow render process one way reduc caviti fill coars resolut assum caviti small enough contribut final imag insignific one note typic scene small fraction stick need complex exampl view wood tree boundari need fulli repres non convex part tree hidden top seen typic scene contain mani replic object place differ locat orient thu mani stick common mani object complex voxel contain pointer instead color point stick tabl stick consist header sequenc valu header contain sever attribut like stick type stick length 21 basic algorithm section present detail basic algorithm gener singl column imag algorithm base fast travers column footprint terrain voxel along footprint test visibl color visibl one sampl map back imag column pseudocod shown figur 7 let e locat eye p locat column pixel parametr equat ray eman e pass p e denot ray direct given x coordin along ray explicitli given assum ray x major ie qx qy sequenc voxel coordin x along q gener forward differ evalu line equat z signqx use fix point arithmet integr coordin denot byc retriev shift oper binari represent fraction part use linear interpol sampl point see hit ray q terrain detect compar heightx byc height terrain x byc z z heightx byc x z increment updat otherwis hit detect terrain color x byc sampl map pixel p j process proce next ray q j1 eman p j1 sinc terrain height field ray q j1 hit terrain reach hit point algorithm continu evalu sequenc x coordin height need compar height ray q j1 see figur 6 slope qzqx height imag plane figur climb hit point ray q ray q ray q j1 x evalu equat 3 note small error introduc sinc plane defin ray eman column imag plane perpendicular main plane may slightli slant due perspect project howev field view small say degre error insignific let e locat eye let p locat bottom pixel column let vector direct imag column let e direct ray eman p assum qx qy e terrain let n distanc x end terrain n f reach end terrain z heightx bycf test hit yield subvoxel weight sampl voxel back map result column done return move next pixel climb new ray move next voxel along ray x signqx move along major axe qyqx increment updat coordin z qzqx increment updat ray height n sky seen color rest pixel sky color figur 7 integ base increment travers function samplex byc w sampl terrain color integ coordin x howev resolut fix point valu higher voxel space fraction valu denot w yield subvoxel locat hit point exact hit point lie vertic grid line x byc x byc 1 see figur 8 thu voxel color x byc linearli interpol w sinc size doubl step size figur 8 sampl alway vertic grid line w indic subvoxel vertic sampl locat switch doubl step size must occur even step pixel footprint size voxel simpl filter satisfactori travers algorithm switch lower resolut point sinc step unit size along major direct rather simpl doubl step size respect ray vector slope preserv properti step alway integ coordin major axe switch doubl step size lower resolut must occur even step current resolut see figur 8 switch lower resolut occur distanc voxel footprint imag narrow pixel word avoid undersampl voxel sinc vertic field view equal horizont field view consid horizont one allow vertic oversampl undersampl occur rare case particular view pitch angl low ie shallow pixel footprint tend elong may caus signific undersampl vertic supersampl pixel compens elong footprint costli sinc requir access larger number voxel implement variat supersampl pixel supersampl parallel ray relax assumpt ray cast singl pixel parallel enabl effici implement without signific loss qualiti 3 parallel implement sequenti implement render algorithm deliv desir realtim rate contemporari workstat vital use power parallel machin speed render also support process larg databas applic requir fli thousand squar kilomet includ mani 3d object take account hierarch data structur total amount data 35 gigabyt see moreov relev data ie imag footprint must continu load main memori thu machin need larg first secondari memori high speed channel requir need support machin high speed larg storag capac larg bandwidth buss howev postprocessor use acceler imag gener rate enhanc imag qualiti describ block diagram system illustr figur 9 ibm power visual system pv parallel machin describ control ibm rs6000 support processor also serv connect extern world read command user control stick send control command pv post render processor prp see ethernet lan imag gener pv sent via hippi 100mbsec channel prp display standard ntsc monitor 31 ibm power visual system ibm power visual system pv design provid comput power highspe memori io realiz larg amount complex data pv share memori architectur consist parallel process unit 25gb intern local global memori architectur consist eight processor card processor card consist four processor element compos intel i860xr i860xp microprocessor oper 40 45 mhz processor storag consist 16 mbyte local memori per processor global memori increas 2048 mbyte global memori consist four memori card card design disk array support processor monitor bu interfac rs6000 post render processor memori scsi interfac interfac hippi 2gb 512mbcard share memori system interfac pv 100mbsec control stick system bu ethernet figur 9 block diagram system provid data bandwidth 640mbsec 720mbsec accomplish partit memori four interleav memori bank perform memori read write thu reduc latenc improv throughput addit interleav card multipl memori card system scsi interfac card four fastwid peak 20 mbsec control use connect disk array use scsi disk reduc system price promis upgrad pv strip data control give throughput 70mbsec thu contain databas load memori fast enough pv also provid mean produc output frame realtim video control attach via hippi channel server includ two logic distinct frame buffer total capac 32mb first 8bit buffer use workstat graphic text xwindow system 24bitpixel doublebuff full color rgb imag buffer hdtv resolut 32 implement detail render task partit among processor one select arbitrarili oper master rest slave master processor among mani task set view paramet next frame includ new posit camera orient accord trajectori flight gener imag treat pool column slave processor render one column pixel atom task soon slave termin render one column pick new column pool access pool monitor semaphor oper provid pv librari semaphor forc exclus access pool one processor time pick column moreov soon last column frame pick gener free processor start gener first column next frame use strategi processor kept busi perfect load balanc although pv contain much two gigabyt ram databas load entir main memori entir databas store disk array relev section ie imag footprint load dynam memori terrain databas partit small squar tile accord view paramet master draw rectangular frame imag footprint terrain make sure tile fall frame footprint alreadi memori load miss tile diskarray sinc footprint chang increment tile need load frame larg configur main memori consist two gigabyt contain size one frame footprint thu use extend footprint tile larger footprint would otherwis load next frame thu extend footprint save mani critic load tile load actual prefetch presenc critic correct render current frame mechan found effici treat fast chang camera much one entir field view per second pitch 32p 16p 8p 4p 2p 146 110 54 25 11 036 tabl 1 frame per second fp gener pv function number processor line tabl show fp sampl differ pitch angl 33 result quantit result present tabl 1 frame gener rate pv measur three differ angl differ number processor rate acceler prp achiev steadi frame rate per second howev number learn perform algorithm first linear speed achiev number impli doubl number processor frame gener rate doubl one processor dedic master processor second observ depend perform pitch angl pitch angl get smaller frame gener rate decreas small pitch angl frame footprint extend howev sinc use hierarchi size footprint bound note speed qualiti tradeoff scale pixeltovoxel ratio possibl speed frame gener rate voxel use scale footprint size voxelwis decreas cours pixeltovoxel ratio increas voxel oversampl imag blur howev ratio use tool tune qualiti imag frame gener rate guarante prp typic databas consist larg terrain ten target area global terrain 1 meter resolut playground 55x80 squar kilo meter 45giga voxel voxel four byte thu size global terrain 176 gigabyt ad hierarchi requir third 59g thu 235g byte total target area consist three level detail 25x25 squar kilomet 05 meter resolut 125 125 squar kilomet 025 meter resolut 625 625 squar meter 125 centimet highest resolut singl target area databas size byte hierarchi need coarser level given global terrain assum exampl 40 target area requir 12g byte total 35g byte need terrain data 3d object consum space typic object requir 15m byte mention true color need grey level databas would almost doubl size 4 post render processor imag gener pv asynchron sinc rate depend view direct frame creat rate 1015hz imag ntsc video signal produc imag field evenodd ntsc row transmit rate interlac field contain last frame gener pv human eye would detect jump everi time frame chang achiev smooth sequenc imag irrit eye necessari gener frame synchron rate idea simul small chang camera posit 2d transform appli last frame avail howev unlik interpol method 2 imag need extrapol imag digit warp fli respect fli trajectori warp done use machin maxvideo serv post render processor also use 2d function automat gain control agc filter scale roll imag emphas interpol avail frame possibl sinc would caus small critic latenc accept realtim system realtim feedback vital extrapol imag may minor differ next real frame howev sinc fli trajectori known rel smooth transit extrapol frame real frame smooth sinc warp function might map back point outsid sourc frame real frame slightli larger includ margin margin rel small sinc fli trajectori smooth recal real imag creat rate 1015hz given imag gener camera posit goal warp imag approxim imag b would gener new camera posit let us defin f function map b back p point 3d space seen pixel x b pixel x 0 f known pixel color x determin bilinear interpol x 0 perspect warp function would best howev maxvideo support second degre polynomi warp thu f compos two function f two second degre polynomi f determin 12 coeffici set 2n 12 equat explicitli defin n control point system 2n equat solv use least squar method 2n equat defin calcul posit n point 3d world coordin camera posit b project back imag space use nine point evenli distribut imag plane render 3d coordin terrain point seen nine fix locat regist denot vector unknown coeffici c j system need solv two set n equat six variabl assum n larger six least squar solut give us f x note note also sinc roll rotat simpl 2d transform implement directli use maxvideo warper model voxelbas object process known voxel convert continu geometri discret represent 4 mani exist model repres polygon mesh approxim real object howev photorealist applic photo map 9 essenti see figur 10 requir warp photograph object match 3d model appli textur map voxel altern sculpt techniqu figur 10 voxelbas object hous tree tank employ given set imag object known direct one craft shape model peel away background voxel around project imag start solid box black voxel given imag ray cast background pixel back voxel clear voxel encount background color repeat process mani imag view model differ direc tion leav nonbackground voxel shape model process reconstruct project yield textur map inher project nonbackground pixel back toward voxel mean ray cast simplifi implement sculpt techniqu employ use three photograph toy object exampl three photograph toy scud shown figur 11a three photograph scale voxel space resolut seen figur 11b stage object separ background pixel achiev color threshold contour drawn manual around object result sculpt process photomap imag 3d voxelbas textur object render arbitrari view direct imag shown figur 12 14 render close object order observ fine detail note b figur toy scud three photograph sidefronttop b imag scale voxel space resolut figur 12 voxel scud three differ view direct figur 13 three photograph t62 tank figur 14 voxel t62 three differ view direct resolut object higher terrain howev object seen distanc shown previou imag 6 current port activ develop project start 1992 pv stateof theart sinc process power singl processor grown factor 10 compar i860 although perform achiev pv satisfactori clear faster platform allow us deal better higher resolut object richer detail portabl applic permit adopt new parallel share memori architectur accord behavior commerci market use distribut memori machin rule sinc applic design share memori architectur compani manufactur share memori architectur price rang pv silicon graphic inc sgi sgi machin similar architectur pv except sgi use larg cach 4 mbyte contrast 16mbyte pvss local memori sgi offer challeng maximum 36 r4400250mhz cpu power challeng maximum cpu power challeng design float point applic cpu twice fast applic integ applic r4400 r8000 perform give challeng doubl perform power challeng machin store 688 gbyte intern 63 tbyte extern primari result sgi challeng indic speed 45 time faster pv scalabl remain linear achiev minor chang code use pv mainli compens absenc local memori 7 final remark present discret ray cast algorithm acceler ray coher multiresolut travers time complex algorithm proport number imag pixel regard con stant combin effici render algorithm power parallel machin result realtim photorealist visual flythrough parallel render task partit imag space among pv processor element put load scene space store pv share memori due data prefetch wide bandwidth buss linear speedup observ well hardli read write content share memori achiev perfect load balanc overlap frame note sequenti version render algorithm run well two second sgi workstat terrain size fit main memori expect futur progress memori bandwidth cpu speed visual flythrough abl run realtim advanc sequenti workstat acknowledg work develop tiltan system engin collabor ibm israel thank meir nissimnir built terrain databas sylvia kohn built object develop new idea process thank stuff ibm help us along mani differ way r realiti engin graphic view interpol imag synthesi photorealist terrain imag flight simul 3d scanconvers algorithm linear quadrat object shade display digit map evan sutherland comput corpor hierarch data structur realtim three dimension visual simul visual system effici ray trace method terrain ren dere grid trace fast ray trace height field height distribut distanc transform method height field ray trace pyramid parametr voxelbas tr ctr david cline parri k egbert terrain decim quadtre morph ieee transact visual comput graphic v7 n1 p6269 januari 2001 dan gordon float column algorithm shade parallel display function surfac without patch ieee transact visual comput graphic v8 n1 p7691 januari 2002 huamin qu ming wan jiafa qin ari kaufman imag base render stabl frame rate proceed confer visual 00 p251258 octob 2000 salt lake citi utah unit state omer shibolet daniel cohenor color voxelbas object virtual endoscopi proceed 1998 ieee symposium volum visual p1522 octob 1920 1998 research triangl park north carolina unit state christian hen peter stephenson acceler ray trace height field proceed 2nd intern confer comput graphic interact techniqu australasia south east asia june 1518 2004 singapor bori rabinovich craig gotsman visual larg terrain resourcelimit comput environ proceed 8th confer visual 97 p95102 octob 1824 1997 phoenix arizona unit state ari kadosh daniel cohenor roni yagel tricub interpol discret surfac binari volum ieee transact visual comput graphic v9 n4 p580586 octob baoquan chen j edward swan ii eddi kuo ari kaufman lodsprit techniqu acceler terrain render proceed confer visual 99 celebr ten year p291298 octob 1999 san francisco california unit state ming wan nan zhang huamin qu ari e kaufman interact stereoscop render volumetr environ ieee transact visual comput graphic v10 n1 p1528 januari 2004 joachim pouderoux jeaneud marvi adapt stream render larg terrain use strip mask proceed 3rd intern confer comput graphic interact techniqu australasia south east asia novemb 29decemb 02 2005 dunedin new zealand david cline parri k egbert interact display larg textur proceed confer visual 98 p343350 octob 1823 1998 research triangl park north carolina unit state brandon lloyd parri egbert horizon occlus cull realtim render hierarch terrain proceed confer visual 02 octob 27novemb 01 2002 boston massachusett reynald dumont fabio pellacini jame ferwerda perceptuallydriven decis theori interact realist render acm transact graphic tog v22 n2 p152181 april