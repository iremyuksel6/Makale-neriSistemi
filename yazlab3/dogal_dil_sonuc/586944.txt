determin weight finit automata studi problem construct determinist equival nondeterminist weight finitest automaton wfa determin wfa import applic automat speech recognit asr provid first polynomialtim algorithm test twin properti determin wfa admit determinist equival also give upper bound size determinist equival bound tight case acycl wfa previous mohri present superpolynomialtim algorithm test twin properti also gave algorithm determin wfa show latter run time linear size output determinist equival exist otherwis termin bound impli upper bound run time algorithmgiven wfa expand exponenti size determin explor occur asr tend shrink determin accord asr folklor phenomenon attribut sole fact asr wfa simpl topolog particular acycl layer introduc simpl class wfa structur show expans determin depend transit weight weight caus shrink other includ random weight caus expand exponenti provid experiment evid asr wfa exhibit weight depend shrink determin therefor result favor weight addit special topolog analys observ use design new approxim wfa determin algorithm report separ paper along experiment result show achiev signific wfa size reduct neglig impact asr perform b introduct finitest machin relat ration function power seri extens studi 2 3 12 16 wide appli field rang imag compress 911 14 natur languag process 17 18 24 26 subclass finitest machin weight finitest automata wfa recent assum new import wfa provid power method manipul model human languag automat speech recognit asr system 19 20 new research direct also rais number challeng algorithm question 5 weight finitest automaton wfa nondeterminist finit automaton nfa alphabet symbol weight set k transit semir togeth r gener partial function string k valu accept string semir sum accept path semir product weight along accept path partial function ration power seri 25 import exampl asr set wfa minsum semir comput accept string minimum cost accept path paper studi problem relat determin wfa deter minist sequenti wfa one transit given input symbol state ration power seri gener determinist wfa determin algorithm take input wfa produc determinist wfa gener ration power seri one exist import determin asr well establish 17 19 20 far know mohri 17 present first determin procedur wfa extend semin idea choffrut 7 8 weber klemm 27 regard stringtostr transduc mohri give determin procedur three phase first convert equival unambigu trim wfa use algorithm analog one nfa 12 unambigu trim defin mohri give algorithm tt determin twin properti also defin twin properti determinist equival twin properti second algorithm mohri dta appli yield 0 determinist equival algorithm tt run om 4n 2 number transit n number state algorithm run time linear size 0 mohri observ 0 exponenti larger wfa includ classic nfa give upper bound worstcas statespac expans howev due weight classic nfa upper bound appli final mohri give algorithm take determinist wfa output minimums equival determinist wfa paper present sever result relat determin wfa section 3 give first polynomialtim algorithm test whether unambigu wfa satisfi twin properti run om 2 n 6 time provid worstcas time complex analysi dta number state output determinist wfa 2 n2 lg nn 2 lg jsigmaj1 sigma input alphabet weight ration bound becom 2 n2 lg n1minn 2 lg jsigmaja ae maximum bitsiz weight input wfa acycl bound becom tight constant factor alphabet size section 46 studi question motiv use wfa determin asr 19 20 although determin caus exponenti statespac expans worst case asr system determin wfa often smaller input wfa 17 fortuit perform asr system depend directli wfa size 19 20 studi size reduct occur folklor explan within asr commun credit special topologyth underli direct graph ignor weightsfor phenomenon asr wfa tend multipartit acycl wfa alway admit determinist equival section 4 exhibit multipartit acycl wfa whose minimum equival determinist wfa exponenti larger section 5 studi class wfa rg simpl multipartit acycl topolog absenc weight determinist equival smaller show 2 rg n exist assign weight minim equival determinist wfa state use idea univers hash show similar result hold weight random ibit number call wfa weightdepend expans determin strongli determin weight examin experiment effect vari weight actual wfa asr applic section 6 give result experi asr exampl weightdepend experiment result togeth theori develop show folklor explan insuffici asr wfa shrink determin topolog weight tend favor result help explain natur wfa algorithm point view ie weight assign transit wfa affect perform algorithm manipul other relat directli theori weight automata definit terminolog given semir k weight finit automaton wfa tupl set state q 2 q initi state sigma set symbol ffi q theta sigma theta k theta q set transit q f q set final state assum throughout jsigma j 1 determinist sequenti wfa one transit wfa multipl transit pair q 1 oe differ target state q 2 problem examin paper motiv primarili asr applic work minsum semir furthermor algorithm consid use subtract minsum semir admit thu limit discuss minsum semir consid sequenc transit induc string string w accept q q q 2 accept g accept w let ct weight weight w set sequenc transit accept string w weight w weight languag g set weight string accept g accept gg intuit weight transit g seen confid one take transit weight need howev satisfi stochast constraint probabilist automata introduc rabin 22 fix two state q q 0 string v 2 sigma cq v q 0 minimum taken transit sequenc q q 0 gener v refer cq v q 0 optim cost gener v q q 0 gener abus notat ffiq w repres set state reachabl state q 2 q string w 2 sigma extend function ffi string usual way q mean sequenc transit q q 0 gener v topolog g topg project qthetasigma thetaq ffi ie transit g without respect weight also refer topg graph underli g wfa trim everi state appear accept path string transit weight 0 1 minsum semir wfa unambigu exactli one accept path accept string determin g problem comput determinist wfa g 0 g 0 exist denot output algorithm dta dtag denot minim determinist wfa accept lg ming one exist say g expand dtag state andor transit g let size g n assum transit label exactli one symbol jsigma j recal weight g nonneg real number let c maximum weight gener case weight incommensur real number requir infinit precis integ case weight repres bit denot integr rang b b z integ case extend case weight ration requir ae bit assum integ ration case weight normal remov excess leastsignific zero bit analys use ram model comput follow gener case charg constant time arithmeticlog oper involv weight real number refer model ram 21 relev paramet analys n jsigma j integ case also use ram except arithmeticlog oper take oae time refer model coram 1 relev paramet analys n jsigma j ae 3 determin wfa 31 algorithm test twin properti definit 1 two state q q 0 wfa g twin 8u v 2 sigma 2 q 2 ffi follow hold cq v twin properti pair q q 0 2 q twin state q q 0 reachabl q common string q q 0 twin string induc cycl induc cycl equal optim cost note two state cycl common string twin g trim unambigu wfa g twin properti 8u v 2 sigma 2 juvj 2n follow hold exist two state q q 0 fq q 0 g ffi q u ii q 2 ffiq v must follow analog state choffrut 7 8 differ term weber klemm 27 identifi necessari suffici condit stringtostr transduc admit sequenti transduc realiz ration transduct proof techniqu use wfa differ use obtain analog result stringtostr transduc howev particular effici algorithm deriv test wfa twin relat weber klemm 27 test twin stringtostr transduc defin qq multipartit acycl label weight graph 2n 2 layer follow root vertex compris layer zero correspond q q 0 given vertic layer gamma 1 obtain vertic layer follow let u vertex layer correspond q 1 connect u 0 correspond q 0 2 layer two distinct transit g arc connect u u 0 label 2 sigma cost qq 2n let q q 0 vertex correspond q q 0 layer qq let set pair distinct state g reachabl q qq q q 0 analog qq fix two distinct state q q 0 g let q q 0 occurr q q 0 qq 0 exclud q q 0 0 sequenc may empti symmetr sequenc extract q 0 q refer sequenc common cycl sequenc q q 0 say q q 0 satisfi local twin properti common cycl sequenc empti b zero cost shortest path q q 0 0 q q 0 q lemma 2 let g trim unambigu wfa g satisfi twin properti rt empti ii q q 0 local twin properti proof sketch outlin proof suffici condit nontrivi case state rt satisfi local twin properti common cycl sequenc empti let rt 0 set assum g satisfi twin properti deriv contradict sinc rt 0 empti set pair state ii satisfi lemma 1 empti sinc g satisfi twin properti must exist two state q q 0 string 1 q q 0 reach initi state g string u ii q 2 ffiq v q loss gener assum one show q q 0 use fact g unambigu one show exactli one path qq 0 root q q 0 jvj cost local twin properti test whether trim unambigu wfa twin properti first comput qq set rt pair state q q 0 yet process need comput qq 0 q 0 q respect shortest path tree theorem 1 let g trim unambigu wfa gener case whether g satisfi twin properti check om use ram integ case bound becom oaem use coram 32 section describ algorithm give upper bound size determinist machin produc algorithm result section 5 show upper bound tight within polynomi factor given wfa gener classic powerset construct construct determinist wfa g 0 follow start state g 0 fq 0g form initi queue p p 6 pop state p q 1g r valu encod pathlength infor mation follow oe 2 sigma let fq 0 g set state reachabl oetransit q minimum weight oetransit q 0 j q plu respect g let q add transit q oe ae q 0 g 0 push q 0 onto p q 0 new oetransit state q g 0 determinist let tg w set sequenc transit g accept string w 2 sigma let g 0 w one sequenc transit g 0 accept string mohri 17 show ct g 0 let set sequenc transit g state q state q induc string w let g 0 w one sequenc transit g 0 induc string g 0 w end state fq 1 show ct g thu r remaind encod differ weight shortest path state induc w g weight path induc w g 0 henc least one remaind state must zero 33 analyz first bound number state dtag denot dtag theorem 2 wfa g twin properti gener case integ ration case dtag 2 n lg jsigmaj g acycl independ assumpt weight acycl bound tight constant factor alphabet proof sketch let r set remaind dtag let r set remaind r follow hold 9w 2 sigma jwj two state q 1 q 2 j twin properti impli r r worst case istat tupl g appear dtag j itupl remaind assum count includ tupl without zero remaind therefor dtag gener case string length n reach pair necessarili distinct state g therefor jrj integ case remaind r 0 n acycl case dtag bound number string weight languag accept g bound jsigma j n discuss tight section 5 process tupl stateremaind gener time exclud cost arithmet min oper yield follow theorem 3 let g wfa satisfi twin properti gener case take ojsigmajn ram ration integ case co ram acycl case take ojsigmajn m2 n lg jsigmaj time ram oaejsigmajn m2 n lg jsigmaj time coram use result gener hard instanc determin algorithm reweight function simpli reweight f appli wfa g preserv topolog g possibl chang weight want determin reweight f minfg exist jminfgj maxim among reweight minfg exist restrict attent integ case without loss gener assum g trim unambigu theorem 2 show weight affect growth dtag must ae n 2 lg jsigma j set ae find requir reweight ing simpli consid possibl reweight g satisfi twin properti requir ae max bit 2 ae possibl reweight take 2 on2 lg nn 2 lg jsigmaj time comput expans decid result machin determin bound total time 4 hot automata section provid famili acycl multipartit wfa hot de termin expand independ weight transit given alphabet g consid languag ie set nlength string includ symbol sigma simpl obtain acycl multipartit nfa h polyn size accept l hard show minim dfa accept l theta2 nlg n state furthermor construct h bound hold binari alphabet h correspond wfa arc weight ident sinc acycl wfa satisfi twin properti alway determin alter weight increas expans kintala wotschk 15 provid set nfa produc hierarchi expans factor determin provid addit exampl hot wfa 5 weightdepend automata section studi simpl famili wfa multipartit acycl topolog examin variou reweight affect size determin equival famili shrink without weight expans due weight studi relat spirit previou work measur nondetermin finit automata 1315 howev nondetermin encod weight first discuss case binari alphabet gener arbitrari alphabet 51 rail graph denot rgk klayer rail graph rgk 2k g arc 0 see fig 1 rgk 1partit also fix outdegre consid string induc path 0 either k b k languag rgk set string lrg nondeterminist choic state 0 either top bottom rail may select henc string w accept one two path one follow top rail bottom rail fig 1 topolog klayer rail graph technic rgk ambigu disambigu rgk ad transit k b k distinct symbol new final state result extend case clariti present discuss ambigu rail graph rail graph weightdepend section 52 provid weight produc k1vertex trivial seriesparallel graph graph k1 vertic transit symbol vertic i1 1 k hand section 53 exhibit weight rail graph caus dta produc exponenti statespac expans also explor relationship magnitud weight amount expans possibl section 54 show random weight induc behavior worstcas weight final section 55 gener rail graph arbitrari alphabet 52 weight rgk consid determin rgk dta set state reachabl string g given weight function c let c w denot cost accept string w top path taken ie c analog defin c b w correspond cost along bottom path let rw remaind vector w pair form 0 c b 0 state layer 0 determin wfa label ft string w lead state thu two string w 1 w 2 ident length lead distinct state determin version rail graph rw 1 conveni simpli write w sign rw determin two form 0 x x 0 remaind vector occur denot weight top rsp bottom arc label oe vertex theorem 4 reweight f consist seriesparallel graph proof f suffic sinc case rw 1 g particular give zero weight suffic 53 worstcas weight rgk theorem 5 j 2 0 k z reweight f layer 0 j dtafrgk form complet binari tree 2 vertic proof sketch choos weight consid pair string w ident length w 1 6 w 2 weight ensur rw 1 theorem 6 j 2 0 k z reweight f layer 0 complet binari tree vertic theorem 6 gener theorem 10 show weightdepend artifact dta acycl bound theorem 2 tight binari alphabet address sensit size expans magnitud weight argu exponenti statespac expans requir exponenti big weight rail graph mean size expans exponenti number state superpolynomi number bit theorem 7 let f reweight jdtafrgkj requir encod frgk proof sketch must beomega remaind among state depth k determin wfa necessitatingomega distinct permut k bit among thusomega k weight must similarli highord bit set corollari 1 let f reweight jminfrgkj requir encod frgk 54 random weight rgk theorem 8 let g rgk weight number chosen independ uniformli random 1 denot expect valu random variabl x theorem 9 let g rgk weight logarithm number chosen independ uniformli random 1 proof theorem 8 9 use observ random function defin rg essenti univers hash function 6 bound suffici low probabl remaind two distinct string equal theorem 9 motiv fact weight asr wfa negat log probabl extend rgk arbitrari alphabet extend rail graph arbitrari alphabet defin rgr k klayer r rail graph follow rgr assum alphabet 1 subgraph induc vertex 0 vertic v compris rail rgr k subgraph induc vertic j compris layer j rgr k vertex 0 compris layer 0 rgr k thu rg2 k klayer rail graph rgk defin section 51 let ci j weight arc label vertex v theorem 4 5 gener easili klayer rrail graph theorem 6 gener rgr follow show acycl bound theorem 2 tight arbitrari alphabet theorem 10 j 2 0 k z reweight f layer 0 complet rari tree r j gamma1 vertic proof sketch choos follow weight set ci 1 given two string w 1 6 w 2 jw 1 j show w 1 w 2 must lead differ vertic determinist realiz rgr k assum w 1 w 2 lead vertex let c w cost string w given suffix length k gamma show cw 1 c w 1 right hand side fix valu delta consid posit w 1 w 2 differ denot ith symbol string w wi consid two suffix 1 2 length observ given weight rgr forc minimum cost path string symbol oe posit j follow rail rgammao thu use show cw 1 6 experiment observ asr wfa determin whether asr wfa manifest weight depend experi 100 wfa gener att speech recogn 23 use grammar air travel inform system ati standard test bed 4 transit label word weight recogn negat log probabl realiz transit sourc state refer weight speech weight determin wfa speech weight zero weight weight assign independ uniformli random 0 2 gamma1 z 0 could determin speech weight due comput limit omit data figur 2a show mani wfa expand determin differ weight figur 2b classifi 63 wfa expand least one weight ing wfa took weight produc maxim expans usual 8bit random weight although due comput limit unabl determin wfa larg random weight xaxi indic open interv within valu lgjdtagjjgj fall util determin asr includ reduct size achiev actual speech weight sampl 82 wfa shrank determin comput valu lgjgjjdtagj plot result fig 2c fig 2d examin relationship valu lgjdtagjjgj number bit use random weight chose ten wfa highest final expans valu plot lgjdtagjjgj number bit use refer function plot number bit speech zerosbit rndbit rndbit rndbit rndbit rndbit rndbit rndbit rnd type weighting2060 number wfa expand log base 2 expans factor515 number wfa b log base 2 shrinkag number wfa c number random bits26log expans factor q0v004 fig 2 observ asr wfa wfa exhibit subexponenti growth number bit increas although like q0t063 increas 128 time even four random bit wfa could determin speech weight slightli hot determin zeroweight variant 27 arc origin wfa remain ninetynin wfa shrank zero weight none hot one expand due weight rather topolog figur 2a indic mani wfa degre weight depend figur 2d suggest random weight good way estim degre wfa weight depend note expans factor superlin possibl exponenti function number random bit suggest larg eg 32bit random weight caus expans anyth analog experi minim determin wfa yield result qualit although fewer wfa still expand minim henc weight depend seem fundament properti wfa rather artifact dta acknowledg thank mehryar mohri fernando pereira antonio restivo fruit discuss r network flow theori ration seri languag algorithm aspect speech recognit intro duction univers class hash function une caracteris de fonction sequentiel et de fonction sou sequentiel en tant que relat rationnel finit automata comput real function comput power weight finit automata measur nondetermin regular languag arithmet code weight finit automata amount nondetermin finit automata use sequenti transduc natur languag process speech recognit composit weight finit automata weight ration transduct applic human languag process comput geometri introduct probabilist automata att analys syntaxiqu transformationel du francai par transducteur et lexiqu grammair economi descript singlevalu transduc tr ctr mark g eramian effici simul nondeterminist weight finit automata journal automata languag combinator v9 n23 p257267 septemb 2004 bjrn borchardt pump lemma decid problem recogniz tree seri acta cybernetica v16 n4 p509544 2004 julien quint equival weight finitest transduc proceed acl 2004 interact poster demonstr session p23e juli 2126 2004 barcelona spain manfr drost dietrich kusk skew infinitari formal power seri theoret comput scienc v366 n3 p199227 20 novemb 2006 bjrn borchardt heiko vogler determin finit state weight tree automata journal automata languag combinator v8 n3 p417463 06012003 manfr drost paul gastin weight automata weight logic theoret comput scienc v380 n12 p6986 june 2007 cyril allauzen mehryar mohri effici algorithm test twin properti journal automata languag combinator v8 n2 p117144 april ine klimann sylvain lombardi jean mairess christoph prieur decid unambigu sequenti finit ambigu maxplu automaton theoret comput scienc v327 n3 p349373 2 novemb 2004 sylvain lombardi jacqu sakarovitch sequenti theoret comput scienc v356 n1 p224244 5 may 2006 manfr drost heiko vogler weight tree automata weight logic theoret comput scienc v366 n3 p228247 20 novemb 2006