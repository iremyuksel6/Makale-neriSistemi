constraint cascad style sheet web cascad style sheet introduc w3c mechan control appear html document paper demonstr constraint provid power unifi formal declar understand specifi style sheet web document constraint natur declar specifi complex behavior inherit properti cascad conflict style rule give detail descript constraintbas style sheet model ccss compat virtual css 20 specif allow flexibl specif layout also allow design provid multipl layout better meet desir user environment restrict also describ prototyp extens amaya browser demonstr feasibl ccss b introduct sinc incept web tension structuralist design one hand structuralist believ web document consist content tag indic logic structur document browser free determin document appear hand design un derstand want determin exact appear document rather leav browser w3c recent champion style sheet debat result compromis web document proper contain content structur tag togeth link one style sheet determin document display thu clean separ document structur appear yet design consider control final appear document w3c introduc cascad style sheet first css 10 css 20 use html document despit clear benefit cascad style sheet number problem css 20 standard design lack control document appear environ differ design exampl document display monochrom display font avail browser window size differ document appear often less satisfactori css 20 specif seemingli ad hoc restrict layout specif exampl document element appear often specifi rel parent element gener rel element document css 20 specif complex sometim vagu reli procedur descript understand effect complex languag featur tabl layout make difficult understand featur interact browser support css 20 still limit conjectur due part complex specifica tion also specif suggest unifi implement mechan argu constraintbas layout provid solut issu constraint use specifi declar desir layout web document allow partial specif layout combin partial specif predict way also provid uniform mechan understand layout cascad final constraint solv technolog provid unifi implement techniqu describ constraintbas extens css 20 call constraint cascad style sheet ccss extens allow design add arbitrari linear arithmet constraint style sheet control featur object placement finitedomain constraint control featur font properti constraint may given strength reflect rel import may use style rule case rewrit constraint creat applic element multipl style sheet avail media precondit style sheet determin appropri particular environ viewer requir main technic contribut demonstr constraint provid power unifi formal declar understand specifi css 20 challeng aspect handl inherit properti fontsiz use readonli variabl cascad use constraint hierarchi detail descript constraintbas style sheet model ccss compat virtual css 20 specif ccss true extens css 20 allow flexibl specif layout also allow design provid multipl layout better meet desir viewer environment restrict prototyp extens amaya browser demonstr feasibl ccss prototyp make use sophist constraint solv algorithm cassowari 4 simpl oneway binari acycl finitedomain solver base bafss 12 background cascad style sheet css 10 1997 css 20 introduc w3c associ html 40 standard section review relev aspect css 20 6 html 40 9 css 20 html 40 provid comprehens set style properti type html tag set valu properti document author specifi browser display element broadli speak properti either specifi posit element rel element eg textind margin float display element eg fontsiz color although author directli annot element document style properti intent author place inform separ style sheet origin document either link import style sheet thu document may display use differ style sheet style sheet may use multipl doc ument eas mainten uniform look web site style sheet consist rule rule selector specifi document element rule appli simpl exampl hrefsimplecss typetextcss idhbor quot p idp stop read said said figur 1 exampl html document declar specifi stylist effect rule declar set propertyvalu pair valu may either absolut rel parent element valu instanc style sheet fontsiz 13pt fontsiz 11pt fontsiz 90 figur 2 simplecss three rule first use selector h1 indic appli element tag h1 specifi display use 13 pt font second rule specifi paragraph element use 11 pt font third rule specifi appear text blockquot specifi fontsiz 90 surround element use style sheet specifi appear html document shown figur 1 notic link style sheet includ id attribut element sinc refer later 1 selector come three main flavor type attribut contextu may combin give complex selector alreadi seen exampl type selector element select give type ie name tag type match tag attribut selector choos element base valu two attribut class id multipl element may share class valu id valu uniqu selector may also refer number pseudoclass 1 mark element id attribut defeat modular reus benefit css overus id tag strictli aid discuss exampl head bodi figur 3 document tree html figur 1 clude firstchild link select base class id attribut provid consider power use tag div span author respect group arbitrari element blocklevel inlin element set class id attribut div span provid appropri style rule precis control appear element contextu selector allow author take account element occur document ie context base document document tree captur recurs structur tag element context selector allow select base element ancestor document tree instanc preced document document tree shown figur 3 want ensur innermost block quot size reduc rel parent could use fontsiz 100 less gener could individu overrid font size second blockquot use id selector fontsiz 100 mani style properti inherit default el ement parent document tree gener speak properti control appear element fontsiz inherit control posit anoth exampl consid html document shown figur 4 use style sheet control width column tabl exampl tablecss fig ure 5 contain rule specifi class medcol thincol width 30 20 parent tabl respect one key featur css allow multipl style sheet document thu document might display context author special style sheet document default compani style sheet viewer tabl exampl hreftablecss typetextcss idt col idc3 classthincol td colspan2 figur 4 exampl html document figur 5 tablecss style sheet browser default style sheet handl css cascad style sheet cascad inherit multipl style sheet rule match element may mean conflict among rule valu particular style properti element take exact detail valu chosen complex within style sheet inherit weakest rule specif selector prefer less specif selector instanc rule fontsiz 100 fontsiz 100 specif fontsiz 90 style sheet valu set design prefer viewer browser otherwis equal conflict rule style sheet import link first prioriti subsequ import link howev style sheet author may also annot rule strength import overrid behavior case viewer style rule preced design style rule despit power css 20 still number limit one limit style properti may rel element parent element document result clumsi specif make reason layout constraint imposs express exam ple possibl requir tabl document width smallest width allow tabl reason layout css 20 one give tabl fix size fix percentag width parent element similarli possibl specifi two column tabl width smallest width allow column reason layout main limit difficult design write style sheet degrad grace presenc unexpect browser viewer limit desir instanc author littl control happen desir font size avail consid style sheet simplecss imagin 10 pt 12 pt 14 pt font avail browser free use 12 pt 10 pt head paragraph respect 14 pt 12 pt even 12 pt 12 pt part problem rule alway give definit valu style properti differ style sheet combin one rule use comput valu thu rule either lead discontinu behavior style sheet author viewer combin instanc sightimpair viewer might specifi font size must greater 11 pt howev design chosen suffici larg font viewer wish use design size imposs css 20 constraint cascad style sheet solut problem use constraint specifi layout constraint simpli statement relat mathemat sens would like hold constraint use mani year interact graphic applic thing specifi window page layout allow design specifi desir properti system rather properti maintain major advantag use constraint allow partial specif layout combin partial specif predict way section describ constraintbas extens css 20 call constraint cascad style sheet ccss one complic constraint may conflict allow use constraint hierarchi formal 3 constraint hierarchi consist collect constraint label strength distinguish strength label requir constraint must satisfi strength denot prefer arbitrari number strength constraint stronger strength satisfi prefer one weaker strength given system constraint constraint solver must find solut variabl satisfi requir constraint exactli satisfi prefer constraint well possibl give prioriti strongli prefer choic solut depend compar function use measur well constraint satisfi exampl shall assum weightedsumbett use appropri set strength label model behavior css 20 constraint view css 20 hierarch constraint provid simpl unifi way understand much css 20 specif viewpoint also suggest constraint solver provid natur implement techniqu style properti placement element document model variabl constraint variabl aris browser capabl default layout behavior aris type element document tree structur applic style rule final appear document determin find solut constraint first aspect css 20 consid placement document element ie page layout model use linear arithmet constraint illustr examin tabl layouton complex part css 20 key difficulti tabl layout involv inform flow bottomup eg element column topdown eg tabl column css 20 specif procedur natur detail oc cur use constraint declar specifi browser rather furthermor constraint viewpoint allow modular specif exampl understand complex nest tabl laid simpli collect constraint com ponent solut answer procedur specif much harder understand interact consid style sheet tablecss figur 5 associ html document figur 4 associ layout constraint shown figur 6 notat idprop refer variabl valu properti prop attach document element id id sinc deal ta ble system automat creat constraint 1 relat column width tabl width 2 similarli automat creat constraint 26 column wide enough hold content 7 tabl minim width constraint 8 gener style sheet notic differ constraint strength weakest strongest weak design quir sinc requir stronger design column alway big enough hold content weak constraint satisfi com plete effect minim error minim width tabl expens 2 simplic ignor margin border pad exampl figur exampl layout constraint figur 7 exampl finit domain constraint constraint constraint provid declar specif browser approach also suggest implement strategi lay tabl simpli use linear arithmet constraint solver find solut constraint solver implicitli take care flow inform direct fix width imag upward fix width browser frame downward linear arithmet constraint type constraint implicit css 20 specif also constraint properti take finit number differ valu includ font size font type font weight color constraint call finit domain constraint wide studi constraint program commun typic consist domain constraint variabl give set valu variabl take eg set font size avail requir arithmet constraint variabl exampl consid constraint aris document figur 1 style sheet simplecss figur 2 correspond constraint shown figur 7 domain constraint 14 reflect browser avail font remain constraint result style sheet rule note third rule gener two constraint 7 8 one block quot element preced exampl care avoid one complex part css 20 specif figur 8 exampl overlap rule multipl rule assign conflict valu el ement style properti discuss earlier two main aspect cascad sever style sheet conflict rule within style sheet model aspect mean hierarch con straint need refin constraint strength use apart requir strength lexicographicallyord tupl first compon tupl cs constraint import captur strength constraint posit cascad constraint import one weak browser viewer design designerimport ant viewerimport order weakest strong est import weak use automat gener constraint last three compon tupl captur specif rule gener con straint number id attribut c number class attribut number tag name rule exampl consid constraint aris document figur 1 style sheet fontsiz 13pt fontsiz 11pt fontsiz 90 fontsiz 100 constraint strength directli gener style sheet rule shown figur 8 greater weight last constraint list domin second last one give rise expect behavior remain issu must deal inherit style properti font size express inherit within constraint formal inherit properti need automat creat appropri constraint element parent first glanc simpli weak equal constraint unfor tunat model inher direction inherit instanc imagin display document figur 1 style sheet fontsiz 8pt figur 9 exampl inherit rule default font size 12 pt scheme outlin give rise constraint shown figur 9 one possibl weightedsumbett solut constraint head 12 pt rest document includ paragraph 8 pt problem paragraph element p inherit valu child blockquot element q1 captur direction inherit use readonli annot 3 variabl intuit understand readonli variabl v constraint c c consid constraint involv v ordinari variabl ie readonli use comput vs valu model inherit need add inherit equal constraint import weak mark variabl correspond parent properti readonli readonli annot ensur constraint solv order correspond topdown travers document tree thu exampl modifi constraint figur 9 font size variabl right hand side readonli annot extend css 20 seen use hierarch constraint provid declar specif css 20 ever anoth advantag view css 20 light constraint viewpoint suggest number natur extens overcom express limit css 20 discuss previous call extens ccss exampl indic virtual author viewer constraint gener css 20 either constrain style properti take fix valu relat par ent style properti valu one natur gener allow gener constraint inequ anoth natur gener allow constraint refer variabl variabl correspond nonpar element global variabl ccss allow constraint declar style sheet rule cssstyle attributevalu pair reinterpret context constraint equat attribut valu prepend constraint constraint pseudo properti ccss backward compat browser support css style sheet rule constraint refer attribut self parent leftsibl exampl constraint fontsiz ccss style sheet also allow author introduc global constraint variabl use new variabl direct variabl identifi lexic css id attribut type indic base unit automat coercion unit requir author express constraint among global constraint variabl element style properti use new constraint direct also global builtin object avail attribut eg browser use extens add consider express power instanc simpl specifi tabl document width smallest width allow tabl reason layout variabl tablewidthpt constraint similarli specifi two column c1 c2 differ tabl width smallest reason lay constraint also allow design express prefer case desir font avail exampl ad constraint fontsiz 13pt constraint fontsiz 11pt simplecss figur 2 ensur larger font use 13 pt 11 pt font avail final sightimpair viewer express strong desir font size greater 12 pt constraint fontsiz 12pt import long font size element 12 pt larger chang smaller font set 12 pt provid inequ constraint allow author control document appear precis context browser capabl viewer prefer addit alli ccss allow author give altern style sheet media style sheet list precondit applic use new precondit direc tive effici precondit refer variou predefin variabl valu variabl known ie specif valu time precondit test exampl precondit browserframewidth 800px precondit figur 10 screen shot prototyp browser view left narrow style sheet effect browser width 800 pixel right wide style sheet use interact chang browser width dynam switch two present figur first column 1the width second column twice width last column left tabl consum 100 frame width right tabl width browser width minu 200 pixel also notic chang font size text align extend style sheet import direct permit list multipl style sheet per line first applic sheet use other ignor style sheet precondit hold none import consid exampl direc tive import widecss tallcss smallcss widecsss precondit fail tallcsss succeed layout use tallcss cours eg user resiz toplevel browser frame widecsss precondit later becom satisfi layout switch style sheet unless tallcsss precondit longer satisfi choic among style sheet list one direct revisit currentlyus style sheet longer applic exampl consid style sheet text pictur page wide imag appear right text narrow appear without text left small imag appear encod widecss precondit browserframewidth 550px img float right tallcss precondit browserframewidth 600px precondit browserframeheight 550px img clear float none smallcss img display none precondit becom even express presenc support css posit 10 gener flow properti 7 implement prototyp web browser implement repres subset ccss propos demonstr addit express provid web design prototyp base version 14a amaya 8 w3 consortium browser amaya built top thot structur document editor partial support css1 amaya except easi extend way eg ad new html tag provid stabl base build support constraint amaya cover two main domain constraint discuss tabl width illustr page layout relationship font size illustr solv system involv inherit tribut prototyp html css code contain constraint declar constraint variabl html code constraint variabl instead specif valu attach name element attribut eg width tabl column 3 constraint document forc valu assign variabl chang browser updat render current page much browser window resiz often caus resolv first place also extend amaya support precondit style sheet gener import ccss rule perform switch among style sheet similar reload style sheet cach disk suffici fast even switch style sheet interact resiz 4 see figur 10 screen shot exampl 3 due limit amaya support style sheet variabl must attach column width attribut html sourc instead specifi style sheet 4 may use provid background prefetch altern stylesheet avoid latenc first need use prototyp support tabl layout pre condit support css improv browser signific variat possibl use precondit extend import direct compar perform prototyp browser unmodifi version amaya 14a fulli optim run pii400 display across 10mbit network tektronix x11 server subnet test case small exampl local disk use seven style sheet execut 100 reload measur total wall time consum unmodifi browser reload rerend 190 ms prototyp took 250 ms even size select last altern style sheet three import direct perform penalti reason given ad express featur prototyp provid one import benefit refram css constraint provid implement approach even standard css featur simplifi prototyp ensur remain superset css function current treat oldstyl declar constraint instead reli exist implement handl rule howev design browser begin treat css rule syntact sugar underli constraint result larg save code complex cascad rule would complet replac constraint solver principl assign valu variabl display engin need use provid valu redraw solver chang current solut constraint solv algorithm semant declar specif constraint independ algorithm use satisfi howev especi interact applic web browser essenti algorithm exist abl solv constraint system effici implement use two algorithm cassowari 4 restrict version bafss 12 cassowari algorithm handl linear arithmet equal inequ constraint collect constraint may includ cycl ie simultan equal inequ redund constraint conflict prefer cassowari increment version simplex algorithm wellknown heavili studi techniqu find solut collect linear equal inequ constraint minim valu linear express call object function howev commonli avail implement simplex algorithm realli suitabl interact applic browser describ particular cassowari support weightedsum better compar choos singl solut among satisfi requir constraint weightedsumbett compar comput error solut sum product strength tupl error constraint unsatisfi model css import rule hierarchi constraint strength encod symbol level import tupl well exampl viewerimport h1 0 0 0 0 0i browser h0 0 0 0 1 0i henc matter scalar error browser constraint never satisfi would forc viewerimport constraint satisfi similarli last three compon strength tupl encod bafss handl binari acycl font constraint use dynam program approach font constraint impli css abl simplifi algorithm constraint relat readonli size attribut parent element size attribut child element given addit restrict constraint oneway algorithm simpl visit variabl node topolog order assign valu greedili minim error contribut variabl constraint solver implement within cassowari constraint solv librari 1 relat work close relat research earlier work use constraint web page layout 5 system allow web page author construct document compos graphic object text layout object text font size describ separ lay sheet use linear arithmet constraint finit domain constraint like ccss layout sheet precondi tion control applic work report focus combin constraintbas layout css complementari previou research one major technic contribut provid declar semant css base hierarch constraint issu address prior work 5 two fundament differ layout sheet ccss first layout sheet style sheet sens css sinc use singl document constraint appli name element concept style rule appli multipl element second system 5 analogu document tree document model flat collect object mean notion inherit almost layout must explicitli detail layout sheet 5 exactli match css specif rule exampl error constraint strength hweak 0 0 1i 10 time greater error conflict constraint strength hweak 0 0 2i first constraint affect final solut choos appropri error function make unlik occur practic howev gener constraint hierarchi support may actual permit desir interact rather strict strength order impos css cascad style sheet kind style sheet document style semant specif languag dsssl iso standard specifi format document dsssl base scheme provid transform languag style languag power complex use recent w3c begun design xsl style sheet use xml document xsl similar spirit dsssl psl 13 anoth style sheet languag express lie midway css xsl underli applic model three take document tree origin document appli transform rule style sheet order obtain present view document display view devic case xsl usual present view html document whose element annot style properti none style sheet languag allow true con straint extend incorpor constraint would offer mani benefit css name abil flexibl combin viewer browser design desir requir simpl power model layout complex object tabl simplest extens allow constraint present view document provid constraint transform rule would seem offer littl advantag case dsssl natur way emb constraint solver scheme scwm 2 case xsl simplest chang would extend present languag html html ccss style properti regard user interfac applic constraint long histori use constraint interfac interact system begin ivan sutherland pioneer sketchpad system 17 constraint also use sever layout applic ideal 18 earli system specif design page layout applica tion harada witkin baraff 11 describ use physicallybas model varieti interact model task includ page layout numer system use constraint widget layout 14 15 badro 2 use constraint window layout conclus futur work demonstr hierarch constraint provid unifi declar semant css 20 also suggest simplifi implement strategi furthermor view css constraint perspect suggest sever natur extens call result extens ccss allow true constraint style sheet precondit ccss increas express css 20 impor tantli allow design write style sheet combin flexibl predict viewer prefer browser restrict demonstr feasibl ccss modifi amaya browser howev substanti work remain develop industrialstrength browser support full ccss part amaya lack support css 20 seem like mozilla 16 browser substanti support css 20 featur excel implement vehicl test ccss extens suffici stabl apart improv current implement two princip direct extens ccss first increas gener solv capabl underli solver exampl style sheet author abl arbitrarili annot variabl readonli greater control interact global variabl addit virtual css properti color font weight could expos constraint solver integr algorithm solv toolkit second extens allow predic selector style sheet rule selector would permit arbitrari predic test determin applic rule element document structur tree predic selector view gener exist selector h1 p selector appli node n predic hold predic selector would allow design take account attribut select element parent children thu instanc allow number item list affect appear list exampl use motiv psl 13 final import area futur work design impl mentat user test graphic interfac write debug constraint cascad style sheet web page use acknowledg thank bert bo hakon lie css group w3 consortium earli feedback idea propos extens css research fund part us nation scienc foundat graduat fellowship greg badro part grant australian research council r cassowari linear arithmet constraint solv algorithm interfac implement constraint hierarchi solv linear arithmet constraint user interfac appli cation constraint web amaya web browser softwar html 40 specif posit html element cascad style sheet interact physicallybas manipul di cretecontinu model flexibl fontsiz specif web document comprehens support graphic highli interact user interfac amulet environ new model effect user interfac softwar develop mozilla organ tr garnet constraint hierarchi interact physicallybas manipul discretecontinu model amulet environ solv linear arithmet constraint user interfac applic constraint web highlevel languag specifi pictur ctr nathan hurst kim marriott peter moulder cobweb constraintbas web browser proceed twentysixth australasian confer comput scienc research practic inform technolog p247254 februari 01 2003 adelaid australia thoma phelp robert wilenski multival browser platform new idea proceed 2001 acm symposium document engin novemb 0910 2001 atlanta georgia usa hiroshi hosob solv linear oneway constraint web document layout proceed 2005 acm symposium appli comput march 1317 2005 santa fe new mexico greg j badro jeffrey nichol alan born scwm extens constrainten window manag proceed freenix track 2001 usenix annual technic confer p225234 june 2530 2001 mira dontcheva steven drucker geraldin wade david salesin michael f cohen summar person web brows session proceed 19th annual acm symposium user interfac softwar technolog octob 1518 2006 montreux switzerland kim marriott bernd meyer laurent tardif fast effici clientsid adapt svg proceed 11th intern confer world wide web may 0711 2002 honolulu hawaii usa nathan hurst kim marriott peter moulder toward tighter tabl proceed 2005 acm symposium document engin novemb 0204 2005 bristol unit kingdom greg j badro alan born peter j stuckey cassowari linear arithmet constraint solv algorithm acm transact computerhuman interact tochi v8 n4 p267306 decemb 2001 gil loureiro francisco azevedo constrain xsl format object adapt document proceed 2005 acm symposium document engin novemb 0204 2005 bristol unit kingdom greg j badro jojada j tirtowidjojo kim marriott bernd meyer portnoy alan born constraint extens scalabl vector graphic proceed 10th intern confer world wide web p489498 may 0105 2001 hong kong hong kong charl jacob wilmot li evan schrier david bargeron david salesin adapt gridbas document layout acm transact graphic tog v22 n3 juli frdric be ccile roisin present languag control format process multimedia present proceed 2002 acm symposium document engin novemb 0809 2002 mclean virginia usa fateh boulmaiz ccile roisin frdric be improv format document coupl format system proceed acm symposium document engin novemb 2022 2003 grenobl franc john stamey bryan saunder simon blanchard aspectori web proceed 23rd annual intern confer design commun document design pervas inform septemb 2123 2005 coventri unit kingdom