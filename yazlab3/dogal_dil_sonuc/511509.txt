eventconditionact languag xml xml repositori widespread mean store exchang inform web repositori becom increasingli use dynam applic ecommerc rapidli grow need mechan incorpor reactiv function xml set eventconditionact eca rule technolog activ databas natur method support suchfunction eca rule use activ automat enforc document constraint maintain repositori statist facilit publishsubscrib applic import question associ use eca rule static predict runtim behaviour paper defin languag eca rule xml repositori investig method analys behaviour set eca rule task ad complex xml set compar convent activ databas b introduct xml becom domin standard store exchang inform increas use area data wareh ecommerc 13 14 18 22 28 rapidli grow need rulebas technolog support reactiv function xml repositori eventcondit action eca rule natur candid support function contrast implement reactiv function directli within program languag java eca rule high level declar syntax thu easili analys furthermor mani commerci research system base eca rule success built deploy thu implement within system architectur wellunderstood eca rule automat perform action respons event provid state condit hold use convent data warehous increment mainten materialis view valid cleans input data stream maintain audit trail data analog eca rule also use integr technolog provid kind reactiv function xml repositori also use check key constraint xml document perform automat repair violat detect push type environ mechan automat broadcast inform subscrib content relev document chang also employ flexibl mean maintain statist document web site usag behaviour paper present languag eca rule xml defin eca rule use mani set includ activ databas 26 29 workflow manag ment network manag personalis publishsubscrib technolog 3 13 14 17 27 specifi implement busi process 2 16 22 howev one key recur theme regard success deploy eca rule need techniqu tool analys behaviour 15 23 multipl eca rule defin within system interact difficult analys sinc execut one rule may caus event trigger anoth rule set rule rule may turn trigger rule inde potenti infinit cascad rule fire occur thu second part paper explor techniqu analys behaviour set eca rule defin languag eca rule languag xml propos 13 14 22 none focu analys behaviour eca rule propos 13 analysi techniqu develop convent activ databas appli xml set detail given recent paper 12 also defin activ rule languag xml concern rule analysi rule syntax describ similar one defin rule format base definit trigger sql3 rule execut semant rather differ model adopt howev gener speak insert delet xml data socal bulk statement may involv document fragment unbound size 12 describ semant wherebi toplevel updat decompos sequenc smaller updat depend content fragment inserteddelet trigger execut interleav execut smaller updat contrast treat toplevel updat atom trigger execut invok complet toplevel updat gener semant may produc differ result toplevel updat question futur research determin respect suitabl differ applic earlier paper 7 describ initi propos analysi also optimis xml eca rule languag discuss less express languag propos allow disjunct negat rule condit moreov examin deepli trigger activ relationship rule deriv precis test determin relationship test describ 7 2 eca rule languag xml databas consist set xml document eventconditionact eca rule xml databas take follow form event condit action rather introduc yet anoth queri languag xml use xpath 32 xqueri 33 languag specifi event condit action within eca rule xpath use number w3c recommend xpointer xslt xqueri select match part xml document wellsuit requir eca rule xqueri use eca rule need abl construct new fragment xml defin compon eca rule languag give exampl rule describ rule execut semant 21 rule event event part eca rule express form e simpl xpath express defin section 24 evalu set node rule said trigger set node includ node new subdocu case insert delet subdocu case delet systemdefin variabl delta avail use within condit action part rule see set instanti set new delet node return e 22 rule condit condit part eca rule either constant true one simpl xpath express connect boolean connect condit part eca rule evalu xml document databas chang event form specifi rule event part condit refer systemdefin evalu instanti delta document otherwis condit evalu document 23 rule action action part eca rule sequenc one action action action execut xml document chang event form specifi rule event part rule condit queri evalu true call set document rule set candid document eca rule said fire set candid document nonempti action express form insert r e beforejaft q r simpl xqueri express e simpl xpath express q either constant true xpath qualifi see section 24 25 definit italicis term insert action express e specifi set node n immedi new subdocu insert subdocu specifi express r 1 e r refer delta variabl one subdocu construct instanti delta rule condit queri evalu true neither e r refer delta singl subdocu construct 2 q option xpath qualifi evalu child node n 2 n insert form q new subdocu insert last sibl q true insert form q new subdocu insert first sibl q true order new subdocu insert nondeterminist delet action express e specifi set node delet togeth subdocu e may refer delta variabl exampl 1 consid xml databas consist two document sxml pxml document contain inform store includ product sold store store ids1 product idp1 product idp2 observ use phrase e indic updat happen signific without placement new subdocu would restrict occur root node document thu documentlevel instancelevel trigger support eca rule languag occurr delta variabl rule action action execut document time rule fire documentlevel trigger occurr delta action part action execut possibl instanti delta document instancelevel trigger document pxml hold inform product includ store sell product product idp1 store ids1 store ids2 follow eca rule updat pxml document whenev one product ad exist store sxml insert documentsxmlstoresstoreproduct notdocumentpxmlproduct productiddeltaidstoreiddeltaid insert store iddeltaid documentpxmlproduct productiddeltaid true systemdefin delta variabl bound newli insert product node detect event part rule rule condit check store parent insert product sxml alreadi child product pxml action add store child product pxml symmetr way follow eca rule updat sxml document whenev one store ad exist product pxml insert documentpxmlproductsproductstor notdocumentsxmlstor storeiddeltaidproductiddeltaid insert product iddeltaid documentsxmlstor storeiddeltaid true two rule ensur inform two document kept mutual consist exampl 2 exampl taken 1 discuss view updat semistructur data xml databas consist two document gxml mxml gxml contain restaur guid inform restaur includ entre serv ingredi entre namebaghdad cafenam ratingfour starsrat namecheeseburg clubnam document mxml view deriv gxml contain list entre baghdad cafe one ingredi mushroom suppos ingredi element valu mushroom ad second unnam entre baghdad cafe gxml follow eca rule perform view mainten mxml insert documentgxmlguiderestaur entreeingredi deltamushroom deltanamebaghdad cafe insert delta documentmxmlentre true result mxml document note insert delta result complet entre insert true caus insert last child entre 24 simpl xpath express xpath xqueri express appear eca rule restrict full xpath 32 xqueri 33 languag term simpl xpath xqueri express repres use reason express fragment advantag also amen analysi xpath fragment use disallow number featur full xpath languag notabl use axi child parent self descendantorself axe use function document thu syntax simpl xpath express e given follow grammar denot string n denot element attribut name express enclos xpath express call qualifi simpl xpath express start establish context either call document function follow path express p refer variabl delta variabl allow follow option qualifi q option path express p note qualifi q compris simpl xpath express e delet qualifi along enclos bracket xpath express left path node call path distinguish path express node end distinguish path distinguish leaf express result xpath express e set node name match distinguish leaf express simpl result type e denot type one string element name n denot element name result type determin follow let p distinguish path e leaf p n type string leaf p n type n respect leaf type determin leaf modifi distinguish path 3 defin modifi distinguish path construct distinguish path p express e replac occurr left right p follow p start delta substitut delta distinguish path xpath express occur event part rule step preced must either element name replac separ preced occurr replac step step separ preced delet step preced separ exampl 3 consid condit eca rule exampl 2 name deltamushroom deltanamebaghdad cafe result type first conjunct ingredi event part rule insert documentgxmlguiderestaur entreeingredi result type second conjunct restaur determin follow distinguish path substitut delta documentgxmlguiderestaurantentre ingredi replac ingredi delet replac entre final delet leav modifi distinguish path documentgxmlguiderestaur 3 modifi distinguish path simpli use determin result type may equival origin path p type infer part xqueri formal semant defin 34 allow implement xqueri infer queri compil time output type queri document conform given input type dtd schema sinc xpath express part xqueri result type also infer thu presenc dtd xml schema possibl infer accur result type xpath express use techniqu describ 34 4 25 simpl xqueri express xqueri fragment use disallow use full socal flwr express involv keyword let return essenti permit return part express 33 syntax simpl xqueri express r given follow grammar r c n j tlambda n n thu xqueri express r either simpl xpath express e defin section 24 element constructor c element constructor either empti element element sequenc element content case element list attribut attribut list empti name equat attribut valu follow attribut list attribut valu either string enclos express e 0 element content one string element constructor enclos express enclos express e 0 xpath express e enclos brace brace indic e evalu result insert posit e element constructor attribut valu result type xqueri express r denot typer tree whose node type element name n n attribut name n n string type suffix indic correspond node root arbitrari subtre necessari captur fact result xpath express embed r return set node may root subdocu tree typer determin follow r xpath express e typer compris singl node whose type type type 0 n string string r element constructor c form document tree c usual way except node label enclos express enclos express e 0 determin result type type 0 way singl xpath express replac e 0 type 0 typer given modifi tree result type xqueri express r denot set tree everi tree return r convers necessarili hold type result enclos express tightli possibl call tree instanc typer given xpath express e tree satisfi e et 6 say may satisfi e instanc typer satisfi e given xpath express e xqueri express r straightforward test whether may satisfi e test essenti involv check whether evalu e tree typer empti howev sinc typer denot set tree rather singl tree evalu need modifi indic follow inform descript node type string typer may satisfi string e node type typer may satisfi element name e node type n respect typer may satisfi express e test attribut descend element name n respect element name exampl 4 let r xqueri express action first rule exampl 1 name store iddeltaid result type deltaid string typer storeidstr anoth exampl let r xqueri express 4 although parent function 34 correspond step alway return type anyel assum result type delta typer ab c 26 eca rule execut section describ inform eca rule execut semant give suffici detail purpos paper refer interest reader 7 fuller discuss input eca rule execut xml databas schedul schedul list updat execut databas updat pair compon ij action action part rule r compon docsanddelta set pair delta di identifi document upon ij appli delta di set instanti delta variabl gener event condit part rule r respect document rule execut begin remov updat head schedul appli databas rule r determin set candid document gener updat togeth set delta di candid document rule r fire ie whose set candid document nonempti place list action head schedul place action higherprior rule ahead action lowerprior rule 5 action ij pair set docsanddelta consist set candid document rule r set instanti delta di document execut proce fashion schedul becom empti nontermin rule execut possibl thu rule analysi techniqu import develop set well behav rule analys eca rule behaviour analysi eca rule activ databas wellstudi topic number analysi techniqu propos eg 4 5 6 8 9 10 11 16 mostli context relat databas analysi import sinc within set eca rule unpredict unstructur behaviour may occur rule may mutual trigger one anoth lead unexpect possibl infinit sequenc rule execut two import analysi techniqu deriv trigger 4 activ 10 relationship pair rule inform use analys properti termin confluenc set eca rule reachabl individu rule trigger activ relationship pair rule defin follow rule r may trigger rule r j execut action r may gener event trigger r j rule r may activ anoth rule r j r j condit may chang fals true execut r action rule r may activ condit may true execut action thu two key analysi question regard eca rule 1 possibl rule r may trigger rule r j 2 possibl rule r may activ rule r j trigger activ relationship deriv one construct graph use analys rule behaviour 5 common sql3 standard databas trigger 24 assum two rule prioriti togeth use restrict sublanguag xpathxqueri ensur rule execut determinist languag order new subdocu insert common parent trigger graph 4 repres rule vertex direct arc vertex r vertex r j r may trigger r j acycl trigger graph impli definit termin rule execut trigger graph also use deriv rule reachabl inform examin arc graph activ graph 10 repres rule vertic direct vertex r vertex r j r may activ r j acycl graph also impli definit termin rule execut determin trigger activ relationship eca rule complex xml set relat databas determin effect rule action simpli matter match name updat relat potenti event bodi rule condit instead associ implicit semant comparison set path express requir develop techniqu 31 trigger relationship xml eca rule order determin trigger relationship xml eca rule need abl determin whether action rule may trigger event part rule clearli insert action trigger insert event delet action trigger delet event 311 insert insert action form insert r e 1 beforejaft q rule r insert event ev form rule r j need know whether ev independ e 2 never return node insert simpl xqueri r defin node insert simpl xpath express e 1 defin node insert inform speak possibl initi part specifi path document e 1 remaind e 2 match r ev independ formalis notion base test contain xpath express 19 20 30 prefix simpl xpath express e express e 0 call e 00 suffix e e 0 recal section 25 xqueri r typer denot result type r test whether typer may satisfi xpath express e given xpath express e 1 e 2 say e 2 independ possibl xml document e 1 let us return action event ev defin event ev independ action prefix e 0of e 2 either e 0are independ 00equival say rule r contain action may trigger rule r j contain event ev prefix e 0of e 2 e 0are independ typer may satisfi e 00from arbitrari simpl xpath express e 1 e 2 construct xpath express e document e 1 done convert distinguish path e 1 e 2 regular express find intersect use standard techniqu 21 convert intersect back xpath express qualifi e 1 e 2 correctli associ merg step intersect result express may use union path express denot top level permit xpath 32 test whether e unsatisfi henc whether e 1 e 2 independ check whether e contain unsatisfi express use contain test develop 19 allow union path express exampl 5 recal two rule exampl 1 let us call rule 1 rule 2 form rule insert e insert r f true store iddeltaid documentpxmlproduct productiddeltaid documentpxmlproductsproductstor product iddeltaid documentsxmlstor storeiddeltaid let e documentsxmlstoresstor e 00i product e 0i documentpxmlproductsproduct e 00i store f 2 e 0are independ furthermor typer 2 productidstr may satisfi e 00 conclud rule 2 may trigger rule 1 similar argument show rule 1 may trigger rule 2 hand event e 1 modifi documentsxmlstoresstoreproductnam insert product name child f 2 e 0are still independ howev 00sinc product node typer 2 contain name child case would detect rule 2 could trigger modifi rule 1 312 delet similarli insert delet action form belong rule r delet event ev form belong rule r j r may trigger r j ev independ test independ action event case delet simpler insert case let e xpath express e 1 event ev independ action express e e 2 independ determin section 311 32 activ relationship xml eca rule order determin activ relationship eca rule need abl determin whether action rule r may chang valu condit part rule r j fals true case r may activ r j b whether action rule r definit leav condit part r fals r may activ without loss gener assum rule condit disjunct normal form ie form l 11 l 12 l 21 l 22 l m1 l l ij either simpl xpath express c negat simpl xpath express c 321 simpl xpath express follow tabl illustr transit truthvalu condit consist simpl xpath express undergo first column show condit truth valu updat subsequ column truth valu nonindepend insert ni nonindepend delet ni nd rue rue rue f als als rue f als f als case ie r r j distinct rule clear tabl r activ r j one action r insert nonindepend condit r j let condit r j simpl xpath express c c true requir return nonempti result thu sens distinguish path c play role xpath qualifi interest exist path document match distinguish path addit insert element whose name occur qualifi c turn c fals true exampl insert element ab turn condit abd fals true thu need consid qualifi distinguish path c similar way test case moreov use condit analog introduc qualifi need rewrit condit accordingli exampl condit abd equival abd condit turn fals true either element ad element b element child b element ad element element child procedur determin nonindepend insert condit c involv construct c set c condit xpath express without qualifi ie distinguish path object condit c chang fals true result insert least one condit c chang fals true result insert start set proceed decompos c number condit without qualifi ad one c singl step decomposit follow 1 u w v element name n ffl condit c form uvw replac c c uvw form uvw replac c c uvw uv 2 delet c step form well replac occurr therebi ensur occur end c preced 3 c 2 c form uvw u v w nonempti replac c c uv uw 4 c 2 c form uv u v nonempti delet c c add c condit specifi one case depend structur qualifi v nontermin p grammar simpl xpath express add uv ffl v match nontermin e add e c ffl v match x x must qualifi add ux uy c ffl v match x x must qualifi add ux uy c x match nontermin p add ux uy respect c x match nontermin e add x respect c decomposit process continu condit c qualifierfre let one action rule r insert r e 1 beforejaft q section 311 determin typer consid prefix suffix condit c set c condit independ c 2 c prefix c 0 c either c 0 independ action chang truth valu condit c rule r j fals true equival say rule r may activ rule r j prefix c 0 c c 0 independ typer may satisfi c 00 exampl 6 conjunct condit eca rule exampl 2 rewritten singl condit c deltamushroomnamebaghdad cafe initi compris condit c substitut delta drop documentgxml simplic decompos condit guiderestaurantentreeingredi condit c 2 decompos guiderestaurantentreeingredi condit c 3 c 5 interpret state way insert chang condit c fals true ingredi insert child entre entre insert child restaur name insert child restaur test describ detect possibl correctli infer possibl activ relationship case b rule r activ may leav condit true tabl see analysi use far case rule obtain precis need develop notion selfdisactiv rule analog properti eca rule relat databas set 9 selfdisactiv rule one execut action make condit fals condit part r simpl xpath express c rule selfdisactiv action delet subsum c delet action thu need test simpl xpath express eca rule constrain paper provid addit oper appear qualifi known contain decid 19 thu possibl devis test determin whether rule selfdisactiv decid contain larger fragment xpath languag open problem 19 howev even fragment xpath use properti undecid may still possibl develop conserv approxim area research 322 negat simpl xpath express follow tabl illustr transit truthvalu condit form c c simpl xpath express undergo first column show truth valu condit updat subsequ column truth valu nonindepend insert ni nonindepend delet nd ni nd rue rue f als rue f als f als rue f als case rule r r j distinct clear tabl r activ r j one action r delet nonindepend condit r j let condit r j c construct set condit c c section 321 let action rule r let e queri e 1 use intersect test section 311 order check whether e independ condit c e chang truth valu c fals true otherwis e deem nonindepend c r may activ r j case b rule r activ may leav condit true need notion selfdisactiv rule condit part r c rule selfdisactiv action insert guarante c true insert let insert action rule r insert r e 1 beforejaft q let condit c compris prefix c 0 suffix c 00 action guarante c true insert tree set tree denot r satisfi c 00 result need stronger concept fact typer may satisfi express c 00 recal construct tree typer section 25 modifi construct typer leav enclos express type string typer instead replac string need defin mean node typer satisfi rather may satisfi part xpath express e node type n n typer satisfi element name n attribut name n express respect e node type n respect typer satisfi element name n respect express node label enclos express e 0 typer satisfi e 0 e exampl 7 recal first rule exampl 1 prefix negat condit ident xpath express documentpxmlproductsproductiddeltaid clearli contain correspond suffix negat condit name storeiddeltaid satisfi tree denot xqueri express store iddeltaid sinc valu id attribut defin express use suffix henc rule selfdisactiv second rule exampl 2 similarli selfdisactiv 323 conjunct case condit rule r j form l i1 l use test describ previou two section condit simpl xpath express negat simpl xpath express determin rule r may turn l ij fals true r may turn r j condit fals true may thu activ r j case b suppos condit rule r form l i1 l three possibl case l ij simpl xpath express case r selfdisactiv action delet subsum one l ij ii l ij negat simpl xpath express case r selfdisactiv action insert falsifi one l ij iii l ij mixtur simpl xpath express negat thereof case r may may selfdisactiv 324 disjunct case condit rule r j form l 11 l l 21 l l m1 l use test describ section 323 determin rule r may turn disjunct l i1 l fals true r may turn r j condit fals true may thu activ r j case b suppos condit rule r form l 11 l 12 l 21 l 22 l m1 l r selfdisactiv leav fals disjunct condit l ij simpl xpath express r disactiv disjunct condit case section 323 ii l ij negat simpl xpath express r disactiv disjunct condit case ii section 323 case r may may selfdisactiv conclus paper propos new languag defin eca rule xml thu provid reactiv function xml repositori develop new techniqu analys trigger activ depend rule defin languag languag base reason express fragment xpath xqueri standard analysi inform obtain particularli use understand behaviour applic multipl eca rule defin determin inform nontrivi sinc possibl associ rule action rule eventscondit syntact deriv instead deeper semant analysi requir one could imagin use xslt transform sourc document materialis kind view document use exampl paper howev xslt would process entir sourc document updat order produc new document wherea invisag detect updat much finer granular also use eca rule allow one updat document directli whearea xslt requir new result tree gener appli transform sourc document simplic eca rule anoth import factor suitabl manag xml data eca rule simpl syntax automat invok respons event specif event inde part document object model dom recommend w3c also argu 13 simpl execut model eca rule make promis mean rapid prototyp wide rang eservic analysi techniqu develop use context beyond eca rule method comput rule trigger activ relationship essenti focu determin effect updat upon queri queri independ updat problem 25 therefor use techniqu analys effect ie necessarili ruleiniti updat made xml databas eg determin whether integr constraint violat whether userdefin view need recalcul queri optimis strategi also possibl eg given set predefin queri one may wish retain memori document relev comput queri updat databas made document may need brought memori document determin analys effect updat made collect predefin queri futur work two main direct explor firstli wish understand fulli express complex eca languag defin exampl wish look type xml schema constraint enforc repair use rule languag secondli wish develop gaug effect analysi method techniqu incorpor addit inform document type definit may help obtain precis inform trigger activ depend 31 also wish investig use depend carri optimis eca rule r increment mainten materi view semistructur data relat transduc electron com merc push technolog person event correl static analysi techniqu predict behavior activ databas rule abstract interpret framework termin analysi activ rule dynam approach termin analysi activ databas rule analysi optimis event conditionact rule xml improv rule analysi mean trigger activ graph algebra approach rule analysi expert databas system algebra approach static analysi activ databas rule activ xqueri activ rule xml new paradigm eservic push reactiv servic xml repositori use activ rule practic applic trigger constraint success linger issu design databas applic object rule idea methodolog view larg scale xml repositori contain integr constraint xpath fragment queri contain conjunct queri regular express introduct automata theori activ webbas distribut databas system ecommerc activ databas system expect activ databas featur sql3 queri independ updat activ rule databas system effici match webbas publishsubscrib system updat xml activ databas system equival xml pattern minimis simpl xpath express world wide web consortium world wide web consortium world wide web consortium tr static analysi techniqu predict behavior activ databas rule queri contain conjunct queri regular express relat transduc electron commerc algebra approach static analysi activ databas rule push reactiv servic xml repositori use activ rule updat xml introduct automata theori languag comput compiletim runtim analysi activ behavior increment mainten materi view semistructur data onetoon web site gener dataintens applic push technolog person event correl practic applic trigger constraint view larg scale xml repositori queri independ updat algebra approach rule analysi expert databas system improv rule analysi mean trigger activ graph effici match webbas publishsubscrib system dynam approach termin analysi activ databas rule equival xml pattern abstract interpret framework termin analysi activ rule activ rule xml new paradigm eservic ctr swamynathan kannan v geetha composit event monitor xml repositori use gener rule framework provid reactiv eservic decis support system v42 n1 p7988 octob 2006 martin bernauer gerti kappel gerhard kramler composit event xml proceed 13th intern confer world wide web may 1720 2004 new york ny usa ce dong jame bailey static analysi xslt program proceed fifteenth australasian databas confer p151160 januari 01 2004 dunedin new zealand georg papamarko alexandra poulovassili peter wood eventconditionact rule rdf metadata p2p environ comput network intern journal comput telecommun network v50 n10 p15131532 14 juli 2006 jame bailey transform reaction rule data web proceed sixteenth australasian databas confer p1723 januari 01 2005 newcastl australia shuichi kurabayashi yasushi kiyoki adapt activ rule system automat servic discoveri cooper proceed 24th iast intern confer databas applic p115122 februari 1315 2006 innsbruck austria use composit act frame techniqu model rule origin knowledg represent egovern servic electron commerc research applic v6 n2 p128138 summer 2007