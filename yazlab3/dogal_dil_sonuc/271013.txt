structur commun softwar qualityofservic guarante abstracta grow number realtim applic requir qualityofservic qo guarante underli commun subsystem commun subsystem host network must support realtim commun servic provid requir qo applic paper propos architectur mechan structur host commun softwar provid qo guarante particular present evalu qossensit commun subsystem architectur end host provid realtim commun support gener network hardwar architectur provid servic manag commun resourc guaranteedqo realtim connect admiss control traffic enforc buffer manag cpu link schedul design architectur base three key goal mainten qosguarante perconnect basi overload protect establish connect fair deliv perform besteffort trafficus architectur implement realtim channel paradigm realtim commun servic packetswitch network propos architectur featur processperchannel model associ channel handler establish channel model employ handler execut one cooper preemption execut handler yield cpu wait higherprior handler welldefin preemption point architectur provid sever configur polici protocol process overload protect present extens admiss control procedur realtim channel account cooper preemption overlap protocol process link transmiss send host evalu implement demonstr efficaci architectur maintain qo guarante outgo traffic adher state design goal evalu also demonstr need specif featur polici provid architectur subsequ work refin architectur use realiz fullfledg guaranteedqo commun servic perform qossensit resourc manag outgo well incom traffic b introduct distribut multimedia applic eg video conferenc ing videoondemand digit librari distribut realtim commandcontrol system requir certain qualityof servic qo guarante underlyingnetwork qo guarante may specifi term paramet endtoend delay delay jitter bandwidth deliv connect addit requir regard packet loss inord deliveri also specifi support applic commun subsi work report paper support part nation scienc foundat grant mip9203895 offic naval research grant n000149410229 opinion find conclus recommend express paper author necessarili reflect view nsf onr tem end host network must design provid perconnect qo guarante assum network provid appropri support establish maintain guaranteedqo connect focu design host commun subsystem maintain qo guarante protocol process larg data transfer common multimedia applic quit expens resourc manag polici gear toward statist fair andor timeshar introduc excess interfer differ connect thu degrad deliv qo individu connect sinc local delay bound node may fairli tight unpredict excess delay due interfer differ connect may even result qo violat perform degrad elimin design commun subsystem provid mainten qo guarante ii overload protect via perconnect traffic enforc iii fair besteffort traf fic requir togeth ensur perconnect qo guarante maintain number connect perconnect traffic load increas paper propos evalu qossensit commun subsystem architectur guaranteedqo connect focu architectur mechan use within commun subsystem satisfi qo requir connect without undu degrad perform besteffort traffic qo guarante propos architectur applic propos guaranteedqo connect 3 focu realtim channel paradigm guaranteedqo commun servic packetswitch network 16 architectur featur processperchannel model protocol process coordin uniqu channel handler creat success channel establish servic within channel fifo qo guarante multipl channel provid via appropri cpu schedul channel handler link schedul packet transmiss traffic isol channel facilit via perchannel traffic enforc interact cpu link schedul applic program interfac admiss control connect api entryexit packet transmiss adapt cpu schedul signal packet transmiss complet interrupt devic driver oper notif packet transmiss initi packet transmiss packet fragment encapsul data messag feedback buffer queue suspendyield resum protocol process overal architectur b protocol process figur 1 desir softwar architectur implement architectur use modifi xkernel 31 14 commun execut exercis complet control motorola 68040 cpu configur avoid interfer comput oper system activ host allow us focu commun subsystem evalu implement differ traffic load demonstr efficaci maintain qo guarante realtim channel provid fair perform besteffort traf fic even presenc illbehav realtim channel endtoend guarante resourc manag within commun subsystem must integr applic propos architectur directli applic portion host process capac reserv communicationrel activ 21 17 propos architectur extens realiz server appropri capac reserv andor execut prioriti implement inde server execut standalon configur importantli approach decoupl protocol process prioriti ap plicat believ protocol process prioriti connect must deriv qo requir traffic characterist runtim commun behavior applic connect integr propos architectur resourc manag applic address forthcom paper section 2 discuss architectur requir guaranteedqo commun provid brief descript realtim channel section 3 present qossensit commun subsystem architectur realiz requir section 4 describ implement section 5 experiment evalu efficaci propos architectur section 6 discuss relat work section 7 conclud paper 2 architectur requir guarante qo commun guaranteedqo commun 3 consid unidirect data transfer sourc sink via intermedi node data deliv sink order gener sourc corrupt delay lost data littl valu continu flow timesensit data insuffici time error recoveri thu consid data transfer unreliabledatagram semant acknowledg retransmiss provid perconnect qo guarante host commun resourc must manag qossensit fashion ie accord rel import connect request servic host commun resourc includ cpu bandwidth protocol process link bandwidth packet transmiss buffer space figur 1a illustr gener softwar architectur guaranteedqo commun servic host compon constitut architectur follow applic program interfac api api must export routin set teardown guaranteedqo con nection perform data transfer connect signal admiss control signal protocol requir establishtear guaranteedqo connect across commun host possibl via multipl network node commun subsystem must keep track commun resourc perform admiss control new connect request establish connect state store connect specif inform network transport protocol need unidirect reliabl unreli data transfer traffic enforc provid overload protect establish connect forc applic conform traffic specif requir session level may also requir link level link access schedul link abstract link bandwidth must manag activ connect receiv promis qo necessit abstract link term transmiss delay bandwidth schedul outgo packet network access minimum requir provis qo guarante packet transmiss time bound predict assum support signal focu compon involv data transfer name traffic enforc protocol process link transmiss particular studi architectur mechan structur host commun softwar provid qo guarante 21 qossensit data transport figur 1b applic present api data messag transport guaranteedqo connec tion api must alloc buffer data queue appropri conform data per traffic specifica tion forward protocol process transmiss mainten perconnect qo guarante protocol process involv least fragment applic messag includ transport network layer encapsul packet length smaller certain maximum typic mtu attach network addit comput intens servic eg code compress checksum may also perform protocol process qossensit alloc process bandwidth necessit multiplex cpu amongst activ connect control cpu schedul must provid deadlinebas prioritybas polici schedul protocol process individu connect nonpreempt protocol process connect impli cpu realloc anoth connect process entir messag result coarser tempor grain multiplex make admiss control less effect importantli admiss control must consid largest possibl messag size maximum number byte present applic one request across connect includ besteffort traffic maximum messag size guaranteedqo connect deriv attribut frame size multimedia applic besteffort traffic may known priori thu mechan suspend resum protocol process connect need protocol process connect may also need suspend avail packet buffer packet gener via protocol process directli transmit link would result fifo ie qosinsensit consumpt link bandwidth stead forward link schedul must provid qossensit polici schedul packet tran mission link schedul select packet initi packet transmiss network adapt notif packet transmiss complet relay link schedul anoth packet transmit link schedul must signal cpu schedul resum protocol process connect suspend earlier due shortag packet buffer overload protect via perconnect traffic enforc ment mention earlier conform data forward protocol process transmiss necessari sinc qo guarante base connect traffic specif connect violat traffic specif allow consum commun resourc reserv traffic specif violat one connect affect qo guarante connect perform deliv besteffort traffic accordingli commun subsystem must polic perconnect traffic gener paramet constitut traffic specif eg rate burst length must polic individu import issu handl nonconform traffic could buffer shape conform provid degrad qo treat besteffort traffic drop altogeth certain situat buffer overflow may necessari block applic buffer space becom avail although may interfer time behavior applic appropri polici therefor applicationdepend buffer nonconform traffic till becom conform make protocol process nonworkconserv sinc cpu idl even work avail discuss correspond option altern protocol process workconserv cpu schedul mechan ensur qossensit alloc cpu bandwidth connect workconserv protocol process potenti improv cpu util sinc cpu idl work avail unus capac util execut besteffort activ background comput one also util cpu bandwidth process nonconform traffic assum pend besteffort traf fic free cpu process capac subsequ messag absenc besteffort traffic workconserv protocol process also improv averag qo deliv individu connect especi link schedul workconserv fair besteffort traffic besteffort traffic includ data transport convent protocol tcp udp signal guaranteedqo connect unduli penal nonconform realtim traffic especi workconserv process 22 realtim channel sever model propos guaranteedqo commun packetswitch network 3 architectur mechan propos paper applic propos model focu realtim channel 9 16 realtim channel simplex fix rout virtual connect sourc destin host sequenc messag associ perform guarante messag deliveri therefor conform connect semant mention earlier traffic qo specif traffic gener realtim channel base linear bound arriv process 8 2 character three paramet maximum messag size mmax byte maximum messag rate rmax messagessecond maximum burst size bmax me sage notion logic arriv time use enforc minimum separ messag realtim channel ensur channel use resourc reserv expens chan nel qo realtim channel specifi desir determinist worstcas bound endtoend delay experienc messag see 16 detail resourc manag admiss control realtim channel provid algorithm order 16 use fixedprior schedul comput worstcas delay experienc channel link runtim link schedul hand govern multiclass variat earliestdeadlinefirst edf polici 23 perform relat consider provid determinist qo guarante communica tion process cost overhead involv manag use resourc must account process cost includ time requir process transmit messag overhead includ preemption cost context switch cach miss cost access order data structur handl network inter rupt import keep overhead low predict low variabl reason worstcas estim obtain resourc manag polici must maxim number connect accept api entryexit handler run queue assign cpu packet transmiss link schedul messag queue handler api entryexit handler run queue assign cpu packet recept channel messag queue assign handler packet queue sourc host b destin host figur 2 propos architectur servic addit process cost implement overhead factor affect admiss includ rel bandwidth cpu link coupl cpu link bandwidth alloc recent paper 19 studi extent factor affect admiss context realtim channel 3 qossensit commun architectur processpermessag model 23 process thread shepherd messag protocol stack besid elimin extran context switch encount processperprotocol model 23 also facilit protocol process schedul accord varieti polici oppos softwareinterrupt level process bsd unix howev processpermessag model introduc addit complex support qo guarante creat distinct thread handl messag make number activ thread function number messag await protocol process channel consum kernel resourc process control block kernel stack also increas schedul overhead typic function number runnabl thread dynam schedul envi ronment importantli processpermessag model rel harder maintain channel seman tic provid qo guarante perform perchannel traffic polic exampl burst channel get translat burst process schedul queue make harder polic illbehav channel ensur fair besteffort traffic schedul overhead becom unpredict make worstcas estim either overli conserv imposs provid sinc qo guarante specifi perchannel ba si suffic singl thread coordin access resourc messag given channel employ processperchannel model qossensit extens processperconnect model 23 processperchannel model protocol process channel coordin uniqu channel handler lightweight thread creat success establish channel uniqu perchannel handler cpu schedul overhead function number activ channel messag wait tran port sinc number establish channel henc number activ channel vari much slowli compar number messag outstand activ channel cpu schedul overhead significantli predict discuss later processperchannel model also facilit perchannel traffic enforc fur ther sinc reduc context switch schedul head model like provid good perform connectionori besteffort traffic figur 2 depict key compon propos architectur sourc transmit destin ceiv host compon involv data transfer shown associ channel messag queue fifo queue messag process channel handler sourc receiv applic destin channel also associ packet queue fifo queue packet wait transmit link schedul sourc reassembl channel handler destin transmissionsid process figur 2a invoc messag transmiss transfer control api traffic enforc traffic shape deadlin assign ment messag enqueu onto correspond channel messag queue subsequ process channel handler base channel type channel handler assign one three cpu run queue execut describ section 31 execut infinit loop dequeu messag messag queue perform protocol process includ fragment packet thu gener insert channel packet queue one three outbound link packet queue correspond link base channel type traffic gener ation transmit link schedul receptionsid process figur 2b receiv packet demultiplex correspond channel packet queue subsequ process reassembl transmissionsid process channel handler assign one three cpu run queue execut execut infinit loop wait packet arriv channel packet queue packet packet queue process transfer channel reassembl queue last packet messag arriv channel handler complet messag reassembl insert messag correspond messag queue applic retriev messag via api receiv routin intermedi node link schedul relay arriv packet next node along rout focu transmissionsid process send host follow discuss also appli receptionsid process messag queue messag queue semaphor packet queue packet queue semaphor deadlineprior statu type proxi process id deadlineprior traffic specif qo specif rel channel prioriti local delay bound handler process id applic requir admiss control buffer manag protocol process messag applic channel messag queue messag process complet channel packet queue inherit messag deadlin messag earli els initi messag process initi block count packet buffer avail enqueu packet els suspend buffer avail decrement block count block count zero yield condit true yield cpu els reset block count continu els continu messag process complet dequeu messag process packet enqueu packet link packet queue suspend messag current channel state b handler execut profil figur 3 channel state handler profil 31 salient featur figur 3a illustr portion state associ channel host upon success establish channel assign prioriti rel channel determin admiss control procedur local delay bound comput admiss control host use comput deadlin individu messag handler associ type execut deadlin prioriti execut statu runnabl block etc addit two semaphor alloc channel han dler one synchron messag insert channel messag queue messag queue semaphor synchron avail buffer space channel packet queue packet queue semaphor channel handler broadli classifi two type besteffort realtim besteffort handler one process messag besteffort channel realtim handler classifi current realtim earli realtim current realtim handler one process ontim messag obey channel rate specif earli realtim handler one process earli messag violat channel rate specif figur 3b show execut profil channel handler sourc host handler execut infinit loop process messag one time initi simpli wait messag process messag queue messag becom avail handler dequeu messag inherit deadlin messag earli handler comput time messag becom current suspend execut dura tion messag current handler initi protocol process messag creat packet handler check space packet queue via packet queue semaphor automat block space avail packet creat enqueu onto chan nel packet queue queue previous empti link packet queue also updat reflect channel packet transmit handler execut employ cooper preemption currentlyexecut handler relinquish cpu wait higherprior handler process block packet explain suffic nonworkconserv protocol process mechan need continu handler execut case workconserv protocol process ing accordingli addit block handler fore channel proxi creat behalf handler channel proxi thread simpli signal block channel handler resum execut compet cpu access channel proxi order logic arriv time exit immedi handler alreadi woken ensur handler made runnabl proxi obtain access cpu handler becom current note earli handler must still relinquish cpu wait handler alreadi current mainten qo guarante perchannel qo guarante provid via appropri preemptiv schedul channel handler nonpreempt schedul packet transmiss cpu schedul prioritybas use rel channel prioriti consid deadlinebas schedul channel handler proxi execut deadlin channel handler inherit dynam deadlin messag pro cess execut deadlin channel proxi deriv logic arriv time messag process channel handler assign one two run queue base type besteffort realtim channel proxi repres earli realtim traffic assign separ run queue rel prioriti assign handler run queue ontim realtim traffic get highest protocol process prioriti follow besteffort traffic earli realtim traffic order provis qo guarante necessit bound delay obtain cpu protocol process shown 19 immedi preemption execut lowerprior handler result expens context switch cach miss channel admiss significantli improv preemption overhead amort process sever packet maximum number packet process block system paramet determin via experiment given host architectur cooper preemption provid reason mechan bound cpu access delay improv util especi handler execut within singl kernel address space link bandwidth manag via multiclass nonpreempt edf schedul link packet queue organ similar cpu run queue link schedul nonworkconserv avoid stress resourc downstream host gener link allow work ahead limit fashion per link horizon 16 overload protect perchannel traffic enforc perform new messag insert messag queue packet insert link packet queue messag queue absorb messag burst channel prevent violat bmax rmax csw context switch time ccm cach miss penalti 90 1st process cost 420 process cost 170 c l perpacket link schedul cost 160 packet preemption point 4 pkt maximum packet size 4k byte tabl 1 import system paramet channel interf wellbehav channel deadlin assign new messag check violat mmax rmax insert messag messag queue intermessag space enforc accord min violat mmax logic interarriv time messag increas proport extra packet messag number packet buffer avail channel determin product maximum number packet constitut messag deriv mmax maximum allow burst length bmax workconserv process possibl packet gener handler accommod channel packet queue packet buffer avail channel exhaust similar situat could aris nonworkconserv process violat mmax handler violat channel prevent consum excess process link capac either block execut lower prioriti rel wellbehav channel block handler subsequ woken link schedul indic avail packet buffer block handler fashion also use slowdown servic provid channel propag applic via messag queue messag queue fill applic block addit space becom avail al ternat messag overflow queue drop applic inform appropri note schedul handler packet provid isol traffic differ channel interact cpu link schedul help polic perchannel traffic fair nonworkconserv process earli realtim traffic consum resourc expens besteffort traffic workconserv process ing besteffort traffic given process transmiss prioriti earli realtim traffic 32 cpu preemption delay overhead admiss control procedur order must account cpu preemption overhead access delay due cooper preemption overhead involv manag resourc addit must account overlap cpu process link transmiss henc rel bandwidth cpu link companion paper 19 present extens order account abovement factor tabl 1 list import system paramet use extens 33 determin p l x p determin granular cpu link respect multiplex channel thu determin channel admiss host 19 select p govern architectur characterist host cpu tabl 1 given host architectur p select channel admiss maxim deliv reason data transfer throughput select either use endtoend transport protocol perform hostadapt design characterist gener latenc throughput characterist adapt function packet size use pick packet size minim deliv reason data transfer throughput typic network adapt transmiss time packet size l x depend primarili overhead initi transmiss time transfer packet adapt link latter function packet size data transfer bandwidth avail host adapt memori data transfer bandwidth determin hostadapt design featur pipelin queue adapt raw link band width c x overhead initi transmiss adapt feed link bandwidth b l bytessecond l x approxim l x data transfer bandwidth avail tofrom host mem ori b x determin factor mode di rect memori access dma program io effici data transfer degre adapt pipelin packet transmiss c x includ cost set dma transfer oper 4 implement implement propos architectur use modifi xkernel 31 commun execut 14 exercis complet control 25 mhz motorola 68040 cpu cpu bandwidth consum communicationrel activ facilit admiss control resourc manag realtim channel 1 xkernel v31 employ processpermessag protocolprocessingmodel prioritybas nonpreempt schedul level cpu alloc highestprior runnabl thread schedul within prioriti level fifo 41 architectur configur realtim commun accomplish via connectionori protocol stack commun execut see figur 4a api export routin channel establish channel teardown data also support routin besteffort data transfer network transport signal provid 1 implement receptionsid architectur slight variat transmissionsid architectur applic rpc network layer link access layer applic program interfac name servic rtc signal traffic enforc synchron clockcurr besteffort earli context switch handler design prioriti level xkernel context switch xkernel run queue xkernel process edf handler run queue activ handler xkernel schedul select process run select handler run edf schedul xkernel protocol stack b layer edf schedul figur 4 implement environ resourc reserv protocol layer top remot procedur call rpc protocol deriv xkernel chan protocol network data transport provid fragment packet larg messag commun resourc multiplex channel packetbypacket basi frag transport protocol modifi unreli version xkernel blast protocol timeout data retransmiss oper disabl protocol stack also provid protocol clock synchron network layer encapsul network layer protocol connectionori provid networklevel encapsul data transport across pointtopoint commun network link access layer provid link schedul includ network devic driver detail protocol stack provid 15 42 realiz qossensit architectur processperchannel model success establish channel alloc channel handler space messag packet queue messag packet queue semaphor workconserv protocol process de sire channel proxi also alloc channel channel handler xkernel process provid thread control addit attribut type channel besteffort realtim flag encod state handler execut prioriti deadlin event identifi correspond recent xkernel timer event regist handler order suspend execut messag current handler util x timer event facil event semaphor signal timer expir channel proxi also xkernel process execut prioriti deadlin state establish channel maintain link list updat channel signal extend xkernel process manag semaphor routin support handler creation termi nation synchron messag insert avail packet buffer packet transmiss packet messag must inherit transmiss categori avail polici protocol processperchannel process workconserv nonworkconserv cpu fixedprior schedul multiclass earliestdeadlinefirst handler cooper preemption configur execut number packet preemption link multiclass earliestdeadlinefirst schedul option 1 2 overload block handler decay handler deadlin protect enforc min drop overflow messag tabl 2 implement polici deadlin assign messag modifi blast protocol messag manipul routin xkernel associ messag deadlin packet outgo packet carri global channel identifi allow effici packet demultiplex receiv node cpu schedul multiclass edf schedul three distinct run queue maintain channel handler one three class mention section 31 similar link packet queue q1 prioriti queue implement heap order handler deadlin q2 implement fifo queue q3 util protocol process workconserv prioriti queue implement heap order logic arriv time messag process handler channel proxi also realiz xkernel thread assign q3 sinc q3 lowest prioriti proxi interfer execut channel handler multiclass edf schedul layer xkernel schedul figur 4b channel handler proxi select edf run queue associ xkernel process insert design xkernel prioriti level cpu alloc xkernel sched uler realiz design modifi xkernel context switch semaphor process manag routin ap propriat exampl context switch channel handler involv enqueu currentlyact handler edf run queue pick anoth runnabl handler invok normal xkernel code switch process con text support cooper preemption ad new routin check edf xkernel run queue wait higherprior handler nativ xkernel process spectiv yield cpu accordingli link schedul implement configur link schedul perform via function call current execut handler context interrupt context option 1 dedic processthread option 2 new thread packet transmiss option 3 demonstr 19 option 1 give best perform term throughput sensit channel admiss p focu option 1 organ link packet queue similar handler run queue except q3 use earli packet protocol process workconserv insert packet appropri link packet queue channel handler invok schedul directli function call link busi ie packet transmiss progress function return immedi handler continu execut link idl current packet transfer q3 q1 highest prioriti packet select transmiss q1 q2 q1 q2 empti wakeup event regist time packet head q3 becom current schedul process repeat network adapt indic complet packet transmiss wakeup event earli packet expir traffic enforc channel messag queue semaphor initi bmax messag overflow messag queue drop packet queue semaphor initi bmax delta n pkt maximum number outstand packet permit channel complet packet transmiss channel packet queue semaphor signal indic avail packet buffer enabl execut block handler overflow due violat mmax handler prioritydeadlin degrad proport extra packet payload consumpt cpu bandwidth affect wellbehav channel tabl 2 summar avail polici option 43 system parameter tabl 1 list system paramet implement select p base tradeoff avail resourc channel admiss 19 packet time model present section 33 requir c x b x determin given network adapt host architectur evalu avail network hardwar reveal signific performancerel defici poor data transfer throughput high unpredict packet transmiss time 15 defici adapt design sever limit abil demonstr capabl architectur given focu unidirect data transfer suffic ensur transmiss packet size take l x unit achiev emul network adapt consum unit packet transmit implement devic emul null devic 19 configur emul desir packet transmiss time use studi varieti tradeoffssuch effect relationship cpu link process bandwidth context qossensit protocol process 19 experiment determin c x 40 experi select correspond link data transfer speed 50 ns per byte effect packet transmiss bandwidth 4kb packet 16 mb 5 evalu evalu efficaci propos architectur isol realtim channel best traffic specif ch mmax bmax rmax min deadlin 2 rt tabl 3 workload use evalu effort traffic evalu conduct subset polici list tabl 2 vari degre traffic load traffic specif violat particular evalu processperchannel model nonwork conserv multiclass edf cpu schedul nonwork conserv multiclass edf link schedul use option 1 section 42 overload protect packet queue overflow provid via block channel handler messag overflow messag queue drop paramet set tabl 1 use evalu 51 methodolog metric chose workload stress resourc plat form shown tabl 3 similar result obtain workload includ larg number channel wide varieti deadlin traffic specif three realtim channel establish channel establish strictli local differ traffic specifica tion channel 0 1 bursti channel 2 period natur besteffort traffic realiz channel 3 variabl load depend experi similar semant realtim traffic ie unreli retransmiss packet loss messag realtim channel gener xkernel process run highest prioriti specifi linear bound arriv process burst bmax messag rate violat realiz gener messag rate multipl rmax besteffort traffic gener process similar run prioriti lower realtim gener process higher xkernel prioriti assign channel handler experi durat correspond 32k packet transmiss steadyst behavior evalu ignor first 2k last 2k packet experi report traffic enforc cpu link schedul enabl follow metric measur perchannel perform throughput refer servic receiv channel besteffort traffic calcul count number packet success transmit within experi durat messag laxiti differ transmiss deadlin realtim messag actual time complet transmiss deadlin miss measur number realtim packet miss deadlin packet drop measur number packet drop realtim besteffort traffic deadlin miss packet drop account qo violat individu channel 4096 load kb throughput kb mean rt channel 2 min 50 load kb messag laxiti ms throughput b messag laxiti figur 5 mainten qo guarante traffic specif honor 52 efficaci propos architectur figur 5 depict efficaci propos architectur maintain qo guarante channel honor traffic specif figur 5a plot throughput realtim channel besteffort traffic function offer besteffort load sever conclus drawn observ trend first realtim channel receiv desir bandwidth sinc packet drop shown late figur 5b qo requir realtim channel met increas offer besteffort load effect servic receiv realtim channel second besteffort traffic throughput increas linearli system capac exceed realtim traffic earli current deni servic besteffort traffic third even extrem overload condi tion besteffort throughput satur declin slightli due packet drop without affect realtim traffic figur 5b plot messag laxiti realtim traffic also function offer besteffort load messag miss deadlin sinc minimum laxiti nonneg channel addit mean laxiti realtim messag larg unaffect increas besteffort load regardless whether channel bursti figur 6 demonstr behavior even presenc traffic specif violat realtim chan nel channel 0 gener messag rate faster specifi besteffort traffic fix 1900 kb figur 6a wellbehav realtim channel besteffort traffic receiv expect servic channel also receiv expect servic laxiti behavior similar shown figur 5b realtim packet miss deadlin includ channel 0 ever channel 0 overflow messag queue drop excess messag figur 6b none realtim channel besteffort traffic incur packet drop 53 need cooper preemption preced result demonstr architectur featur provid suffici maintain qo guarante follow result demonstr featur also necessari figur 7a protocol process besteffort traffic nonpreempt even though besteffort traffic process lower prioriti realtim traf fic besteffort handler obtain cpu continu process messag messag queue regardless wait realtim handler make cpu schedul qosinsensit seen introduc signific number deadlin miss packet drop even low besteffort load deadlin miss packet drop increas besteffort load system capac reach subsequ excess besteffort traffic drop drop miss realtim channel declin behavior larg unpredict differ channel affect differ depend mix channel behavior exacerb increas buffer space alloc besteffort traffic besteffort handler run longer block due buffer overflow thu increas window nonpreempt figur 7b show effect process realtim messag preemption messag boundari earli handler allow execut workconserv fashion prioriti higher besteffort traffic note realtim traffic still shape sinc logic arriv time enforc observ signific deadlin miss packet drop realtim channel besteffort throughput also declin due earli realtim traffic higher process prioriti behavior worsen window nonpreempt increas drain messag queue time handler execut discuss result demonstr need cooper preemption addit traffic enforc cpu schedul cpu link schedul alway enabl realtim traffic also shape via traffic enforc traffic shape one would observ significantli wors realtim besteffort perform due nonconform traffic also note fullypreempt kernel like larger unpredict cost context switch cach miss cooper preemption provid greater control preemption 3000 4000 5000 6000 4096 offer load ch throughput kb 2000 3000 4000 30000 offer load ch number packet drop throughput b number packet drop figur 6 mainten qo guarante violat rmax point turn improv util resourc may use concurr exampl handler initi transmiss link yield higher prioriti activ arbitrari preemption may occur handler initi transmiss thu idl link 6 relat work focus host commun subsystem design implement realtim channel implement methodolog applic propos provid qo guarante packetswitch network detail survey propos techniqu found 3 similar issu examin provis integr servic internet 7 6 expect qo requir applic issu involv share link bandwidthacross multipl class traffic explor 24 10 issu involv provid qo support ipoveratm network also explor 5 22 tenet protocol suit 4 provid realtim commun widearea network wan incorpor protocol process overhead networklevel resourc manag polici particular provid qossensit protocol process insid end host need schedul protocol process prioriti level consist commun applic highlight 1 implement strategi demonstr 12 processor capac reserv realtim mach 21 combin userlevel protocol process 18 predict protocol process insid host 17 oper system support multimedia commun explor 25 13 howev explicit support provid traffic enforc decoupl protocol process prioriti applic prioriti path abstract 11 provid rich framework develop realtim commun servic 7 conclus futur work propos evalu qossensit commun subsystem architectur end host support guaranteedqo connect use implement realtim channel demonstr efficaci architectur maintain qo guarante deliv reason perform besteffort traffic evalu architectur rel lightweight stack supportwould necessari computationallyintens servic code compress checksum ad protocol stack use featur also depend rel bandwidth cpu link propos architectur featur independ platform gener applic work assum network adapt ie underli network provid explicit support qo guarante provid bound predict packet transmiss time assumpt valid larg class network preval today fddi switchbas network thu link schedul realiz softwar requir lower layer protocol stack cogniz delaybandwidth characterist network softwarebas implement also enabl experiment varieti link share polici especi multipl servic class support architectur also extend network provid explicit support qo guarante atm extend null devic sophist network devic emul provid link bandwidth manag explor issu involv interfac adapt support qo guarante true endto guarante schedul channel handler must integr applic schedul current implement propos architectur osf machrt microkernelbas uniprocessor realtim oper sy tem final extend architectur sharedmemori multiprocessor multimedia server 20 r structur schedul realtim protocol implement support continuousmedia dash sy tem tenet realtim protocol suit design integr realtim servic ipatm network architectur integr servic internet architectur overview support realtim applic integr servic packet network architectur mechan calculu network delay note topolog interconnect network scheme realtim channel establish widearea network program system resourc support realtim distribut applic schedul ipc mechan continu media workstat support realtim multimedia commun design tradeoff implement realtim channel busbas multiprocessor host predict commun protocol process realtim mach resourc manag realtim commun make theori meet practic processor capac reserv multimedia oper system atm signal support ip atm transport system architectur servic highperform commun system schedul servic model anda schedulingarchitectur integr servic packet network heidelberg resourc administr techniqu design philosophi goal tr ctr binoy ravindran lonni welch behrooz shirazi resourc manag middlewar dynam dependablerealtim system realtim system v20 n2 p183196 march 2001 christoph gill jeanna gossett david corman joseph p loyal richard e schantz michael atighetchi dougla c schmidt integr adapt qo manag middlewar case studi realtim system v29 n23 p101130 march 2005 christoph gill david l levin dougla c schmidt design perform realtim corba schedulingservic realtim system v20 n2 p117154 march 2001