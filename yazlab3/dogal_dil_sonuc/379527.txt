perform fluid simul novel share buffer manag system consid switch system multipl port share common buffer fifo logic queue port port may support larg number flow connect approxim homogen statist characterist common qo requir cell loss maximum delay heterogen may exist across port first contribut buffer manag scheme base buffer admiss control integr connect admiss control switch time scheme fair effici robust share buffer resourc across port scheme base resourceshar techniqu virtual partit second major contribut advanc practic discreteev fluid simul simul approxim celllevel simul offer order magnitud speedup third contribut paper formul solut problem optim alloc bandwidth buffer port specif delay bound lossless multiplex framework final report extens simul result scheme found effect effici robust b introduct paper consid model switch node shown figur 1 multiplen port bandwidth share common buffer size b share buffer fifo logic queue implement linkedlist port port may support larg number flow connect envis less homogen statist characteri tic heterogen exist across port view compat qo requir common delay bound connect port bound probabl either violat delay bound lose cell specif port share buffer manag interest time see instanc irl78 fgo83 hbo93 cha93 gcg95 wma95 cha96 approach taken rather differ work share object recent work virtual queue see swr97 refer therein pervc behavior emul share fifo buffer howev algorithm differ work necessari make linkag explicit work three main contribut first propos share buffer manag scheme base buffer admiss control bac integr connect admiss control cac switch time fair effici robust share buffer resourc across multipl port recent work cac singl port system emw95 emi97 lzt97 lzi97 rrr97 use crucial idea trade bandwidth buffer arriv design alloc specif amount bandwidth buffer per connect approach follow multiport share buffer system imper cac bac work tandem dual object satisfi qo requir protect isol connect extract multiplex gain share buffer resourc need balanc share memori architectur mind base scheme virtual partit mzi96 bmi97 mzi97 techniqu fair effici robust resourc point time port use less nomin alloc may call underload accord higher prioriti convers port exceed nomin alloca tion may call overload given lower prioriti final prioriti mechan implement dynam adapt classic techniqu trunk reserv aki84 key90 rei91 wherein cell port admit buffer free capac buffer exce reserv paramet specif port load statu role reserv capac protect underload port dynam reserv mechan forc traffic overload port backoff event underload port need claim alloc share note pushout mechan explicitli use scheme eas implementa tion may easili ad also note state inform requir implement bac port consist current queue port current total buffer occup traffic classesport differenti qo also degre isol protect requir csz93 realiz nomin alloc reserv paramet instanc greedi best effort classport rel larg reserv paramet work classic trunk reserv display extraordinari robust properti also optim reserv paramet scale slowli eg logarithm sub linearli size problem rei91 mgh91 observ similar properti suffic reserv capac small broad rang reserv paramet offer desir perfor manc former key effici latter robust scheme fluid simul bac sampl path total buffer occup qt exhibit persist stick iness threshold determin nomin alloc reserv paramet threshold point bac activ admit fraction amount fluid gener affect port determin fraction base particular notion fair wherein affect port treat equal altern notion fair may readili sub stitut fraction call fairshar comput onset sticki period simul solv equat point similar issu aris fair queue gener processor share maxmin fair abr servic techniqu fluid simul develop expect extend applic traffic sourc model consid work adversari extent permit dual leaki bucket regul assum typic present polic sourc case lossless multiplex sourc permit collud worst case sourc synchron burst peak rate time contrast less conserv statist multiplex approach sourc assum noncollus burst activ asynchron ie phase independ uniformli distribut random variabl addit allow small probabl bound possibl qo requir delay andor loss satisfi note design statist multiplex reli design lossless mul tiplex complet treatment composit phase 1 lossless phase 2 statist approach taken emw95 lopresti et al lzt97 import recent paper formul gener bandwidthbuff tradeoff problem lossless multiplex framework addit treat buffer bandwidth two resourc analysi statist multiplex contrast conserv devic emw95 allow reduct singleresourc problem extens resourc alloc problem lossless multiplex share buffer multiport system integr notion traffic class profil input gener exogen possibl market condit also delay bound traffic class solut gener problem classifi bandwidthbuff system new way shed light desir mix resourc match traffic mix le boudec leb96 also consid problem optim resourc alloc inhomogen flow lossless framework optim criterion quit differ shown mmo95 singleresourc problem chernoff estim loss probabl asynchron independ sourc maxim sourc rate waveform onoff period extrem result use emi97 formal choic onoff waveform extrem bound approach follow emw95 recent rajagop reisslein ross rrr97 import work shown extrem sourc rate process tworesourc formul statist multiplex problem sinc numer result lzt97 rrr97 system capac statist multiplex show mark increas obtain approach emw95 emi97 base reduct singl resourc onoff waveform adopt latter sinc substanti easier implement section 2 give detail system model buffer admiss control section 3 formul solv problem optim alloc buffer bandwidth port lossless multiplex framework section 4 describ issu fluid simul bac section 5 describ numer result base statist multiplex conclud remark sec6 ii descript system model buffer manag system model nport system shown figur 1 term con nection use interchang sourc share buffer capac b let denot aggreg output bandwidth note port workconserv workconserv appli sourc rate time fig 2 rate aggreg output bandwidth unlik gener processor share gp possibl port fulli util port backlog port logic virtual fifo queue implement linkedlist cell address data ram epa97 note situat may aris buffer full queue one port case incom data port without queue may access port directli block let denot logic queue port time denot total buffer occup assum k connect port tacit assumpt made connect port share common qo requir polic dual leaki bucket regul similar iden tical specif analysi next section assum connect port homogen dual leaki bucket regul specifi succeed section fluid simul allow addit gener heterogen traffic class port qo requir probabl loss connect go port delay bound dual leaki bucket regul specif mean sustain rate token rate b burst toler token buffer size p peak rate connect traffic rate regul devic assum onoff period extrem sens sourc rate maximum permit rate p amount data theta gener period also maximum given mean rate period r extrem rate process denot omegagamma shown figur 2 b descript buffer admiss control let b denot nomin alloc buffer capac port assum b calcul techniqu appropri singl port system emw95 lzt97 rrr97 take account thu process nomin buffer alloc cac intim coupl typic extent buffer overalloc subject design influenc issu multiplex gain across port degre isol desired000000000000000000000000000000000000000000000000000000000000000000000000111111111111111111111111111111111111111111111111111111111111111111111111000000000000000000000000000000000000000000000000000000000000000000000000111111111111111111111111111111111111111111111111111111111111111111111111 traffic admiss block admiss traffic block admit admit r r u n bn port n port 1 port 1 traffic port n traffic fig 3 illustr buffer admiss control nport system port 1 n carri guarante servic best effort traffic respect port port misbehav due say breakdown polic regul presenc best effort traffic port issu probe section 5 numer investig defin statu port overload underload q port defin pair reserv paramet r u superscript u denot underload overload respect paramet chosen r u typic r u shall see main reason r u give traffic port lower prioriti access buffer buffer admiss control bac algorithm follow admit traffic port buffer one follow condit satisfi fflport underload ie fflport overload ie q fluid flow point view bac complet polici global threshold specifi import aspect bac principl adopt base particular notion fair admit fluid affect port rate correspond equal fraction rate total fluid gener sourc port principl may readili substitut anoth admit fraction proport prespecifi weight celllevel control scheme rwm95 treat admit fraction control variabl meet qo requir illustr applic bac scenario port 1 carri guarante servic traffic port n carri best effort traffic tacit assumpt traffic port 1 tightli regul admissioncontrol traffic port n loos regul perhap peak rate polic qo constraint cac slack henc flow port 1 given prioriti access buffer port n one level control buffer manag reflect select nomin alloc b 1 bn yet anoth level control exercis reserv pa ramet set n figur 3 illustr bac two port consid instant time port n overload port 1 underload 4and sourc becom activebesid reserv buffer capac made avail port 1 mechan work favor everi depart cell port n systemat replac arriv cell port 1 iii bandwidth buffer alloc design problem first phase design problem consid lossless multiplex framework second phase statist multiplex anteced work emw95 lzt97 emi97 lossless multiplex problem follow given see figur 1 c share buffer capac aggreg output bandwidth respect connect port subject dual leaki bucket regul paramet furthermor sourc onoff period extrem see figur 2 also given traffic class profil j repres rel mix connect variou traffic class desir oper point desir oper point kj scalar k henc proxi capac system specifi traffic mix qo requir zero loss delay bound classport problem obtain bufferbandwidth alloc b port capac k maxim subject resourc constraint shown shortli problem equival follow lossless multiplex design problem b c j subject burst size time theta oni given 1 2 solut problem given follow subsect lossless multiplex begin briefli review notion virtual buffertrunk system singl sourc emw95 consid singl sourc class period onoff rate pro cessomegagamma suppli initi empti infinit buffer output port bandwidth c c r stabil let b denot maximum buffer content time easi see f fig 4 two case class minmax design problem k sourc class connect port constraint impli lossless multiplex constraint impli bound maximum delay thu obtain design problem state 47 next systemat normal respect b c k let resourc constraint 5 translat also note fq g ft g fd g dimensionless paramet henc design problem equival follow subject analyz problem help first consid two case class 1 1 reason becom clear shortli former may call bandwidth constrain latter balanc see figur 4 case delay requir necessit disproportion amount bandwidth expend clearli point e local attract alloc point case ii delay requir stringent make balanc alloc point local attract howev shall see global consider lead alloc differ local optima minmax problem 1618 littl thought show classport global optimum alloc lie segment shown figur 4 henc constraint 18 may replac follow use 19 may elimin problem obtain follow version ae p subject two case 22 correspond whether limit resourc bandwidth buffer respect note feasibl solut alway exist two case consid depend upon locat corner point fq respect separ hyperplan flspace 22 first simpler case may refer global bandwidth constrain case analog previous discuss classif singl class certainli case hold class bandwidth constrain ie 1 24 hold easi see solut minmax problem consid altern 24 name e 0 may term global balanc case case may deduc solut minmax problem state 2123 must lie separ hyperplan buffer bandwidth simultan exhaust ie follow minmax problem reduc min subject 26 inequ constraint 23 also problem lp simpl solut also exploit lzt97 solut incorpor summari given design problem 47 state term origin variabl proposit 1 let global bandwidthconstrain case e 0 case maximum capac obtain follow buffer bandwidth alloc ii global balanc case e 0 let class index decreas order period ie let k smallest integ capac k maxim follow alloc k eb tonj bc tonkbc tonj jk theta k tonkdk maximum capac k obtain relat c buffer alloc obtain relat satisfi differ two case result noteworthi global bandwidthconstrain case sum alloc bandwidth equal given aggreg bandwidth case buffer contrast global balanc case buffer bandwidth total consum alloc dichotomi broad implic briefli touch upon suppos former case classport n best effort gener delay requir ment say dn bc clearli give greater weight best effort class trafficclass profil j ie increas jn perhap induc tariff quantiti e 28 made chang neg posit would make system global balanc result full util resourc proper alloc b statist multiplex object take bufferbandwidth alloc maxim number connect k exploit statist multiplex loss probabl particular mention section 1 consid share buffer resourc across port govern bac techniqu given comput loss probabl given k base chernoff asymptot approxim techniqu due emw95 key observ alloc b base behavior virtual buffertrunk system singl sourc peak buffer util b peak bandwidth util c see 10 relat key reduct singleresourc may take bandwidth bandwidth util singl connect k denot u ik account assumpt sourc phase independ uniformli distribut period loss probabl port bandwidth load port u k1 u ik sinc distribut random variabl bino mial straightforward obtain follow chernoff asymptot approxim p lossi proposit 2 log log capac k maxi valu k iv fluid simul section investig technic issu fluid simul propos buffer admiss control scheme simul also allow addit gener possibl sever class connect port class correspond dual regul note fluid flow represent approxim celllevel behavior celllevel detail behavior sourc trunk buffer smooth steadi rate fluid flow sourc caus piecewis linear chang buffer oc cupanc event admissionremov connect startsend burst connect key event fluid simul coincid jump fluid rate addit sourc relat event buffer control relat event exampl buffer becom empti full rate flow buffer undergo discontinu chang high speed system atm advantag fluid simul accru fact event occur much slower timescal compar cell arriv depar ture therebi requir much less simul time cover given amount actual system time obvious fluid simul must eventdriven order realiz advantag eventdriven simul event set system determin logic complex larger event set complex simul sinc necessari determin earliest next event among larger number possibl simul describ sourc model traffic individu connect class j go port consist onoff period rate waveform extrem respect dual leaki bucket regul class see figur 2 phase independ random variabl uniformli distribut period waveform rate process aggreg traffic offer port superposit rate process connect port import featur fluid simul describ reflect bac logic queue fq g port comput monitor cours queue individu connect set event relev fluid simul two type sourc event ii buffer event buffer event threshold cross subdivid portspecif ii global proceed enumer describ event type 1 sourc state chang state chang discret event correspond discontinu piecewis constant aggreg rate process port ffl type 2 port threshold cross logic queue port empti port use nomin alloc ie q incom fluid treat differ control scheme henc rate chang port buffer occup dq dt encount discontinu result discontinu well postpon detail discuss event except note chang port statu caus event caus chang admit fluid rate class feed port ffl type 3 global threshold cross event character ij class j statu indic one threshold encount jump dqdt sinc r ij traffic class j admit buffer immedi 0 b later discuss detail behavior system follow event event type 2 3 correspond instant bac activ sticki associ threshold ie threshold behav like attractor hold queue fix next sourc state chang similar featur shown exist analyz loss prioriti control scheme emi94 sticki result control polici threshold requir admit fraction fluid belong affect class exact composit admit fluid variou class control differ way depend qo consider motiv fair ness equal fraction flow admit character analysi event proceed describ aforement event process simul event trigger comput determin accept buffer usag loss rate port sourc class till next event occur schedul futur event also depend comput set port group subset base statu port zero occup denot underload port nonzero occup denot border port ie port overload threshold denot strictli overload port a1 singl threshold system benefit reader first consid simpl case reserv paramet common port ie r u thu one global threshold b gamma r buffer occup howev even case inhomogen exist account divers charact number connect port qo specif divers reflect possibl differ nomin alloc b differ port piecewis constant rate fluid gener port follow case 1 activ case fluid go system accept ie dt dt 2 case bac block flow overload port howev port border overload underload ie q must treat care fluid system start avoid complic assum border port q instant defin follow rate function ffi term fraction admit fluid overload port i2o note ffi monoton increas fi follow case 0 case underload port caus net increas buffer occup henc fluid overload port admit ie b f1 0 fluid come system admit control exercis ie c case oper valu net occup exhibit sticki consid case queue one port nomin occup say q go port admit port subsequ becom underload case tern fairshar fi caus port stay overload fairshar admit neither condit true occup port stay unchang q portlevel sticki induc notion port statu undergo discontinu chang condit q cross thu contribut port net drift given dt 0 case modifi rate function i2o rate function use instead 40 determin fi net rate chang buffer occup dqdt case fluid port admit howev fraction fluid port q admit keep dq dt 0 thu dt 4 entir buffer occupi uniform fraction fi fluid go underload border port admit net drift non posit defin rate function clearli satisfi case f1 0 fluid underload port border port admit ie 0 admit fraction fi satisfi net occup stick till next event a2 gener case extend analysi event gener case reserv paramet arbitrari number class connect index port let ij denot piecewis constant rate fluid class j offer port time total rate fluid gener port time given strictli admiss legal compon rate given l superscript r ij denot statu port time type 1 event simpli process sinc mere involv chang valu legal fluid rate assum time total occup global threshold ie qt r r one reserv paramet r ij port occup nomin valu ie q rate chang quantiti instant express simpli dt dt l l i2o l indic function 1 argument true 0 otherwis note sinc assum port queue nomin valu later modifi equat 46 includ term port assumpt 46 determin evolut port occup till event type 2 type 3 occur ie one threshold encount type 2 event occur one port queue nomin alloc fb g case set b nonempti need includ port rate calcul assum initi total occup qt global threshold port b defin follow aggreg rate border 1 flow legal flow rate port comput use 45 superscript reserv paramet follow case 1 l case dq posit none border fluid admit sinc port becom strictli overload instant 2 l case dq strictli neg border fluid admit sinc port becom underload instant 3 l case demonstr sticki port level fluid system cell behavior experi fluctuat longterm adher condi tion case content variou class fluid go port follow notion fair propos fraction ff border fluid border class admit fraction determin equat dt give case combin follow pair equat determin dq dt ff port b would like distinguish portlevel border superscript bp global border flow defin later dt l inform system evolut determin next event equat dt dt l l l i2o l type 3 event comput involv also impact control scheme simplic begin case instant j one reserv paramet port defin global border flow rate bg superscript repres port statusu possibl system evolut follow 1 dqdt possibl legal flow caus total occup increas sinc would strictli disallow thu requir dt 1 l l i2o l 2 condit occur admit legal border flow still caus total occup decreas impli dt 2 l l i2o l 3 case occur dqdt 1 0 dqdt 2 0 admit fraction fi border fluid would keep total occup unchang fraction determin equat dt l l i2o l form equat 53 gener comput fairshar variou context fair queue gener processor share maxmin fair solut procedur describ appendix b 6 must make distinct flow port event divid flow follow four class l rate equat must includ port admit fraction fi border fluid result follow rate chang dt l l l l dt dt possibl follow 1 legal flow admit 2 unrestrict access 3 fraction fi border flow admit determin equat solv use procedur outlin appendix v numer investig section present simul result case studi efficaci bac influenc scheme paramet system perform case studi involv statist multiplex fact shall see case number connect consid significantli support buffer share among port also cell loss ratio clr given result ratio lost cell cell offer buffer also comput fraction time loss occur report final consid two class connect rather differ characterist result report dupli cate one set class result group five subsect sec 51 give background data benchmark whole section background data benchmark studi standard sourc connect either class 1 2 specif given tabl class studi earlier emw95 lzt97 rrr97 note non regul sourc rogu besteffort also consid studi tabl ii contain basic data class rmbp pmbp thetacel tonm tm dual leaki bucket paramet statist multiplex gain capac may expect share buffer singl port 4port system consid case clr rang choic made keep burden simul accept buffer manag multiport system tabl ii complet share case virtual partit reserv paramet null thu multiport system consider given select isol protect purpos qo henc multiplex gain report optimist tabl ii class singl port system 4port system share gain ii buffer requir singl multiport system complet share speed15mbp kmax maximum admiss number connect singl port system given l 15mbp thu kmax take account statist multiplex across connect port follow experi take multiplex advantag port account connect system belong guarante servic categori assum multiplex advantag port buffer share best effort greedi rogu connect b bac perform homogen load provid basic perform data bac case consid four port number connect port see figur 5 reserv paramet common port r u paramet r vari figur 5a 6a k connect figur 5b 6b k connect port figur plot uncondit condit clr great import clr condit port load port ratio cell lost cell offer period port underload quantiti small bac work effect conjunct cac figur 5 6 show effect reserv paramet condit uncondit clr valu two differ nomin buffer alloc b figur 5 set aggress 333 cell per port figur 6 b set conserv class 1 connect high valu pr 40 reserv mechan help substanti reduc clr condit underload conserv set fb g class 2 connect benign pr 10 reserv uniformli effect restrict underload clr case clr condit underload uniformli lower uncondit clr reserv effect trade overload clr underload clr uncondit clr increas slowli r thu cost small amount throughput reserv mechan bac enforc complianc resourc alloc cac even allow effect share buffer across port c inhomogen among object investig capabl reserv mechan support divers qo individu port see figur 7 singl variabl r control reserv paramet four port r u nomin alloc port set conserv figur 7 number connect port case select port isol buffer alloc match nomin alloc qo experienc port would substanti differ figur 7a intend differ clr complet dilut clr experienc port roughli similar figur 7b show similar dilut lesser extent main observ experi small valu r eg introduc wide separ qo cost small amount throughput minim slowli vari differ throughput design select smallest valu r satisfi clr port select usual determin stringent clr requir effect besteffort traffic consid case one port port 4 4port system dedic carri traffic regul dual leaki bucket traffic port4 call besteffort design detriment port carri regul traffic multiplex point view assum aggreg sourc traffic port 4 offer buffer constant rate slightli excess bandwidth port queue initi empti inde good implement besteffort servic would restrict peak rate exceed port speed howev object test bac presenc greedi sourc take buffer space permit chose fig 8a 59 fig 8b 60 reserv appli best effort port ie r u port r u result figur 8 show scheme henc provid substanti protect isol regul sourc carri substanti best effort traffic e effect misbehav connect figur 9 show effect rogu connect port 4 4port system ideal condit system describ section 52 reserv paramet nomin alloc howev expect multiplex advantag across port scenario set cell bac intend protect wellbehav port 13 model misbehav guarante servic connect connect defect dual bucket regul fail regul mean rate henc connect pump fluid system steadili peak rate case differ besteffort case section 54 reserv appli uniformli port also port misbehav connect wellbehav connect thu reserv restrict wellbehav port well rogu port alway backlog account multiplex bandwidth connect port 4 result figur 9 reveal benefit reserv mechan port carri regul traffic effect protect effect rogu connect differ case b due part fact former peak rate one sourc signific fraction 615 port speed vi conclus paper propos evalu share buffer manag scheme buffer admiss control coupl connect admiss control also a1e05000101 clr clr condit port underload clr condit port overload clr b clr clr condit port underload clr condit port overload clr fig 5 effect reserv paramet uncondit condit cell loss ratio 4port system see sec 52 k class 1 connect port connect port problem optim alloc buffer bandwidth port share memori multiport system formul solv lossless multiplex framework scheme found effici robust extens work includ first analyt techniqu evalu benefit statist multiplex buffer resourc across port second develop fluid simul techniqu gener processor share disciplin multiport system r overload perform engin network nonhierarch hierarch rout ing virtual partit resourc share statedepend prioriti analysi space prioriti manag share memori atm switch dynam queue length threshold share memori atm switch traffic shape network node theori new approach alloc buffer bandwidth heterogen advanc sharedmemori design gigabit atm switch share memori opti malli optim buffer share simul simpl lossdelay prioriti scheme share memori atm fabric buffer manag packet switch optim control trunk reserv loss network network calculu made easi cac algorithm vbr connect vbr trunk sourc time scale optim bufferbandwidthtradeoff regul traffic atm node analysi optim design aggregatedleastbusyaltern rout symmetr lossless network trunk reserv multipl time scale regul worst case process atm network con trol virtual partit dynam prioriti fair effici resourc share sever servic hierarch virtual partit algorithm virtual privat network optim trunk reserv critic load link packet multiplex adversari regul traffic dynam call admiss control atm multiplex onoff sourc virtual queue techniqu ubr buffer alloc scheme atm network complet share base virtual partit tr support realtim applic integr servic packet network buffer alloc scheme atm network virtual partit dynam prioriti traffic shape network node sourc time scale optim bufferbandwidth tradeoff regul traffic atm node ctr david nicol guanhua yan discret event fluid model background tcp traffic acm transact model comput simul tomac v14 n3 p211250 juli 2004