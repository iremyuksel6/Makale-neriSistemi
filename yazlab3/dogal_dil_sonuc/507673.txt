probabilist congest control nonadapt flow paper present tcpfriendli congest control scheme nonadapt flow main characterist flow data rate determin applic adapt current congest situat network typic exampl nonadapt flow produc network comput game live audio video transmiss adapt qualiti possibl eg sinc alreadi lowest possibl qualiti level propos perform congest control nonadapt flow suspend appropri time aggreg multipl nonadapt flow behav tcpfriendli manner decis whether flow suspend base random experi order alloc probabl experi data rate nonadapt flow compar rate tcp flow would achiev condit present detail discuss propos scheme evalu extens simul network simul ns2 b introduct c ongest control vital element comput network internet wide discuss literatur experienc realiti lack appropri congest control mechan lead undesir situat congest collaps 1 condit network capac almost exclus use trac never reach destin current internet congest control primarili perform tcp recent year new congest control scheme devis support network applic use tcp typic exampl applic audio video transmiss internet one prime aim congest control scheme tri achiev share avail bandwidth fair manner tcpbase applic thu fall categori tcpfriendli congest control mechan tcp well exist tcpfriendli congest control algorithm requir data rate individu ow adapt network condit use tcp may take variabl amount time transmit xed amount data tcpfriendli congest control qualiti audio video stream may adapt avail bandwidth larg number applic limi tation case data rate individu ow determin applic adjust network condit network comput game typic exampl consid fact player reluct accept delay transmiss inform remot player action live audio video transmiss xed minimum qual iti recept useless fall categori class applic two accept state either ow sender transmit data rate determin applic data transmit call network ow produc applic nonadapt ow paper describ tcpfriendli endtoend congest control mechan nonadapt unicast ow call probabilist congest control pcc main idea pcc calcul probabl two possibl state ono expect averag rate ow tcpfriendli perform random experi succe probabl determin new state nonadapt ow repeat previou step continu account chang network condit mechan ensur aggreg multipl pcc ow behav tcpfriendli remaind paper structur follow section ii summar relat work section iii examin nonadapt ow detail thorough descript pcc mechan given section iv result simul studi conduct present section v conclud paper summari outlook futur work section vi ii relat work much work done tcpfriendli congest control scheme applic use tcp promin exampl scheme pgmcc 2 tear 3 tfrc 4 fliddl 5 discuss tcpfriendli congest control mechan found tcp well exist tcpfriendli congest control scheme requir bandwidth consum ow adapt level congest network denit nonadapt ow use congest control mechan conceiv use reserv mechan intservrsvp 7 diserv 8 nonadapt ow prevent congest altogeth howev mechan requir network support reserv resourc provid dierent servic class current case internet con trast pcc endtoend mechan requir support network pcc possibl partli admit ow continu adjust number ow network condit awar previou work directli match categori probabilist congest control iii nonadapt flow remaind paper nonadapt ow dene data ow send rate determin applic adjust level congest network nonadapt ow exactli two state either state carri data rate determin applic mean data transmit data rate two state ineci sinc applic abl util oer rate exampl applic use nonadapt ow commerci network game diablo ii quak iii ultima onlin everquest game typic employ clientserv architectur data rate ow client server determin fact action player must transmit instan taneous similar restrict hold ow particip distribut virtual environ without central server congest control scheme delay transmiss action long applic quickli becom unus easili experienc experi stateoftheart tcpbase network comput game peak hour rea son number applic resort udp avoid congest control altogeth situat either congest control vastli reduc util face moder congest desir much prefer approach turn ow particip inform applic accordingli particip need react congest averag user abl particip session reason amount time operiod ensur util applic time operiod distribut fairli among particip exampl applic nonadapt ow audio video transmiss xed qualiti two main reason may possibl scale media ow either user accept lower qualiti qualiti alreadi lowest possibl level second reason indic congest control mechan nonadapt ow complement congest control scheme adapt rate ow current network condit iv probabilist congest control probabilist congest control scheme pcc provid congest control nonadapt unicast ow suspend ow appropri time pcc endtoend mechan requir support router intermedi system network key aspect pcc long sucient high level statist multiplex import singl nonadapt ow behav tcpfriendli specic point time import aggreg nonadapt ow given link behav ow tcpfriendli due law larg number achiev pcc ow expect averag rate tcpfriendli b link travers su cientli larg number independ pcc ow rst glanc b may consid problemat possibl link travers small number pcc ow howev ection reveal case pcc ow signic term network congest individu pcc ow occupi high percentag link bandwidth therefor relax b follow condit c singl pcc ow expect rate small fraction avail bandwidth link cross given current develop avail bandwidth comput network condit like hold true requir number requir fulll order pcc applic r1 high level statist multiplex condit c discuss met r2 synchron pcc ow startup pcc ow start independ r3 averag rate pcc ow predict order pcc work must possibl predict averag rate pcc r4 averag rate tcp ow condit estim expect reason accur method estim averag bandwidth tcp ow would network condit b architectur simpl overview pcc architectur depict figur 1 pcc sender transmit data packet rate determin applic pcc receiv monitor network condit estim tcpfriendli rate use model longterm tcp throughput whenev pcc receiv observ degrad network condit conduct random experi determin whether ow suspend case neg result control packet sent notifi sender temporarili requir stop certain operiod sender may resum data transmiss pcc chose alloc much function receiv possibl facilit futur extens pcc multicast data reflect timestamp sequenc number data packet receiv sender control packet flow state onoff timestamp start stop flow reflect timestamp onoffprob calcul paramet measur tcpfriendli rate random experi fig 1 pcc architectur ow onstat control packet sent certain time interv allow continu measur roundtrip time requir determin tcpfriendli rate serv backup mechan case heavi network congest absenc period control messag sender stop send thu safeguard loss notic stop long ow onstat data packet transmit rate determin applica tion data packet includ timestamp recent control packet sender receiv order abl determin roundtrip time 1 multipl way done rang constant bitrat ow predict trivial usag applic level knowledg predict base past sampl data rate data packet also contain sequenc number allow receiv detect packet loss remaind work use tcp throughput formula padhy et al 9 comput tcpfriendli rate order determin paramet requir formula current version pcc use measur mechan propos tcpfriendli rate control protocol tfrc 4 howev import note pcc independ method use estim throughput tcp ow given network condit possibl altern exampl would use rate calcul mechan tcp emul receiv tear 3 c continu evalu determin probabl pcc ow allow send certain time interv necessari compar averag rate r na pcc tcpfriendli rate r tcp r na 1 p denot ratio r na r tcp solv equat two outcom possibl 1 nonadapt ow consum less amount bandwidth would tcpfriendli therefor stay 1 nonadapt ow consum bandwidth compar tcpfriendli ow case p taken probabl non adapt ow turn uniformli distribut random number x drawn interv 0 1 x p hold pcc ow turn time time interv ow may turn x p ow remain onstat sinc requir sucient level statist multiplex r1 law larg number aggreg pcc ow behav tcp friendli applicationspec paramet crucial util protocol thu user accept congest control mechan exampl short news clip transmit equal length clip network comput game play determin normal congest situat player abl perform meaning task averag time ow stay network design carri requir trac ie congest low averag ontim larg multipl assumpt rel constant level congest behavior pcc simpl time ow onstat repeat random experi use r tcp ever real network level congest constant may chang signicantli within time frame much shorter two case consid network condit may improv increas r tcp congest may get wors rst case problemat sinc endang overal perform network pcc ow may treat unfairli turn higher probabl howev time decis reevalu correct probabl pcc adjust new level second case much danger net work order prevent unfair treatment compet adapt ow even congest collaps import pcc ow respond quickli increas congest therefor pcc continu updat valu p perform random experi necessari obvious accept simpli recalcul p without account fact ow could turn one previou experi adjust pcc would continu perform random experi probabl surviv experi would drop 0 gener idea avoid droptozero behavior adjust rate use equat repres current expect averag data rate ow pcc modi valu r na take account last random experi perform ow end pcc maintain set p probabl ow stay random experi last second 2 socal effect rate r eff determin accord follow r na r na continu evalu random experi r eff replac r na equat 1 initi initi startup suspend ow restart receiv valid estim current condit network thu abl instantan comput meaning tcpfriendli rate avoid unstabl behavior ow stay onstat least protect time 0 0 amount time requir get necessari number 2 note p correspond p 1 measur obtain sucient accur estim network condit 0 pcc determin whether ceas send may continu order take data transmit protect time account probabl turn ow increas rst interv averag amount data transmit 0 equal carri compet na denot averag rate non adapt ow protect time r 0 tcp averag rate tcp ow would achiev time adjust ratio p 0 calcul 0 p 0 1 use p 0 probabl random experi ow turn applic may resum send least second start initi step 3 ow turn ow stay least second provid congest situat network get wors note possibl p 0 0 non adapt ow transmit data 0 tcp ow would carri obvious case use probabl random exper iment instead necessari turn ow increas p mechan excess data transmit protect time 0 distribut time span time 0 r 0 contrast r 0 updat 0 random experi conduct necessari calcul p 0 also correspond p includ respect set p 0 p long pcc rst slot protect time account valu p 0 use calcul eectiv rate thu onprob later set p use may consid problemat let ow send full rate 0 violat idea explor avail bandwidth done eg tcp slowstart howev requir level statist multi plex synchron startup prevent 3 adjust random oset prevent synchron case sever ow valu forc ceas send simultan due heavi congest caus excess congest addit valu usual decreas congest network sinc actual measur loss event rate make time interv 0 loss event becom frequent congest increas therefor estim network condit converg faster real valu r tcp determin receiv also calcul averag rate nonadapt ow r na 4 sum three import valu determin initi r tcp r na 0 nite state machin pcc receiv depict figur 2 timeout init set timer px set timer px px px px set timer timeout set timer px first fig 2 finit state machin pcc receiv runtim timer use state machin alway f fec sinc applic gener nonadapt ow frequent obey realtim constraint benet forward error correct compens packet loss howev packet loss typic signal congest therefor long consid unaccept compens congestionbas packet loss increas data rate ow redund inform forward error correct pcc support use forward error correct straightforward fashion applic decid employ forward error correct new r na simpli set rate ow includ forward correct inform perspect pcc equival applic increas send rate thu need special treatment increas r na result 4 implement use exponenti weight move averag past pcc rate note requir r3 option possibl appropri decreas p therefor fair toward compet ow g exampl pcc oper provid better understand behavior pcc let us demonstr pcc oper mean exampl depict figur 3 sender start transmit rate determin applic second receiv arriv initi estim r furthermor let us assum applic develop decid second good valu given applic p calcul 100 kbit valu p includ set p p 0 calcul sinc rst interv make data transmit protect time 10 100 kbit 50 100 kbit rate time r tcp fig 3 exampl pcc oper random number drawn interv 0 1 decid whether ow stay turn given high level statist multiplex result roughli 1 4 pcc ow turn aggreg remain pcc ow use fair tcpfriendli share bandwidth let us assum random number drawn smaller p 0 ow stay state depict figur 3 later point time bandwidth requir applic increas r 200kbit new valu p calcul follow 200 kbit 08 valu p save set p later use adjust probabl p 0 calcul base past valu p 0 200 kbit 076 10 100 kbit 50 200 kbit 076 let random number drawn decis 05 ow remain second decis rate tcp ow would condit drop r consequ new valu p p 0 calcul 200 kbit 08 05 200 kbit 076 05 10 100 kbit 50 200 kbit 076 05 valu p store p random number drawn p 0 rst data transmit protect time need longer account sinc pcc made past interv therefor p 0 longer calcul second rst valu within p time remov set network situat chang result follow new valu p 200 kbit 05 05 time let random number larger p result ow suspend next interv may start protect time note exampl design demonstr pcc work realiti situat rate nonadapt ow time tcpfriendli rate indic network resourc sucient applic extens current version pcc work describ number option possibl improv investig follow outlin two modic yet incorpor pcc h1 probe ow averag may receiv less bandwidth compet tcp ow sinc ow turn may resum time even network condit improv beforehand degrad pcc perfor manc particularli larg order improv averag pcc throughput ow could monitor network congest send probe packet low data rate sender receiv data rate r produc probe packet need taken account equat 1 3 includ addit factor 1 p r loss rate roundtrip time probe packet signal r tcp improv ow turn may turn immedi without wait remaind pass without perform initi step may done new network condit experi within last interv success congest situat worsen later must check whether experi last interv fail case ow must turn last entri set p time may ow resum normal oper probe work correctli major import estim network paramet work independ data rate pcc send current version pcc includ probe sinc could lead frequent chang state like distract user applic furthermor probe packet wast bandwidth probe may includ later version pcc option applic mechan improv includ threshold ow turn avail bandwidth increas signicantli improv number state chang reduc improv stabil h2 probe pcc ow turn upon initi two drawback first violat idea explor avail bandwidth tcp slowstart second ow may turn immedi initi complet user perceiv brief moment applic seem work turn altern would send probe packet increas rate decid whether turn ow paramet estim random experi succeed real data ow transmit drawback method bandwidth wast probe packet initi startup ow delay h3 loss rate monitor ow take account impact action network condit assum random experi number pcc ow fail due increas congest congest larg caus pcc ow mani ow suspend sinc imposs includ expect improv network condit calcul onprob similarli bandwidth consum pcc ow protect time sig nicant fraction bottleneck link bandwidth sever congest may inevit even protect time chang network condit caus pcc ow consum larg fraction bandwidth undesir reason vital condit sufcient level statist multiplex hold ow consum larg fraction bandwidth bottleneck link continu monitor packet loss rate eg probe packet correl otim pcc ow possibl estim impact ow network condit pcc ow caus larg variat loss rate ow suspend perman extens possibl use pcc environ unclear whether condit sucient level statist multiplex fulll v simul section use network simul analyz pcc behavior simul base dumbbel topolog figur sinc sucient analyz pcc fair result compar congest control protocol evalu reason simul carri ns2 network simul 10 commonli use evalu protocol droptail queu buer size 50 packet employ router use standard tcp implement ns ow compet pcc receiv sender bottleneck link fig 4 simul topolog tcpfriendli typic exampl pcc behavior shown figur 5 simul 32 pcc ow ow run bottleneck link capac applic send rate 750kbit pcc ow ideal onstat two third time exampl set 60 lead expect averag ontim 120 graph depict throughput one sampl tcp ow one sampl pcc ow well averag throughput ow start time pcc ow spread rst 50 avoid synchron 20060010000 100 200 300 400 500 600 700 800 900 throughput time fig 5 pcc tcp throughput tcp rate show usual oscil around fair rate 500kbit pcc behavior nearli perfect averag rate close match fair rate ono ratio two one natur ow achiev exactli ratio stay less time b intraprotocol fair usual desir evenli distribut necessari otim pcc ow instead sever penal examin pcc intraprotocol fair simul setup similar previou one use yet number concurr pcc tcp ow vari 2 128 probabl densiti function throughput distribut simul shown figur 6 expect throughput rang larger pcc coecient variat standard deviat mean pcc throughput 15 compar tcp coecient variat 3 result time frame chang state pcc ow 60 instead rtt tcp ow direct tradeo paramet intraprotocol fair longer time achiev larger result expens ow suspend longer time thu decreas intraprotocol fair taken extrem averag throughput kbit fig 6 distribut flow throughput larg ow may stay whole durat session permit lead type admiss control scheme c respons addit inter intraprotocol fair su cient respons ow chang network condit import ensur accept protocol havior tcp adapt almost immedi increas congest manifest form packet loss continu evalu timescal less describ section ivc pcc react nearli fast tcp increas congest howev react improv network condit timescal figur 7 depict averag throughput ow paramet set 60 ow rather dynam network environ chosen loss rate increas abruptli 25 5 time 200 300 time 400 420s100300500700100 150 200 250 300 350 400 450 500 throughput time avg tcp avg pcc fig 7 loss burst loss rate chang time 200 pcc adapt fast tcp still achiev overal averag rate quit close tcp rate second second later see littl spike averag pcc rate result pcc ow reenter protect time probe bandwidth otim sinc loss rate still high averag pcc rate settl appropri tcpfriendli rate shortli thereaft soon loss rate reduc origin valu probabl su pend ow reenter protect time immedi suspend probabl random experi ow onstat fail de creas thu time 300 random experi ow succeed 50 second later tcpfriendli rate reach although pcc react slowli tcp averag throughput tcp pcc time 350 similar contrast long highloss period short loss spike hurt pcc perform much tcp perform loss rate increas time 400 suspend pcc ow stay ostat least 60 actual congest persist 20 time congest end time pcc ow allow reenter protect time tcp throughput consider higher pcc throughput howev also see graph period congest pcc throughput quit drop level tcp throughput remain slightli higher follow analyz eect detail pcc throughput dierent applic send rate ideal pcc ow would suspend long pcc applic send rate tcpfriendli rate higher applic send rate averag pcc rate remain exactli fair rate use random experi figur 8 take averag pcc rate exactli fair rate reach applic send rate equal fair rate applic send rate 25 higher latter eect explain pcc suscept dynam network condit tcp typic sawtoothlik send rate result variat network condit unduli caus suspens pcc ow compar averag pcc throughput tcp throughput high pcc applic send rate nd pcc throughput thu pcc aggress continu increas applic send rate fair rate reach eect increas aggress higher applic send rate attribut tcp model use pcc state 9 tcp model base socal loss event rate loss event occur one packet lost within roundtrip time loss event rate consequ dene ratio loss event number packet sent denomin lossev rate increas packet sent roundtrip time due higher applic averag rate fair pcc applic sendrat fair rate model fig 8 comparison estim tcpfriendli rate send rate time number loss event increas extent sinc lost packet aggreg singl loss event indepth analysi eect found 11 relat estim tcpfriendli rate dierent applic send rate averag pcc rate achiev simul becom obviou pcc aggress caus pcc congest control mechan depend tcp model measur loss event rate send rate close actual tcp rate ensur tcp tcp model lost packet constitut loss event addit pcc suscept variat network condit dierenc tcpfriendli rate averag pcc rate also caus take account rate estim ow onstat e pcc fair dierent combin flow figur 9 show averag throughput achiev pcc dierent combin pcc tcp ow fair rate 500kbit applic send rate 750kbit gener pcc throughput increas number tcp ow sinc higher level statist multiplex lower variat network condit degrad pcc per formanc eect pronounc lower number pcc ow detail analysi pcc network simul refer reader 12 vi conclus paper present congest control scheme nonadapt ow type ow carri data rate determin applic adapt level congest network way suspend entir ow existing41664 number pcc flows2832numb tcp flows250750 throughput kbit fig 9 averag pcc throughput dierent number flow congest control approach therefor viabl nonadapt ow propos perform congest control ow suspend individu ow way aggreg nonadapt ow given link behav tcpfriendli manner decis suspend given ow made mean random experi seri simul shown pcc display tcpfriendli behavior wide rang network condit identi condit pcc throughput correspond tcpfriendli rate extent eect averag pcc send rate cancel nevertheless may degrad pcc perform intend includ probe option element pcc would improv pcc behavior highli dynam network environ furthermor current investig method perform accur estim fair tcp rate loss event rate measur send rate dier consider tcpfriendli rate final plan evalu pcc complement congest control multicast transmiss r john hei demann tr promot use endtoend congest control internet model tcp reno perform pgmcc equationbas congest control unicast applic fliddl advanc network simul issu modelbas flow control