effici support interact scan oper mpegbas videoondemand system paper present effici approachfor support fastscan fs oper mpegbas videoondemand vod system approach base onstor multipl differ encod version samemovi server inorm versioni use normalplayback sever iscan versionsi use fs eachscan version support forward backward fs givenspeedup server respond fs request switch normal version appropri scan versionscan version produc encod sampl theraw frame use gop pattern normal version scan version decod play back atth normal frame rate give perceptu motion speedupbi abl control traffic envelop scanvers approach integr previouslypropos framework distribut archiv mpegcod video stream fs oper support use littleextra network bandwidth beyond alreadi allocatedfor normal playback mechan control trafficenvelop scan version present actionstaken server client decod respons tovari type interact request describ detailth latenc incur implement variou interact request shown within accept rang stripingand diskschedul strategi store variou version atth server present issu relat implementationof approach discuss b introduct matur video compress technolog magnet storag subsystem broadband network made videoondemand vod comput network viabl ever major carrier test smallscal vod system compani provid relat servic product emerg cf 18 6 improv market vod servic acceler widescal deploy servic must support user interact afford cost mini mum interact vod servic must allow user dynam request basic vcr oper part paper present acmspi multimedia comput network confer 1998 depart electr comput engin univers arizona tucson az 85718 tel 520 621 8731 krunzecearizonaedu work partial support nsf career award ani9733143 partial univers arizona facultygr award z depart comput scienc univers maryland colleg park md 20742 stopresum pauseresum slow motion jump forward backward fast scan ie view movi forward backward multipl time normal playback rate difficulti support interact vod system vari one interact function anoth stop jump paus follow resum rel easi support requir bandwidth requir normal playback hand fastscan involv display frame sever time normal rate transport decod frame multipl time normal frame rate prohibit expens infeas today hardwar decod backward fs even difficult support compress scheme involv motion interpol frame b frame mpeg scheme 17 case mpeg refer frame group pictur gop must decod b frame gop play back revers order sever approach propos support interact vod system 26 interact oper includ scan implement client side use prefetch frame attract approach lie transpar network server ever scan oper last extend period time signific portion movi must prefetch addit larg buffer requir excess prefetch necessit request movi long commenc scan oper also support transmit frame multipl time normal frame rate commun channel differ one use normal playback 12 28 sinc given point time small percentag user interact mode interact channel share sever user howev case small probabl request fs oper reject ie fs oper guarante statist basi scan oper video frame must decod multipl time normal decod rate interact also address context batch 2 1 3 11 15 24 25 34 exampl 2 author assum vod server oper multicast environ wherebi multipl instanc movi simultan distribut howev instant differ logic time vcr oper implement move user multicast group appropri logic time sinc number differ instanc movi limit scheme support discontinu vcr function settop buffer need support fs oper excess number multipl instanc small furthermor decod still requir process frame multipl time normal frame rate achiev fs effect fs function also support drop part origin compress video stream 9 31 7 27 drop aim reduc transport decod requir fs without caus signific degrad video qualiti mpeg2 drop facilit variou mode scalabl spatial tempor snr 17 spatial scalabl exampl provid mean drop less import data enhanc layer maintain essenti data base layer typic drop perform compress must done select ensur drop data result signific degrad video qualiti exampl whole mpeg frame drop drop must take account depend structur mpeg sequenc one possibl drop b frame mpeg stream transmit anchor frame p 7 transmit frame play back normal playback rate give visual percept fs anoth altern drop mpeg frame pergop basi 9 sinc gop interv correspond half second approach introduc discontinu movi third approach skip trail part gop transmit first frame gop 27 transmit frame must chosen manner decod independ skip frame transmit frame play back normal frame rate good discuss mpegrel techniqu given 31 instead drop frame compress research suggest support fs oper use separ copi movi encod lower qualiti qualiti normal playback copi 30 scan copi includ p frame ie b frame use make easier provid backward fastscan motion vector predict frame encod manner reduc artifact play frame revers order work introduc effici approach support forward fastscan ff backward fastscan bf vod system similar 30 approach base encod separ copi movi use fs oper copi gener skip raw video frame compress refer version scan version one use normal playback normal version scan version use provid bf ff given speedup scan version encod way play back normal frame rate give percept faster video forward backward direct contrast approach 30 scan version encod use gop normal version b frame includ encod scan version perform manner enforc particular timevari traffic envelop version form ratecontrol compress result variabl pictur qualiti fs make envelop scan version ident suffici close envelop normal version fs integr previous propos framework distribut archiv mpegcod video stream 21 22 gener scan version exhibit similar envelop normal version fs oper made transpar underli network support littl extra bandwidth decod rate normal playback paper organ follow section 2 briefli describ previous propos framework video distribut base timevari traffic envelop section 3 preprocess step requir support fs oper present section 4 provid detail descript fsrelat interact support signal client server discuss section 5 section 6 discuss disk schedul need propos fs approach implement issu briefli discuss section 7 section 8 compar scheme fs scheme final section 9 summar paper point open research issu envelopebas video schedul multiplex section give overview previous propos framework distribut mpegcod video stream detail found 21 22 33 framework video distribut network consist sever fixedcapac dedic bandwidth pipe extend server remot headend switch public network figur 1 bandwidth pipe exampl atm virtual path vp onto sever video connect multiplex client request video demand send request server via one switch video stream transport constant frame rate perstream bandwidth video stream video stream switch video server client client headend switch public network figur 1 video distribut network two switch significantli less sourc peak rate sinc frame transmiss rate playback rate prefetch need client settop box bandwidth gain achiev statist multiplex mpeg stream describ determinist timedepend traffic envelop envelop constitut timevari upper bound bit rate intend captur period structur mpeg stream term repetit gop simplest form traffic envelop call global envelop describ follow ith mpeg stream global envelop period function time parameter 5tupl max largest frame typic frame p max largest p b frame typic p frame b max largest b frame construct remain two paramet character gop pattern ith stream n length gop itoi frame distanc ptop frame distanc exampl global envelop shown figur 2 base globalenvelop model mpeg stream appropri schedul multi time frame period bit rate global traffic envelop windowbas envelop figur 2 exampl global windowbas traffic envelop n plex server consid n mpeg video stream destin switch let b traffic envelop whose start time given let e n least common multipl fn 1 n g defin phase u n u 1 0 special case n describ frame lag gop rel closest gop 1 tempor relationship gop n stream complet specifi refer arrang let b tot traffic envelop result superposit n stream b tot period period e n peak rate b tot given b tot alloc ncu n bandwidth aggreg traffic stream guarante constant framer deliveri endtoend basi valu u cu n refer perstream alloc bandwidth psab smaller sourc peak rate alloc bandwidth ncu n updat dynam upon addit new video stream termin ongo one stream schedul perform new video request done expens delay servic new request e frame period optim schedul polici one produc best arrang u u2u n 2 u set possibl arrang n stream 21 optim suboptim schedul polici propos homogen heterogen multiplex stream character global envelop polici result psab 4060 sourc peak rate actual valu depend envelop bandwidth gain improv use windowbas traffic envelop 33 case prerecord mpeg sequenc divid sever segment number frame time take transmit one segment call window globalenvelop model five paramet use character windowbas envelop howev case valu first three paramet ie maximum frame size comput segment movi see figur 2 sever effici schedul scheme devis windowbas envelop clearli smaller window size smaller amount alloc bandwidth higher comput complex updat alloc bandwidth reason window size psab 1530 sourc peak rate depend envelop paramet window size bandwidth gain compar one achiev video smooth eg 29 26 23 13 16 advantag 1 requir buffer settop box 2 depend network delay variat 3 small startup delay framework 21 22 origin design playbackonli vod support client interact interact oper fs easili integr framework therefor address paper focu fs interact oper integr vod framework 3 preprocess video movi 31 scan version support fs oper server maintain multipl differ encod version movi one version refer normal version use normalspe playback version refer scan version use fastscan scan version use support ff bf given speedup server switch variou version depend request interact oper one version transmit given instant time given speedup factor 2 correspond scan version obtain encod subset raw ie uncompress frame origin movi sampl rate 1to refer sampl rate skip factor scan version encod use gop pattern normal version transport normal frame rate result easi show everi raw frame encod frame scan version also encod frame normal version ie frame scan version constitut subset frame normal version accordingli max global envelop scan version less equal max global envelop normal version case p max b max p b frame type involv motion compens predict interpol exploit similar consecut frame reduc frame size frame skip increas differ success imag result larger p b frame impact frame skip maximum averag frame size illustr figur 3 race clip skip clip consist 1000 frame frame dimens 320theta240 pixel skip factor encod perform use mpeg2 softwar encod 3 quantiz valu set 8 10 25 p b frame respect part b figur show averag size frame almost unaffect frame skip contrast averag size p b frame tend increas skip factor frame frame skip factor normal frame size race trace maximum frame size frame frame normal frame size race trace b averag frame size figur 3 frame size scan version versu skip factor valu normal respect counterpart normal version 32 control envelop scan version indic figur 3a encod sampl raw frame may result higher valu gener scan version compar envelop normal version encod p b frame scan version must rate control common approach control size mpeg frame vari quantiz factor perfram basi result variabl video qualiti fs oper howev qualiti still constant normal playback without loss gener consid case envelop global extens windowbas envelop straightforward bound size p b frame scan version encod use two predefin upper threshold u normal version u p u nonneg constant p frame scan version encod size greater u u b posit envelop scan version allow exceed envelop normal version fix amount case windowbas envelop u one window anoth depend variat p raw frame scan version encod p b frame encod algorithm check whether size compress frame associ upper threshold quantiz factor correspond frame type increas one raw frame reencod procedur repeat size compress frame smaller correspond upper threshold two differ approach use initi quantiz valu new p b frame encod first approach algorithm frame encod first time encod start last quantiz valu use encod previou frame type main problem approach quantiz valu might kept unnecessarili high follow encod larg frame result unnecessarili low qualiti fs import produc scan version compar envelop normal version littl incent reduc envelop envelop normal version second approach encod algorithm tri track nomin quantiz valu use encod type frame normal version consid encod p frame similar discuss appli b frame first encod attempt encod check final quantiz valu use encod previou p frame valu equal nomin quantiz valu p frame taken initi quantiz valu current frame hand last quantiz valu previou p frame larger nomin valu quantiz valu current frame initi last quantiz valu minu one first encod attempt result frame size within upper bound encod proce next frame otherwis quantiz valu increment raw frame reencod first approach advantag second approach tri produc fs effect constant qualiti normal playback possibl minim fluctuat video qualiti fs figur 4 depict variat quantiz valu p b frame u 005 experi nomin quantiz valu p b frame 10 25 respect note quantiz factor typep typeb frame plot versu index everi frame scan version includ indic frame second encod approach video qualiti fs vari smoothli around nomin qualiti expens increas number encod attempt sinc encod vod done offlin encod time may less issu video qualiti st algorithm 2nd algorithm quantiz factor race trace nomin valu p frame 1st algorithm 2nd algorithm 2005152535quantiz factor race trace nomin valu frame figur 4 variat quantiz valu encod scan version two approach contrast respect video qualiti use peak signaltonois ratio psnr use psnr ycompon decod frame psnr obtain compar origin raw frame decod version encod done use one two algorithm figur 5 depict result psnr valu race movi 005 approach achiev accept qualiti psnr suffici larg averag psnr valu 200 frame 369 db first algorithm 375 db second ie averag qualiti slightli better second algorithm absolut valu psnr convey advantag second encod approach purpos comput psnr valu 200 frame encod done without constraint ie upper bound impos use valu refer frame comput differ refer psnr valu psnr valu result two ratecontrol encod algorithm differ plot figur 6 segment scan version figur larg valu indic larg deviat refer psnr thu lower qualiti clearli second algorithm achiev better qualiti first approach expens encod attempt 33 storag overhead gener separ copi fs oper come expens extra storag server evalu storag overhead take account follow consider 1 bf ff speedup support use one scan version 2 frame scan version need store sinc part frame normal version 3 number encod frame scan version invers proport skip factor given consider storag overhead scan version comput follow without loss gener st algorithm 2nd algorithm 90 100 110 120 130 140 150 160 170 180 190515253545race trace figur 5 psnr encod frame scan version 1st algorithm 2nd algorithm 90 100 110 120 130 140 150 160 170 180 1900515253545race trace figur differ psnr constrain unconstrain encod consid case global traffic envelop let f number frame normal version frame fn frame f1m gamma 1n p frame f1 gamma 1m b frame storag requir normal version given avg p avg b avg averag frame size p b frame normal version let p avg averag size p b frame scan version skip factor storag requir scan version given w scan n scan version skip factor rel increas storag requir given numer exampl show rel increas storag requir given figur 7 8 race clip figur 7 depict rel storag overhead scan version function differ upper threshold 3 upper threshold neglig impact storag overhead 4 storag overhead scan version 25 storag requir normal version figur 8 show increas storag function gop length n storag overhead increas slowli n skip factor storag increas figur 7 rel increas storag function 0 5 10 15 20 gop length storag increas figur 8 rel increas storag function n switch normal scan version section describ switch version use support variou fsrelat oper notat use specifi frame consist letter frame type number indic logic time frame ie time rel event movi convent appli version thu b16 scan version b frame obtain encod 16th raw frame origin movi b frame necessarili 16th frame tempor order scan version exampl 8th frame tempor order scan version 41 oper normal playback interpol natur b compress decod b frame depend two refer frame p must transmit decod b frame decod one refer frame come b frame tempor order enabl continu playback receiv mpeg frame transmit network accord decod order thu transmiss decod order mpeg sequenc differ tempor playback order exampl tempor transmiss order normal version shown figur 9 order decod frame b2 b3 i1 p4 must first transmit decod process transmit decod display frame proce follow start time time unit taken one frame period server transmit frame accord transmiss order ignor network delay time decod receiv decod frame i1 time interv 0 1 maintain uncompress copi frame use decod subsequ frame interv 1 2 frame p4 receiv decod store frame buffer note p4 decod refer uncompress version i1 playback start i1 display interv 2 3 two time unit receiv interv b2 receiv decod interv 3 4 b2 display b3 receiv decod interv 4 5 b3 display i7 receiv decod store one two frame buffer point decod discard i1 subsequ interv p4 alreadi receiv decod display b5 receiv decod use uncompress p4 i7 frame frame buffer discuss assum frame receiv decod one time unit tempor order b transmiss order figur 9 tempor transmiss order normal version decod maintain twofram buffer contain two recent decod refer frame incom p frame decod refer recent two incom b frame decod refer 42 switch normal playback ff interact fs oper implement server switch normal version one scan version switch one version anoth perform onlin respons client request section describ switch use implement ff similar situat normal playback frame scan version differ transmiss order tempor order case ff tempor order scan version playback order figur 10 depict tempor transmiss order scan version 2 two success frame scan version differ logic time sn frame period logic time time rel event movi tempor order b transmiss order figur 10 tempor transmiss order scan version maintain gop period switch normal scan version must take place frame furthermor enabl correct decod p b frame normal scan version frame must common version ff request arriv server server continu send frame normal version exclud first p frame follow common frame point server switch scan version exampl figur 11 illustr idea exampl use normal scan version figur 9 10 respect ff request arriv server p16 normal version transmit case server continu send frame normal version includ b24 essenti correspond continu play back frame normal version next common frame i25 server switch scan version start p31 b27 b29 etc frame p31 decod use i25 common version exampl give worstcas latenc receiv continu normal playback sn frame period time ff request issu assum gop normal version correspond half second worstcas latenc s2 second averag latenc s4 second request ff client tri advanc fast movi thu extend normal playback second prior initi ff accept note disrupt playback transit normal ff switch oper transpar decod normal version scan version receiv display b9 p10 b11 b12 i13 b14 normal playback 7gamma ff request start ff figur 11 switch normal playback ff 43 switch ff normal playback present two differ approach switch ff normal playback first approach similar one use switch normal playback ff upon receiv request normal playback server continu send frame scan version next common frame also send b frame scan version preced frame tempor order come transmiss order server switch normal version approach illustr exampl figur 12 movi ff mode client request normal playback display frame b23 point server transmit p31 ideal receiv proceed play back frame indic 24 25 26 etc decod b24 decod need p22 normal version howev server transmit p22 frame eventu play back caus undesir artifact neither server start p28 normal version sinc decod incorrectli decod frame refer p31 scan version ensur switch normal playback done receiv frame decod properli artifact without modif normal oper decod server must continu send frame scan version next common frame i37 switch normal version start p40 decod properli use i37 mean ff extend beyond point normal playback request worst case normal playback resum logic time s2 second logic time normaltoff request sinc n frame scan version correspond second worth video howev take maximum 12 second real time reach appropri switch point scan version normal version receiv decod i25 b21 b23 p31 b27 b29 i37 b33 b35 p40 b38 b39 i43 display b17 p19 b21 b23 i25 b27 b29 p31 b33 b35 i37 b38 b39 normal playback request start normal playback figur 12 first approach switch ff normal playback approach advantag transpar decod ie decod need know switch scan version normal version occur howev disadvantag normal playback resum later point request worstcas differ s2 second movi time reduc extra ff introduc second switch approach normal playback resum subsequ frame normal version frame necessarili common scan normal version describ approach refer exampl figur 13 n shown figur client request resumeplayback b27 scan version display normal playback resum start subsequ frame normal version whose logic time closest logic time resumeplayback request exampl frame i31 switch process client continu display frame scan version ie extend ff frame closest logic time i31 exampl frame p31 frame p31 never display use decod b27 b29 scan version receiv display i31 normal version movi paus frame p34 normal version receiv decod sinc two refer frame need stream playback process paus period decod ignor frame sent server figur 13 frame repres x dont care cours mechan need inform decod start accept decod incom frame mechan describ later section note switch approach transpar decod shown logic time last display frame scan version farther frame period logic time subsequ frame normal version thu transit scan version normal version speedup motion pictur somewher normal playback ff exampl b29 scan version follow i31 normal version transit appear continu ff second ffstonorm switch approach normal playback resum logic time farther 12 second n frame period logic time ffstonorm request compar s2 second first approach maximum time client wait normal playback resum ns frame period extend ff frame period paus amount 12 m2n second less one second scan version normal version receiv decod p31 b27 b29 i31 x x p34 b32 b33 i37 b35 display b23 i25 b27 b29 i31 i31 i31 i31 b32 b33 p34 normal playback start normal playback request figur 13 second approach switch ff normal playback 44 switch normal playback bf instead gener distinct scan version bf use one scan version ff bf speedup case depend structur mpeg sequenc must taken account transmit frame bf decod display frame client side first consid switch normal playback backward playback special case bf 441 normal playback backward playback implement backward playback bpb server use differ transmiss order one use forward normal playback receiv bpb request server initi bpb oper start subsequ refer frame p current gop initi bpb decod must receiv decod refer frame current previou gop consid situat figur 14 tempor order underli mpeg sequenc shown part figur suppos bpb issu playback b36 subsequ refer frame follow b36 tempor order i37 thu client continu normal playback display i37 meanwhil server continu send frame normal version need maintain normal playback includ i37 server start send refer frame current previou gop maximum 2nm refer frame need decod store frame buffer bpb initi exampl client alreadi decod store i37 bpb issu henc initi bpb decod must receiv decod i28 p31 p34 current gop well i19 p22 previou gop frame transmit decod movi paus maximum durat two gop one second minim paus durat follow guidelin follow whenev possibl 1 refer frame present gop sent refer frame previou gop 2 refer frame given gop sent accord decod order howev ensur gop period transmit sequenc import satisfi two guidelin thu guidelin violat necessari exampl figur 14b frame i28 p31 p34 must sent order accord first guidelin first avail slot send frame maintain gop period time slot 42 wherea server send p frame slot 39 thu server send slot 39 i28 slot 42 violat first guidelin process build refer frame decod server need send frame otherwis b frame ignor decod result empti slot transmiss sequenc indic xs dont care figur 14b requir refer frame receiv decod bpb initi note p frame decod period receiv must temporarili store compress format refer frame previou gop receiv frame receiv decod display backward direct clearli manag frame buffer decod must modifi support bpb instead store two refer frame decod must store maximum 2nm uncompress frame mechan need signal decod transmit refer frame bpb mechan describ section 5 decod receiv indic bpb request modifi manag frame buffer accommod uncompress frame figur 15 depict chang content frame buffer exampl note bpb request issu decod p40 normal playback replac p34 thu time decod start modifi buffer manag uncompress p34 part alreadi discard p34 must retransmit 442 normal playback bf addit revers playback direct bf request also involv switch normal scan version section present two differ approach support bf first approach approach bf initi common frame follow bf request normal playback continu display common frame thu server continu send frame tempor order normal version receiv i37 b35 b36 decod i37 b35 b36 p40 i28 display b33 p34 b35 b36 i37 i37 i37 i37 i37 i37 i37 i37 time 43 44 normal request receiv decod p31 p34 i19 b36 b35 p22 b33 b32 display i37 i37 i37 i37 i37 i37 i37 i37 b36 b35 p34 b33 time paus 7gamma start bpb receiv p13 decod p25 display b32 p31 time 57 58 59 continu bpb b receiv decod display frame figur 14 switch normal playback backward playback time uncompress frame buffer 36 p40 i37 37 i37 p40 discard 42 i28 i37 48 p34 p31 i28 i37 54 p22 i19 p34 p31 i28 i37 57 p25 p22 i19 p34 p31 i28 figur 15 content frame buffer transit normal playback bpb normal version short period follow receipt bf request server switch scan version case normaltobpb server must first send refer frame current previou gop scan version maximum 2nm refer frame consid exampl figur 16 scan version follow paramet 2 bf request issu playback frame b72 normal version normal playback continu display i73 first common frame server receiv bf request transmiss p76 thu frame preced i73 playback order alreadi sent server switch scan version start send refer frame current previou gop exampl frame i37 i55 p61 p67 must receiv decod bf initi gener bf initi frame current gop one frame previou gop decod frame transmit follow guidelin use support bpb thu transmiss order p61 i55 p67 i37 decod order i55 p61 p67 i37 case bpb b frame need transmit buildup refer frame also p frame decod frame period receiv must temporarili store compress format buildup refer frame movi paus frame 73 frame i37 receiv decod transmiss decod revers playback scan version stream bf initi part c figur 16 depict chang content frame buffer previou exampl bf request issu display common frame rather bestcas scenario worstcas scenario occur bf request display common frame case normal playback continu addit sn frame period s2 second next common frame encount extra normal playback follow paus period last two gop one second refer frame accumul decod second approach altern approach initi bf closest refer frame p scan version bf request issu movi paus immedi current display frame could type client identifi refer frame scan version closest logic time larger logic time current display frame bf initi refer frame server receiv bf request start send refer frame last two gop includ design refer frame thereaft process similar one use first bf approach exampl consid situat figur 17 sinc bf request issu playback b80 movi paus frame refer frame scan version tempor order scan version receiv decod display time normal bf request receiv decod p61 p67 i37 b71 b69 p43 b65 b63 p49 display i73 i73 i73 i73 i73 i73 i73 i73 b71 b69 p67 b65 b63 time 81 paus 7gamma start bf receiv decod display p61 b59 b57 i55 b53 b51 time 94 95 96 97 continu bf b receiv decod play frame time uncompress frame buffer 71 i73 p70 72 p76 i73 73 i73 p76 discard 78 i55 i73 84 p67 p61 i55 i73 87 i37 p67 p61 i55 i73 90 p43 i37 p67 p61 i55 i73 discard 93 p49 p43 i37 p61 i55 p67 discard c content frame buffer decod figur first approach switch normal playback bf closest logic time current logic time p79 thu bf initi p79 decod must receiv p79 p61 i73 p67 p43 i55 p49 order must decod i73 p79 i55 p61 order done process transmit decod display frame purpos bf stream similar first approach maximum durat paus period given period one second m2n second independ slightli higher worstcas paus period first approach extra normal playback first approach receiv decod b78 i82 b80 b81 i73 display b77 b78 p79 b80 b80 b80 b80 b80 b80 b80 b80 b80 b80 normal bf request receiv decod p79 i55 p61 b77 b75 p67 display b80 b80 b80 b80 b80 b80 b80 b80 b80 b80 p79 b77 b75 paus 7gamma start bf receiv decod display i73 b71 b69 p67 b65 b63 p61 b59 b57 continu bf figur 17 second approach switch normal playback bf 45 switch bf normal playback easiest way resum normal playback follow bf initi normal playback frame common normal scan version analog first approach switch normal playback bf thu client request normal playback movi remain bf mode common frame encount worst normal playback resum logic point s2 second movi time logic time resum request take maximum 12 second reach common frame gop scan version correspond sampl video segment durat second howev take 12 second play back gop upon receiv resumeplayback request server switch normal version start common frame sinc two refer frame need frame buffer stream decod process movi paus common frame period m2n second paus need decod p frame normal version follow common frame normal playback resum switch process illustr exampl figur 18 form interact includ switch ff bf without go receiv i37 b65 b63 p31 b59 b57 p7 b53 b51 i19 b47 b45 x decod i37 b65 b63 p43 b59 b57 p49 b53 b51 i19 b47 b45 display b69 p67 b65 b63 p61 b59 b57 i55 b53 b51 p49 b47 b45 normal playback request receiv decod display p43 b41 b39 i37 i37 i37 i37 b38 b39 p40 continu bf paus 7gamma start normal playback figur 18 switch bf normal playback request oper switch delay second 1st ffstonorm 1st approach 12 ffstonorm 2nd approach 12 m2n bpbtonorm 12 m2n bfstonorm 12 m2n tabl 1 worstcas switch delay associ variou interact oper normal playback also vod system support multipl fs speedup switch take place two scan version differ speedup scenario dealt use similar approach one describ slight modif fit specif scenario due space limit elabor scenario defin latenc interact oper differ time request client side initi time client display devic latenc measur actual wait time client consist 1 roundtrip propag time rtt client server 2 process delay server 3 switch delay delay caus switch one version anoth includ time need reach appropri switch point time need build frame buffer bf oper second compon latenc rel small ignor rtt depend underli network topolog 28 author report oneway propag delay 50 millisecond widearea atm network less 10 millisecond atm lan connect tabl 1 summar worstcas switch delay variou type request delay measur real time logic time movi typic valu n say worstcas switch delay associ common interact oper rang fraction second three second delay reduc use smaller gop length n reduc howev reduc skip factor increas storag requir scan version sinc frame gener reduc gop length increas storag need normal scan version potenti reduc effici underli envelop base schedul mechan tune paramet requir care consider involv tradeoff 5 signal signal client server must extend allow decod distinguish variou version purpos use inband signal mechan base userdata field header mpeg frame frame carri header valu skip factor playback direct forward backward inform convey use one byte userdata field signific bit byte encod playback direct seven bit encod skip factor fact four bit enough repres skip factor remain three bit use convey type inform p b frame given version skip factor insert frame header encod version contrast frame skip factor insert transmiss sinc frame common two version frame playback direct ad fli transmiss mpeg stream done effici sinc user data frame header byte align locat fix offset begin mpeg frame server insert userdata byte minim pars mpeg stream inform gop structur version includ sequenc header header first gop inform use alloc memori frame buffer initi signal phase 6 disk schedul compress video typic store disk unit retriev block block consist one consecut gop stream switch scheme requir store multipl version mpeg movi straightforward approach store version separ selfcontain mpeg stream main disadvantag approach wast disk space separ maintain frame scan version although frame alreadi includ normal version cost disk space major issu storag approach prefer simplic otherwis duplic frame elimin method intermix version movi need accomplish structur retriev block extend accommod scan version movi let k skip factor support system let lcm least common multipl skip factor block consist lcm gop normal version plu lcm gop ith scan version way block contain portion normal scan version correspond segment movi result block consist lcm frame excess larg block size avoid appropri choic skip factor least common multipl small frame within block organ follow first frame lcm gop normal version put begin block separ frame gener scan version follow p b frame version p b frame first scan version prefer one smaller skip factor p b frame next scan version frame scan version includ structur allow effici disk access sinc relat data store consecut disk extra diskhead movement need access outofstream frame scheme frame block order accord transmiss order rearrang sent network rearrang effici achiev allow envelopeschedul modul respons send frame network random access buffer frame way transmiss order achiev without data movement memori order abl manipul individu frame knowledg locat frame within retriev block necessari accomplish associ small directori indic retriev block directori comput movi initi store disk maintain main memori databas sinc size small playback normal version first part retriev block includ p b frame normal version retriev disk wast io bandwidth scan version retriev two altern exist first altern read whole block discard frame belong target scan version altern read frame target scan version two read one frame begin block one p b frame target scan version directori associ block use locat appropri frame insid retriev block first approach simpler wast io bandwidth fs period second altern requir two read per block elimin wast io bandwidth especi sever scan version per movi anoth issu placement block within disk subsystem multidisk system block typic stripe among differ disk order maxim disk throughput balanc io load exampl stripe scheme found 32 5 10 convent block placement approach one 19 easili adapt framework particular retriev block compos frame version movi result composit stream stripe similar typic mpeg stream hand differ version movi store independ version place disk independ use exampl one algorithm 19 final block retriev playback perform use algorithm attempt minim disk head movement handl block retriev scan algorithm 14 sort block retriev cylind locat block outermost cylind servic first head move toward innermost cylind 7 implement issu feasibl stream schedul multiplex approach demonstr 20 use specif hardwar setup briefli discuss gener implement issu relat approach sinc approach reli timevari envelop time consider crucial oper purpos two import modul must implement video server stream manag envelop schedul modul coordin oper disk schedul use prefetch video block 71 stream manag main purpos modul handl client request new movi well request interact oper simplest form stream manag consist userlevel process process establish bandwidth pipe destin switch wait indefinit client request eg listen given port request new video arriv server stream manag inquir envelop schedul modul admiss new stream provid inform disk io subsystem retriev movi data place buffer envelop schedul modul case fs request stream manag respons ad stream switch inform need client decod eg speedup direct playback 72 envelop schedul modul respons envelopebas stream schedul multiplex admiss control upon receiv request new stream envelop schedul comput best phase schedul stream purpos maintain bandwidth tabl dimens n theta e n number ongo stream row describ traffic envelop one activ stream take rel phase account addit row need give aggreg bandwidth e n success time slot bandwidth tabl envelop prospect stream envelop schedul easili determin best phase new stream associ bandwidth similarli check admiss new stream stream found admiss envelop schedul updat bandwidth tabl incorpor envelop new stream analog procedur use ongo stream termin request accept data retriev disk subsystem unit block block size depend underli stripe mechan typic consist sever gop ideal would like retriev data framebyfram basi level fine granular feasibl current disk system envelop schedul maintain perstream buffer space use temporarili store retriev data statist multiplex implement softwar use highprior process execut period everi 1f second f frame rate format video start period process read one frame everi perstream buffer send frame network clearli timeli process impact effect multiplex approach timeli easili ensur realtim oper system os oss support neardeterminist execut process task variou approach use increas prioriti process perform multiplex task exampl flavor unix possibl assign neg prioriti process give higher prioriti execut userlevel process anoth possibl implement process part os kernel give process high prioriti ensur timeli approach use design stoni brook server 31 base freebsd 24 unix os yet anoth approach perform multiplex process implement process network devic driver 20 20 multiplex process implement devic driver atm network adaptor card nic commun stream manag userlevel process devic driver provid extend set system call deriv unix system call 8 comparison scheme section compar fs approach follow approach 1 multicastbas stream switch 2 2 contingencychannelbas 12 3 stoni brook server 31 4 prefetch 26 5 gopskip 8 6 partialgopskip 27 7 skip bp frame 7 brief discuss approach given section 1 comparison perform respect factor first column tabl 2 difficulti quantifi certain factor lack detail inform certain fs approach contend qualit comparison scheme given one three grade examin factor good fair poor comparison meant convey tradeoff provid differ scheme comment examin factor video data retriev disk unit block temporarili store server main memori sent network therefor memori requir server depend block size turn depend underli disk schedul approach scheme differ way store scan version disk scan version intermix normal version block compos gop block size rel larg result larg servermemori requir scheme gener smaller block size client resourc refer memori cpu requir need process decod receiv frame provid backward fs oper scheme requir buffer maximum refer frame larger postencod frame skip scheme requir buffer two refer frame lower prefetch approach larg amount video data must prefetch client settop box also client process requir scheme lower contingencychannel scheme client decod display data multipl time normal playback rate bitrat control refer flexibl trade visual qualiti fs lower bit rate regard factor partialdrop scheme perform poorli sinc limit reduct bitrat achiev fs contrast streamswitch scheme stoni brook achiev good degre bandwidth control sinc use preencod scan version two scheme provid tighter control result bit rate bit rate inject network also control extent prefetch approach visual qualiti includ qualiti display video fs oper continu video ie amount disrupt due video gap artifact caus delay initi interact oper factor hard measur quantit gener expect streamswitch scheme give better perform singlestream scheme compar stoni brook approach 31 scheme expect result better visual qualiti backward fs period latter scheme requir modifi motion vector backward scan version frameskip scheme result progress wors qualiti larger part mpeg stream skip prefetch contingencychannel approach result good visual qualiti expens extra client memori network bandwidth perform guarante refer mathemat proven bound respons time interact oper respons time durat instant client issu fs request fs initi client display includ transport process delay scheme capabl provid bound function refer flexibl support fs request eg number speedup durat fs period allow sequenc interact oper etc scheme stoni brook scheme achiev high function sinc impos limit time durat fs oper prefetch approach durat fs oper limit size memori settop box typic hold small portion video movi postencod frameskip scheme provid limit number fs speedup conting channel approach interact oper may deni mani user interact mode ie interact support statist basi multicast approach short fs period support use local store data extend fs requir switch differ multicast group differ logic playback time gener interact difficult support multicast approach term requir network bandwidth fs oper approach use almost amount bandwidth need normal playback perstream bandwidth fs oper also small multicast contingencychannel approach valu depend number activ sourc prefetch approach fs support local extra network bandwidth need fs oper similarli extra bandwidth requir gopdrop approach partial drop scheme less effici term fs bandwidth requir eg drop b frame caus averag bit rate mpeg sequenc increas drastic storag requir rel high scheme use multipl copi per movi stoni brook duplic frame done storag overhead scheme less stoni brook singlecopi scheme lower storag requir term complex disk schedul scheme involv skip part gop requir rel complic disk schedul subsystem care place data disk disk load balanc normal scan period stream switch scheme also requir slightli sophist disk schedul support switch differ copi contingencychannel scheme need retriev frame multipl time normal playback rate complic disk schedul subsystem gener disk schedul interact vod inher sophist unpredict pattern client interact factor scheme server memori f g g g g g g g client resourc f g p g p g g g bitrat visual qualiti g p g g g p p p perform guarante g network bandwidth g g g f g g f p storag requir p g g p g g g g schedul complex f g p f g g g g tabl 2 comparison differ approach support fs oper 9 summari futur work paper present approach support interact fastscan fs oper vod system approach integr previous propos framework distribut archiv mpegcod video stream widearea network scan oper support gener multipl differ encod version movi addit normal version use normal playback sever scan version maintain server scan version obtain encod sampl raw frame use support forward backward fast scan given speedup server respond fsrelat request switch current transmit version anoth version proper encod scan version interact scan oper support littl extra bandwidth decod requir normal playback gain come expens small storag overhead server variabl qualiti motion pictur fastscan period scheme impos restrict number space sequenc interact oper vod client given flexibl choos set avail vod servic offer differ level interact bill would done base qualiti flexibl associ select servic futur work includ develop multilevel qo framework interact vod level correspond certain degre interact could includ limit interact function eg number support speedup visual qualiti scan maximum durat scan oper etc r optim batch polici videoondemand server use multicast deliveri provid scalabl interact videoondemand servic metaschedul continu media audiovisu multimedia servic video demand specif 11 opensystem approach video demand vcr like function scalabl videoondemand servic provis vcrlike function support fulli interact playout diskarraybas video server storag retriev method support fulli interact playout diskarray base video server schedul polici ondemand video server batch provid vcr capabl largescal video server comparison bandwidth smooth techniqu transmiss prerecord compress video multimedia storag server tutori adapt piggyback novel techniqu data share videoondemand storag server vbr video atm reduc network resourc requir endsystem traffic shape isompeg ii baseband passband transport system interact video servic evalu video layout strategi highperform storag server bandwidth alloc admiss control scheme distribut mpeg stream vod system exploit tempor structur mpeg video reduct bandwidth requir impact video schedul bandwidth alloc multiplex mpeg stream algorithm lossless smooth mpeg video perform model interact videoondemand system split merg sam protocol interact videoondemand system bandwidth renegoti vbr video atm network support store video reduc rate variabl endtoend resourc requir optim smooth effici support scan oper video server adventur build stoni brook video server effici transport store video use stream schedul windowbas traffic envelop design analysi lookahead schedul scheme support pauseresum videoondemand applic tr metaschedul continu media algorithm lossless smooth mpeg video stagger stripe multimedia inform system schedul polici ondemand video server batch provid vcr capabl largescal video server support fulli interact playout diskarraybas video server evalu video layout strategi highperform storag server effici support scan oper video server design analysi lookahead schedul scheme support pauseresum videoondemand applic storag retriev method support fulli interact playout diskarraybas video server adapt piggyback support store video adventur build stoni brook video server impact video schedul band width alloc multiplex mpeg stream multimedia storag server lowcost storag server movi demand databas vbr video atm comparison bandwidth smooth techniqu transmiss prerecord compress video exploit tempor structur mpeg video reduct bandwidth requir split merg sam protocol interact videoondemand system pipelin disk array digit movi retriev scalabl videoondemand servic provis vcrlike function optim placement multimedia object disk array ctr kosta e psanni yutaka ishibashi mpeg4 interact video stream wireless network proceed 9th wsea intern confer comput p17 juli 1416 2005 athen greec