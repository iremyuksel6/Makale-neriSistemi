new collaps consequ np small circuit show selfreduc set polynomials circuit low probabilist class zpp np consequ get deeper collaps polynomialtim hierarchi ph zppnp assumpt np polynomials circuit improv wellknown result karp lipton proceed 12th acm symposium theori comput acm press new york 1980 pp 302309 state collaps ph second level sigmap2 assumpt furthermor deriv new collaps consequ assumpt complex class like fewp cp polynomials circuit final investig circuits complex sever languag class particular show everi fix polynomi set zppnp osnsiz circuit b introduct question whether intract set effici decid nonuniform model comput motiv much work structur complex theori research earli 1980 present varieti result obtain show imposs plausibl assumpt see eg survey 18 typic model nonuniform comput circuit famili notat karp lipton 22 set decid polynomials circuit precis set ppoli ie decid polynomi time help polynomi length bound advic function 32 karp lipton togeth sipser 22 prove npcomplet set polynomi size circuit symbol np 6 ppoli unless polynomi time hierarchi collaps second level proof given 22 exploit certain kind selfreduc wellknown npcomplet problem sat gener shown 8 7 everi ture selfreduc set ppoli low second level sigma p 2 polynomi time hierarchi intuit speak set low relativiz complex class give addit power use oracl class paper show everi selfreduc set ppoli even low probabilist class zppnp mean everi oracl sigma low zppnp impli low sigma p consequ low result get deeper collaps polynomialtim hierarchi zppnp assumpt np polynomials circuit abteilung fr theoretisch informatik universitt ulm ober eselsberg d89069 ulm germani koeblerinformatikuniulmd depart comput scienc tokyo institut technolog meguroku tokyo 152 japan watanabecstitechacjp part work done visit univers ulm support part guest scientif program univers ulm j k obler watanab least relativ world new collaps level quit close optim oracl rel np contain ppoli ph collaps pnp 17 39 also deriv new collaps consequ assumpt complex class like fewp cp polynomials circuit furthermor low result impli new relativiz collaps case modm p pspace exp polynomials circuit final applic deriv new circuit size lower bound particular shown relativ proof techniqu everi fix polynomi set zppnp osnsiz circuit improv result kannan 21 everi polynomi class sigma p 2 contain set follow everi relativ world exist set class zpexpnp polynomials circuit note nonrelativ proof stronger result corollari result 4 prove nonrelativ techniqu provabl exp coma exp subclass zpexpnp contain non ppoli set 12 36 explan work build prior techniqu order proof low result heavili use univers hash techniqu 13 34 build idea 2 14 24 design zero error probabilist algorithm help np oracl simul given zppnpa comput selfreduc set ppoli make use newli defin concept halfcollis precis show comput input 0 n expect polynomi time hash famili h use decid instanc length n strong np comput way h use decid nonmembership check whether h lead halfcollis certain set recent bshouti cleve gavalda kannan tamon 11 build result 19 shown class circuit exactli learnabl random expect polynomi time equival queri aid np oracl immedi impli everi set ppoli advic function comput fzppnpa ie probabilist oracl transduc expect polynomi time oracl npa precis sinc circuit produc probabilist learn algorithm 11 depend outcom coin flip comput multivalu advic function ie input 0 n accept probabl least 12 everi accept path output circuit correctli decid instanc length n wrt use techniqu 11 abl show everi selfreduc set ppoli even advic function fzppnp although provid differ way deduc zppnp low selfreduc set ppoli prefer give selfcontain proof use halfcollis techniqu reli mention result 11 19 paper organ follow section 2 introduc notat defin selfreduc use section 3 prove zppnp low self reduc set ppoli section 4 state collaps consequ new circuits lower bound deriv section 5 2 preliminari notat languag binari alphabet 1g usual denot lexicograph order sigma length string x 2 sigma denot jxj sigma n sigma n set string length n resp length smaller n languag cardin finit set denot jaj characterist function defin otherwis class c set coc denot class fsigma gamma j 2 cg encod pair tupl string use standard polynomialtim comput pair function denot hdelta deltai whose invers also comput polynomi time intent clear place fhx denot set nonneg integ throughout paper base log 2 textbook 9 10 25 31 33 consult standard notat use paper basic result complex theori definit probabilist complex class like zpp see also 15 machin polynomialtim nondeterminist ture machin assum comput path given input x either accept reject output accept input x perform least one accept comput otherwis reject x strongli accept strongli reject x 26 ffl least one accept resp reject comput path ffl reject resp accept comput path strongli accept strongli reject x said perform strong comput input x np machin everi input perform strong comput call strong np machin well known exactli set np conp accept strong np machin 26 next defin kind selfreduc use paper definit 21 let irreflex transit order relat sigma sequenc string call chain length k x 0 x k relat call length checkabl polynomi q 1 x 2 sigma x impli jyj qjxj 2 languag fhx chain length k x yg np definit 22 set selfreduc polynomialtim oracl machin self length checkabl order relat input x self queri oracl string oe x straightforward check polynomi relat selfreduc set introduc ko 23 well lengthdecreas worddecreas selfreduc set balcazar 6 selfreduc sens furthermor wellknown see exampl 9 6 29 complex class like np sigma p pspace exp manyon complet selfreduc set karp lipton 22 introduc notion advic function order character nonuniform complex class function h n sigma call polynomi length function polynomi p n 0 pn class c set let cpoli class set set 2 c 4 j k obler watanab polynomiallength function h n x 2 sigma n function h call advic function wherea correspond interpret set paper heavili make use hash techniqu fruit complex theori review notat fact hash famili also extend notion collis introduc concept halfcollis central proof techniqu sipser 34 use univers hash origin invent carter wegman 13 decid probabilist whether finit set x larg small linear function h sigma sigma k given boolean k mmatrix ij map string x string inner product ith row x h linear hash function sigma sigma k say x collis wrt h exist string 2 differ x gener x subset sigma h famili l linear hash function sigma sigma k say x collis wrt h collisionx h short x 2 x collis wrt everi h h x collis wrt h simpli say x collis wrt h next extend notion collis follow way x famili l linear hash function say x halfcollis wrt h halfcollisionx h short x 2 x collis wrt least dl2e mani hash function h h halfcollisionx import relationship collis halfcollis follow one x collis wrt h must halfcollis wrt h either 1 2 note predic collisionx h decid np provid membership x test np precis languag fhv hi j well set fhv hi j halfcollisionx np set x v v succinctli repres way languag np denot set famili l l linear hash function sigma sigma k hl k follow theorem prove pigeonhol argument say everi suffici larg set must collis wrt hash famili theorem 23 34 hash famili h 2 hl k set x sigma cardin jxj l must collis wrt h hand get next theorem call code lemma 34 upper bound collis probabl suffici small set theorem 24 34 let x sigma set cardin 2 kgamma1 choos hash famili h uniformli random hk k probabl x collis wrt h 12 also make use follow extens theorem 24 prove along line theorem 25 let x sigma set cardin 2 kgamma choos famili h uniformli random hl k probabl x collis wrt h 2 kgammasl1 gavalda 14 extend sipser code lemma theorem 24 case collect c exponenti mani set follow theorem similar flavor theorem 26 let c collect 2 n subset sigma cardin 2 kgamma choos hash famili h uniformli random probabl x 2 c collis wrt h proof theorem 25 everi fix x 2 c probabl collis wrt randomli chosen hash famili h 2 hl k 2 kgammasl1 henc probabl exist set x 2 c paper make use correspond result case halfcollis theorem 27 let x sigma let c collect 2 n subset cardin 2 kgammasgamma2 choos hash famili h uniformli random hl k probabl x halfcollis 2 c wrt h jxj delta 2 ngammasl2 proof everi fix 2 c everi fix x 2 x probabl x collis wrt randomli chosen h 2 gammasgamma2 henc probabl x collis wrt least half function randomli chosen hash famili h 2 hl k l l probabl x halfcollis wrt randomli chosen hash famili h bound 2 gammasl2 henc probabl exist 2 c x 2 x x halfcollis wrt h jxj delta 2 ngammasl2 3 low selfreduc set ppoli section show everi selfreduc set np conppoli low zppnp let 2 np conp 6 j k obler watanab interpret set h advic function construct probabilist algorithm np oracl follow two properti expect run time polynomi bound b everi comput path input 0 n oracl output inform use determin membership x length n strong np comput sens 26 use properti prove low zppnp follow order simul npa comput first precomput mention inform length use inform simul npa comput npnp conp comput note precomput perform done zppnp sinc remain comput done np henc impli zppnpa zppzppnp zppnp 41 make term inform precis need addit notat let selfreduc wit polynomialtim oracl machin self length checkabl order relat polynomi q assum fix polynomi p 0 follow fix n consid instanc length qn well advic string length exactli pn ffl sampl sequenc hx pair x instanc length qn b ffl sampl consist set advic string w consist ie cardin consist denot cs ffl sampl instanc x let acceptx resp rejectx set consist advic string accept x resp reject x ffl let correctx set fw 2 consist j ix consist advic string decid x correctli let incorrectx complementari set fw 2 consist j ix w 6 axg note set acceptx rejectx well correctx incorrectx form partit set consist condit b precis state follow b everi comput path input 0 n output pair hs hi consist sampl linear hash famili h x length n consist halfcollis wrt h correctx incorrectx pair hs hi satisfi condit b determin whether instanc x length n simpli check whether consistentx halfcollis wrt h acceptx rejectx sinc condit b guarante halfcollis alway found check done strong np comput let us prove main lemma lemma 31 selfreduc set np conppoli exist probabilist transduc oracl np satisfi two condit proof use notat introduc far recal qn length bound queri occur selfreduct tree produc self instanc length n pn advic length set instanc length qn let l polynomi defin 1 denot sigma n set fy j 9x 2 sigma n xg clear sigma n sigma n sigma qn descript given input loop randomli hln pn k collis wrt h k g exist x 2 sigma n consist halfcollis incorrectx wrt h kmax use oracl find string x determin ax els exitloop end loop output start empti sampl enter main loop execut loop first randomli guess seri pn mani hash famili comput integ kmax maximum png consist collis wrt h k notic pad trick assum cs alway larger 2ln impli consist must collis wrt h 1 sinc particular consist collis wrt h kmax follow everi instanc x 2 sigma n consist halfcollis wrt h kmax either correctx incorrectx exist string x 2 sigma n consist halfcollis incorrectx wrt h kmax string ad sampl continu execut loop describ use np oracl find x case otherwis 8 j k obler watanab pair hs h kmax fulfil properti state condit b halt show expect run time polynomi bound sinc initi size consist 2 pn sinc consist never becom empti suffic prove polynomi r elimin singl execut main loop probabl least 1rn least 1rnfraction circuit consist fact show singl extens reduc size consist probabl least factor smaller perform 2 7 lnpn loop iter iter main loop extend pair hx axi shrink size consist factor smaller probabl event bound 2 7 lnpn let sampl let kmax correspond integ determin specif execut loop first deriv lower bound kmax smallest integ k 1 cs ln2 k1 sinc either pn consist collis wrt hash famili h kmax 1 use theorem 23 cs ln2 kmax 1 henc sinc expand string x 2 sigma n consist halfcollis incorrectx wrt h kmax sinc consistentshx probabl size consist decreas factor smaller bound probabl wrt h kmax consist halfcollis set incorrectx size cs2 7 ln let follow theorem 27 probabl consist halfcollis wrt uniformli random chosen hash famili h 2 hln thu probabl k 0 consist halfcollis wrt h k0k set incorrectx size cs2 7 ln bound final show determin instanc x 2 sigma n exist consist halfcollis incorrectx wrt h kmax intuit use selfreduc test correct wrt program hs h kmax say ffl pair hs hi accept instanc x consist halfcollis ffl hs hi reject x consist halfcollis rejectx wrt h notic incorrect program might accept time reject instanc main idea find whether hs h kmax incorrect instanc mean wrt h kmax consist halfcollis incorrectx test whether program hs h kmax accord output self oracl queri self answer accord program precis consid np set hi j comput path self input z fulfil follow properti queri q answer ye hs hi accept q queri q answer hs hi reject q accept hs hi reject z reject hs hi accept z g shown next claim correct hs h kmax instanc z decid ask whether hz belong b provid hs h kmax correct potenti queri self input z claim assum hs h kmax correct oe z hs h kmax incorrect z hz belong b proof use fact everi instanc x 2 sigma n consist half collis wrt h kmax either correctx incorrectx easi see incorrect z comput path follow self z oracl wit hz b convers assum hz belong b let comput path wit fact note queri q answer correctli wrt sinc otherwis hs h kmax incorrect q oe z henc path follow self z oracl therefor decid z correctli hand sinc wit hz inde incorrect z defin oracl set c phi hi j chain length least k string 2 sigma n string z x hz hi j accept comput path self input x queri q answer ye consist halfcollis acceptq resp rejectq wrt h g note proof claim also show z 2 sigma n correct oe z z 2 hz complet descript first ask whether string belong c clear neg answer impli correct sigma n otherwis ask queri form comput binari search max maximum valu belong c similar idea use obler watanab input loop randomli hln pn k collis wrt h k g els exitloop end loop output 27 know determin lexicograph smallest string xmin h0 c sinc hq hold instanc q oe xmin follow induct claim hs h kmax correct q oe xmin henc must incorrect xmin furthermor determin membership xmin ask whether string hx min belong theorem 32 everi selfreduc set class np conppoli low zppnp proof first show npa zppnp let l set npa let determinist polynomialtim oracl machin polynomi let sn polynomi bound length oracl queri input hx yi x length n l accept probabilist oracl machin n use follow np oracl hi j 2 sigma tjxj input hx yi accept path queri q answer ye consist halfcollis acceptq resp rejectq wrt h g n accept l input x n first simul input 0 sjxj comput pair hs h kmax describ ask question np oracl n ask queri hx 0 find whether x l prove npa zppnp sinc via proof relativ follow zppnpa also contain zppnp show low zppnp 4 collaps consequ direct consequ theorem 32 get improv karp lipton sipser result 22 np contain ppoli unless polynomialtim hierarchi collaps sigma p corollari 41 np contain np conppoli polynomialtim hierarchi collaps zppnp proof sinc npcomplet set sat selfreduc assumpt np contain np conppoli impli sat low zppnp henc polynomialtim hierarchi collaps zppnp collaps polynomialtim hierarchi deduc corollari 41 quit close optim least relativ world 17 39 oracl rel np contain ppoli polynomialtim hierarchi collaps pnp rest section report interest collaps easili deriv use standard techniqu also point independ sever research second author first straightforward check theorem 32 relativ oracl b selfreduc set class npb conpbpoli npa contain zppnpb consequ theorem 32 gener follow result theorem 42 selfreduc set class sigma p poli direct consequ theorem 42 get improv result 1 20 state k contain sigma p poli unless polynomialtim hierarchi collaps sigma p corollari 43 let k 1 sigma p k contain sigma p poli polynomialtim hierarchi collaps zppsigma p proof sinc sigma p contain complet selfreduc languag assumpt k contain sigma p poli impli sigma p yap 40 prove pi p k contain sigma p poli unless polynomialtim hierarchi collaps sigma p k2 consequ theorem 42 get follow improv yap result corollari 44 k 1 pi p poli proof assumpt pi p k contain sigma p poli impli sigma p k1 contain sigma p poli sigma p poli henc appli corollari 43 corollari theorem 42 also similar collaps result mani complex class follow typic exampl corollari 45 k 2 conppoli k low zppnp proof wellknown everi set fewp left set 30 worddecreas selfreduc resp fewp thu assumpt np conppoli resp fewp np conppoli follow theorem 32 left set sinc polynomialtim manyon reduc left set also low zppnp corollari 46 everi k 1 cp sigma p poli proof first sinc cp complet worddecreas selfreduc languag poli impli cp zppsigma p obler watanab poli impli ph sigma p k poli therefor ph collaps zppsigma p k corollari 43 final sinc cpph bppc p 37 follow cpph ph sinc 38 get induct ch ph zppsigma p corollari 47 let k 2 k 1 poli k ph ph collaps zppsigma p proof proof k 2 fexppspaceg immedi theorem 42 sinc pspace complet lengthdecreas selfreduc languag sinc exp complet worddecreas selfreduc languag 6 proof k 2 analog one corollari 46 use fact modmp complet worddecreas selfreduc languag 29 ph bppmodm p 37 35 sinc proof techniqu relativiz result hold everi relativ world hand known class stronger collaps consequ obtain use nonrelativiz argument theorem 48 28 4 3 k 2 fpp modmppspaceexpg k ppoli k harri buhrman point us corollari 47 also deriv theorem 48 5 circuit complex kannan 21 prove everi fix polynomi set sigma p decid circuit size sn use pad argument obtain exist set nexpnp conexpnp polynomials circuit theorem 51 21 1 everi polynomi set sigma p 2 circuit size sn 2 everi increas timeconstruct superpolynomi function fn set ntimefnnpcontimefnnp polynomi size circuit applic result section 3 improv kannan result everi relativ world class sigma p 2 zppnp class contimefnnp zptimefnnp respect zptimefnnp denot class set accept zero error probabilist machin expect run time ofn rel np oracl note set class ppoli may fix interpret set appropri one p let univ denot fix interpret set furthermor ppoli remain class relax notion advic function h wrt univ follow everi x univ x hjxj ie hn decid correctli n instead n sequenc circuit cn n 0 call circuit famili everi n 0 cn n input gate nbit string x 1 wellknown see eg 9 univ chosen way advic length circuit size ie number gate polynomi relat precis assum polynomi p follow hold everi set ffl h advic function wrt univ exist circuit famili cn n 0 size jcn j pn ffl cn n 0 circuit famili exist advic function h wrt univ length jhnj pjc n j moreov assum everi polynomialtim interpret set constant c h advic function wrt exist advic function h 0 wrt univ length jh 0 nj n follow lemma obtain direct diagon cf correspond result 21 set call printabl see 16 polynomialtim oracl transduc oracl set 2 c input 0 n output list string n lemma 52 everi fix polynomi delta p 3 printabl set everi advic function h length jhnj sn almost n proof given n sequenc string length n enumer lexicograph order consid two set haveadvic find defin follow haveadvic 9 j1 delta delta delta sinc 2 string w sigma sn least one pair form hn 1 delta delta delta sn contain haveadvic provid sn 2 n let ff n denot lexicograph smallest pair hn 1 delta delta delta sn ie advic length smaller sn accept string x accord set string x jx n 1 sn 2 n ith bit ff n ie 1 binari search use oracl find ff n comput polynomi time sinc haveadvic np thu find npnp follow pnpnpprintabl sinc furthermor almost n n advic length smaller sn lemma follow corollari 53 everi fix polynomi set zppnp circuit size sn proof np polynomials circuit take otherwis corollari 41 thu theorem easili follow lemma 52 corollari 54 let f increas timeconstruct superpolynomi function zptimefnnp contain set polynomials circuit 14 j k obler watanab proof np polynomials circuit take otherwis corollari 41 thu follow lemma 52 set b zptimen k np everi advic function h b length jhnj n almost n proof techniqu lemma 52 assum length n string b 1s occur olog n rightmost posit consid follow set n denot jxj interpret set clearli belong zptimefnnp belong p furthermor h advic function everi form 0 bfn 1k cgamman x h 0 n suitabl advic function length jh 0 nj thu follow almost n show length h superpolynomi corollari 55 everi relativ world zpexpnp contain set polynomials circuit remark result prove relativiz argument hand harri buhrman 12 independ thoma thierauf 36 point us theorem 48 prove nonrelativiz proof techniqu use show exp coma exp contain non ppoli set exp denot exponentialtim version babai class 5 languag l mafn exist set b 2 dtimeon x length n z chosen uniformli random sigma fn corollari 56 12 36 exp coma exp contain set polynomi size circuit sinc exist recurs oracl rel set expnp polynomi size circuit 39 17 possibl extend corollari 55 relativ techniqu class expnp 6 conclud remark interest question concern complex class c known contain ppoli known complet set whether exist set c gamma ppoli construct shown exampl corollari 55 know class zpexpnp contain set polynomials circuit abl give construct proof fact best knowledg explicit set known even acknowledg help discuss suggest regard work grate h buhrman r gavalda l hemaspaandra ogihara u schone r schuler thierauf like thank h buhrman l hemaspaandra ogihara permit us includ observ paper r hide inform oracl queri concept learn arithmet new method structur complex random proof system hierarchi complex class structur complex theori introduct theori complex oracl queri suffici exact learn univers class hash function bound complex advic function comput complex probabilist complex class comput time np set differ densiti relativ exponenti probabilist complex class hard spars set random gener combinatori structur uniform distribut connect nonuniform uniform complex class journal comput system scienc strong nondeterminist polynomialtim reduc algebra method interact proof system spars hard set count class polynomialtim bound truthtabl reduc np set spars set comput complex simultan resourc bound complex theoret approach random probabilist polynomi count class least hard polynomialtim hierarchi complex class defin count quantifi relativ circuit complex consequ nonuniform condit uniform class robust probabilist comput complex class definit perturb tr ctr christian glaer lane hemaspaandra moment perfect clariti ii consequ spars set hard np respect weak reduct acm sigact news v31 n4 p3951 dec 2000 valentin kabanet jinyi cai circuit minim problem proceed thirtysecond annual acm symposium theori comput p7379 may 2123 2000 portland oregon unit state lane hemaspaandra mitsunori ogihara gerd wechsung reduc number solut np function journal comput system scienc v64 n2 p311328 march 2002 rahul santhanam circuit lower bound merlinarthur class proceed thirtyninth annual acm symposium theori comput june 1113 2007 san diego california usa lane hemaspaandra sigact news complex theori column 32 acm sigact news v32 n2 june 2001 jinyi cai venkatesan chakaravarthi lane hemaspaandra mitsunori ogihara compet prover yield improv karplipton collaps result inform comput v198 n1 p123 april 10 2005 piotr faliszewski lane hemaspaandra open question theori semifeas comput acm sigact news v37 n1 march 2006 lanc fortnow beyond np work legaci larri stockmey proceed thirtyseventh annual acm symposium theori comput may 2224 2005 baltimor md usa johann kbler rainer schuler averagecas intract vs worstcas intract inform comput v190 n1 p117 april 10 2004