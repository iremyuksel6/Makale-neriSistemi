queri process stream xml data address effici process continu xml stream server broadcast xml data multipl client concurr multicast data stream client fulli respons process stream framework server may dissemin xml fragment multipl document stream repeat replac fragment introduc new fragment delet invalid one client use lightweight databas base propos xml algebra cach stream data evalu xml queri data synchron client server achiev annot punctuat transmit along data stream present framework process xml queri xqueri form continu xml stream framework base novel xml algebra new algebra optim framework base queri decorrel essenti nonblock stream process b introduct 11 motiv xml 31 emerg lead textual languag repres exchang data web even though html still domin format publish document web xml becom preval exchang format businesstobusi transact enterpris intranet expect near futur internet popul vast number webaccess xml le one reason popular support simpl nest structur tag element xml format abl repres structur content complex data eectiv take advantag structur xml document new queri languag invent go beyond simpl keywordbas boolean formula support current web search engin sever recent propos xml queri languag 17 none adopt standard yet nevertheless recent work draft xml queri languag releas worldwid web consortium w3c call xqueri 7 may becom standard near futur basic featur xqueri illustr follow queri taken w3c web page 31 f b documenthttpwwwbncombibbook return book yearf byear g f btitl g list book publish addisonwesley 1991 includ year titl documenturl express return entri point xml data contain xml document locat speci url address xqueri use path express navig xml data exampl tag select bpublish return children b tag name publish wildcard select btitl return descend b possibl includ b tag name titl uenc modern databas queri languag oql languag odmg standard 6 xqueri allow complex queri compos simpler one support mani advanc featur navig restructur xml data xml data construct aggreg univers existenti quantic sort mani commerci product recent take advantag alreadi establish databas manag technolog store retriev xml data although none fulli support xqueri yet fact nearli relat databas vendor provid function store handl xml data system system support automat insert canon structur xml data tabl rather util xml schema gener applicationspec databas schema also provid method export databas data xml form well queri transform form html eectiv process xml data requir storag access function provid modern databas system queri process optim concurr control integr recoveri distribut secur unlik convent databas xml data may store variou form nativ form text document semistructur databas conform standard schema applicationspec databas export data xml form may dissemin server client variou way broadcast data multipl client xml stream make avail upon request base previou experi tradit databas queri optim eectiv rst translat suitabl intern form clear semant algebra calculu xml data store applicationspec databas schema xml queri data translat nativ queri languag support databas system turn compil nativ algebra form major research issu relat approach address previou work 14 automat gener databas schema well automat translat xml queri databas queri gener schema hand xml data store semistructur data process xml stream new algebra need captur heterogen irregular intrins xml data 4 fact alreadi algebra semistructur data includ algebra base structur recurs 4 yatl 10 8 sal 3 xalgebra 16 xscan 22 none algebra use emerg xml queri languag yet littl work algebra queri optim base algebra paper focus ecient process continu xml stream current web server adopt pullbas process technolog client submit queri server server evalu queri local databas send result back client altern approach pushbas process server broadcast part entir local databas multipl client multicast data stream usual acknowledg handshak client fulli respons process stream 1 push data multipl client highli desir larg number similar queri submit server queri result larg 2 request region geograph databas furthermor distribut process client reduc server workload increas avail hand stream client acknowledg correct receipt transmit data mean case nois burst request server resubmit data packet correct error stream data may innit transmit continu stream measur sensor data transmit realtim monitor system continu would like support combin process technolog pull push framework unit transmiss xml stream xml fragment correspond one xml element transmit document framework server may prune fragment document xml tree call ller replac hole hole simpli refer ller uniqu id filler turn may prune ller replac hole result sequenc small fragment assembl client side lling hole ller server may choos dissemin xml fragment multipl document stream repeat fragment critic high demand replac chang send delta chang introduc new fragment delet invalid one client respons cach reconstruct part origin xml data limit memori necessari evalu xml queri data like relat databas data stream data process relat oper unlik store databas data though may provid fast access path stream content access sequenti nevertheless would like util databas technolog use pull data server push data client process data client side lightweight databas manag system exampl server may broadcast stock price client may evalu continu queri wireless mobil devic check warn activ trigger rapid chang select stock price within time period sinc stock price may chang time client must abl cach main memori secondari storag old price anoth exampl process mpeg7 24 stream extract queri video context inform mpeg7 standard develop mpeg move pictur expert group combin multimedia data variou form includ content descript represent perceiv inform sinc xml fragment process client side becom avail queri process system resembl mainmemori databas rather tradit secondarystoragebas databas although mainmemori databas dierent backend secondarystorag databas mainmemori queri map similar algebra form optim similar way tradit queri one dicult problem process algebra oper continu stream presenc block oper sort groupbi requir process entir stream gener rst result process oper eectiv requir server pass hint call punctuat 29 along data indic properti data one exampl punctuat indic price stock start alreadi transmit valuabl inform client perform groupbi stock name complet ush memori group correspond stock name extend queri processor make eectiv use punctuat yet investig other 12 approach paper address ecient process continu xml stream server broadcast xml data multipl client concurr framework server may dissemin xml fragment multipl document stream repeat replac fragment introduc new fragment delet invalid one approach client use lightweight inmemori databas cach stream data physic algorithm base xml algebra evalu xml queri data synchron client server achiev annot punctuat transmit along data stream necessari inform need client structur transmit xml document call tag structur server period dissemin tag structur special annot xml form exampl follow tag structur streamstructur tag namebib id1 tag namevendor id2 attributesid tag namenam id3 tag nameemail id4 tag namebook id5 attributesisbn relatedto tag nametitl id6 tag namepublish id7 tag nameyear id8 tag namepric id9 tag nameauthor id10 tag namefirstnam id11 tag namelastnam id12 streamstructur correspond follow partial dtd element bib vendor element vendor name email book queri process perform client side help lightweight queri optim major compon queri optim eectiv algebra would serv intermedi form translat abstract queri concret evalu algorithm present new xml algebra queri optim framework base queri normal queri unnest also known queri decorrel mani propos queri optim focus unnest nest queri 23 18 26 11 12 9 28 nest queri appear often xml queri relat queri xml queri languag includ xqueri allow complex express point queri current commerci databas system typic evalu nest queri nestedloop fashion unaccept onlin stream process leav mani opportun optim propos unnest techniqu requir use outerjoin prevent loss data group accumul data remov null valu introduc outerjoin consid isol queri unnest result perform improv instead make possibl opti mizat otherwis would possibl specic without unnest choic evalu nest queri naiv nestedloop method step outer queri step inner queri need execut queri unnest promot oper inner queri oper outer queri oper mix allow optim techniqu take place rearrang oper minim cost free movement select predic inner outer oper enabl oper select xml queri unnest method uenc queri unnest method oodb queri present earlier work 15 data stream nite size smaller client buer size obviou way answer xqueri xml stream reconstruct entir xml document memori evalu queri cach document realist assumpt even nite stream client comput often mobil typic limit resourc comput power xqueri translat xml algebra algebra oper assign streambas evalu algorithm requir consum entir stream produc output even data stream nite oper sort groupbi aggreg may take long complet howev client may simpli satis partial result averag valu small sampl data rather entir databas onlin aggreg 20 21 address problem display progress point time along accuraci result allow client interrupt aggreg process approach base annot pred pred vpath pred pred grouppr f figur 1 semant xml algebra data content call punctuat 29 punctuat hint sent server indic properti data alreadi transmit hint take form predic compar path express use tsid rather tag name constant valu follow streampunctu propertypath cmp constant exampl follow punctuat streampunctu property1235isbn 1000 accord tag structur path 1235isbn correspond xpath bibvendor3bookisbn punctuat indic server alreadi transmit book publish 3rd vendor whose isbn less equal 1000 present set streambas evalu algorithm xml algebra oper make use punctuat reduc amount resourc need client process stream data exampl suppos client join stream data book stream book price provid amazoncom use isbn crossrefer one way evalu join use inmemori hash join 30 build probe tabl resid memori isbn punctuat receiv stream hash bucket hash tabl ush memori sinc accord punctuat receiv use framework punctuat store central repositori client side consult demand local buer space evalu oper ow rest paper organ follow section 2 present new xml algebra new algebra optim framework base queri decorrel also present translat rule compil xqueri algebra form xml algebra use gener process xml data section 3 adapt algebra handl xml stream present variou inmemori nonblock evalu algorithm process oper algebra queri optim 21 xml algebra propos new algebra new algebra optim framework wellsuit xml structur stream process section present xml algebra without take account fragment reconstruct xml data issu address detail section 3 algebra bulk oper along semant given figur 1 input output oper stream captur list record concaten list append nonbulk oper boolean comparison list semant given term record concaten list comprehens f e unlik set former notat preserv order multipl element form f g reduc element result list comprehens use associ binari oper monoid etc nonbulk monoid fa 1 bulk monoid fa 1 g sort captur special bulk monoid sortf merg two sort sequenc f one sort sequenc f exampl return f3 2 1g environ current stream record use nest queri nest queri map algebra form algebra oper predic header etc contain algebra oper specic record stream pass outer oper nest queri inner queri evalu concaten record inner queri stream unnest path oper predic may contain path express vpath v stream record attribut path simpl xpath form patha patha pathn pathtext pathdata n integ algebra form path form contain wildcard select patha predic select path unnest oper mechan travers xml tree structur function p dene path follow extract oper get xml data sourc return singleton stream whose uniqu element contain entir xml tree select project merg join similar relat algebra counterpart unnest nest base nest relat algebra reduc oper use produc nal result querysubqueri aggreg existentialunivers quantic exampl xml univers quanti cation everi v xa satis vadata5 captur oper vadata5 like xqueri predic predic use xml algebra oper implicit existenti semant relat potenti multipl valu return path expr sion exampl predic vadata5 use previou exampl implicit semant sinc path vadata may return one valu final even though select project express term conveni treat separ oper 22 translat xqueri xml algebra xqueri translat xml algebra path wildcard select ea instanti concret path may accomplish absenc type inform help tag structur xpath express xqueri may contain wildcard select expand concaten concret xpath express exampl xpath express ax expand abcx adx two concret path pair valid path tag structur match wildcard select translat scheme xqueri xml algebra consist two phase first xqueri translat list comprehens similar figur 1 algebra form deriv list comprehens use denit figur 1 accord xqueri semant 7 result nearli xqueri term map sequenc valu mean xqueri term return valu sequenc valu lift singleton sequenc contain valu notabl except boolean valu map boolean valu follow rule e map xqueri term algebra form first translat xpath term simpl path without path predic adopt semant xpath implicit refer current node path predic path ab path predic xyab1 captur variabl dot bound current element xyab1 equival xydotab1 assumpt path predic remov straightforward way ei complet translat scheme xqueri term map xml algebra function element take tag name sequenc xml element construct new xml element e 2 1 replac free occurr variabl v term e 2 term e 1 note boolean predic equal last rule map one boolean valu impli existenti semant xqueri predic 7 list comprehens translat algebra form gener domain comprehens normal simpl path express possibl task straightforward address earlier work 5 15 follow exampl normal rule sequenc term separ comma ve2 term sequenc replac occurr v e 2 rst rule appli domain comprehens gener anoth comprehens reduc case caught second rule second rule appli domain comprehens gener singleton sequenc last rule distribut tag select header comprehens fourth rule may look counterintuit consequ ambigu semant xqueri nonsequ valu lift singleton sequenc accord map rule normal simpl path vabc map vabc exampl follow xqueri b documenthttpwwwbncombibbook return f btitl g translat follow comprehens use map rule normal follow comprehens opr opr head head z q g pred pred q z figur 2 algebra queri unnest second phase translat scheme map normal term e consist list comprehens exclus algebra form dene follow rule e e doc shorthand document addit sinc predic use xml algebra oper existenti semant similar semant xqueri predic move existenti quanti variabl rang path predic iself make implicit existenti quantic achiev follow rule exampl f bpublish g reduc bpublish addisonwesley implicit existenti semant rule normal list comprehens deriv exampl queri map h 23 algebra optim mani algebra transform rule use optim xml algebra alreadi use success relat algebra evalu select earli possibl concentr queri unnest queri decorrel import process stream data without queri unnest nest queri must evalu nestedloop fashion requir multipl pass stream inner queri unaccept perform requir stream process unnest algorithm shown figur 2a box q correspond nest queri convert reduct top q nest block joinsunnest lay inputoutput path box q outerjoinsouterunnest box q 0 shown exampl figur 2b time emb result box q 0 point immedi use simpl explan algorithm correct nest queri q figur 2a consum input stream embed oper opr comput valu use compon f embed queri want splice box onto stream embed queri need guarante two thing first q block input stream remov tupl stream condit achiev convert block join outerjoin block unnest outerunnest box q 0 second need extend stream new valu v q use f manipul done convert reduct top q nest sinc main dierenc nest reduc reduc return valu reduct stream valu nest emb valu input stream time nest oper convert null valu zero stream come output splice box q 0 exactli splice 24 complet exampl subsect appli translat optim scheme follow xqueri taken f u documentusersxmlus tupl return f unam g f b documentbidsxmlbid documentitemsxmlitem return f idescriptiontext g list user alphabet order name user includ descript item bid user alphabet order recal sort captur algebra use monoid sortf sort sequenc f algebra form queri header h 1 xml construct contain nest algebra queri unnest result decorrel queri da x leftout join outer unnest respect process continu xml stream framework stream xml data dissemin client form streamxxx hidxml fragment streamxxx xxx tag name ller repeat replac remov hole id hid speci locat fragment reconstruct xml tree framework use xml algebra process xml stream main modic need algebra relat evalu simpl path express use predic unnest oper sinc evalu document ller specic function p given section 2 must extend handl hole sstreamhol return bottom valu indic path complet evalu current fragment due hole fragment return point path evalu dene p xml fragment suspend client one central repositori suspend xml fragment regardless number input stream call fragment repositori index combin stream number hid hid store ller addit oper local repositori map hole id ller id fragment repositori suppos exampl ller hidm stream xml algebra oper oper complet evalu three path due hole hid h 1 h 2 h 3 local repositori oper extend three map later ller one hole arriv oper say ller h 2 hole h 2 insid ller hidm fragment repositori replac newli arriv ller h 2 map remov local repositori oper result ller hid fragment repositori evalu oper may result hole map local repositori oper final block hole path evalu oper path complet evalu ller process oper remov fragment repositori necessari hole block evalu oper path lled fragment process releas exampl path select predic block hole one hole lled correspond predic fals need wait second hole lled sinc fragment remov stream server send repeat replac remov fragment client modi fragment repositori may stream fragment algebra oper repeat fragment hid alreadi fragment repositori ignor otherwis stream queri ller fragment sinc client may connect middl stream broadcast replac fragment hid alreadi fragment repositori store fragment replac otherwis stream queri ller fragment final remov fragment fragment referenc hid remov fragment repositori exist evalu algorithm xml algebra base inmemori hash block oper join nest requir buer cach stream record evalu algorithm oper hashbas possibl possibl nonequijoin exampl join x xabycd two hash tabl memori number bucket one stream x hash function base path xab one stream base path ycde stream complet join evalu join associ bucket pair nest oper evalu use hashbas algorithm also hash key combin groupbi path mention cope continu stream stream larger avail memori make use punctuat sent server along data framework punctuat receiv client site store central repositori call punctuat repositori index stream number block oper join nest associ one unari two binari pair stream numbershash key hash key path identi tag structur id block oper evalu continu read fragment input stream without produc output lling hash tabl soon one hash tabl full consult punctuat repositori nd punctuat match stream number tag structur id perform block oper hash fragment match retriev punctuat may result product output last phase ush hash tabl perform pipelin fashion one output fragment time request parent oper punctuat repositori clear punctuat stream entir stream repeat ie root fragment repeat sort special case handl separ implement inmemori sort quicksort sort oper rememb largest key valu data alreadi ush memori begin cours largest key null like block oper buer use sort full punctuat repositori consult nd punctuat relat sort key punctuat indic seen data largest key valu null key valu buer data smaller equal latter key valu ush valu becom new largest key 4 futur plan describ xml algebra assum xpath path use oper predic unnest oper unnest path fulli map concret path contain wildcard select possibl xml tag structur provid done server dissemin xml data client stream process framework absenc inform wildcard select form ea evalu transit closur oper walk xml tree e nd branch tag transit closur hard optim gener techniqu propos literatur magic set 25 address problem plan incorpor structur recurs tree type xml algebra start point previou work structur recurs treelik data structur 13 satis eectiv optim rule reminisc loop fusion deforest elimin intermedi data structur use function program languag oper optim techniqu also use optim queri xedpoint type support directli dtd xml schema partsubpart hierarchi xqueri provid special languag construct travers structur simul oper unrestrict recurs plan introduc languag extens xqueri handl structur recurs directli map extens structur recurs algebra oper addit plan dene updat languag xqueri give formal semant optim relat queri process xml stream present evalu algorithm base inmemori hash plan investig evalu algorithm xml algebra oper altern approach hash sort exampl altern way implement groupbi oper sort input groupbi attribut aggreg consecut tupl sort result belong group 19 sort block oper requir avail entir stream produc output turn nonblock oper punctuat relat sort attribut transmit server support multipl evalu algorithm algebra oper pose new challeng good evalu plan select client side relat databas system use costbas dynam program plan select algorithm reli heavili data statist cost estim 27 server send sort data stream may indic sortbas algorithm requir order may faster may requir less memori hashbas one valuabl inform client queri optim transmit anoth stream annot server mayb frequent document tag structur anoth use inform need client must transmit server statist stream data still open problem form statist take use client one possibl annot node document tag structur total number xml element document correspond node henc plan investig costbas plan select stream data 5 conclus present framework process stream xml data base xml algebra algebra optim framework eectiv framework depend avail resourc client site especi buer size abil client optim evalu queri eectiv also willing abil server broadcast use punctuat data stream help client util resourc better server must awar possibl anticip client queri dissemin punctuat reduc maximum averag size client resourc addit server dissemin fragmentationrepetit polici use split xml data well statist data sent punctuat stream actual data inform may help client alloc limit memori variou queri oper wise plan address issu futur work acknowledg work support part nation scienc foundat grant iis9811525 texa higher educ advanc research program grant 00365600431999 r broadcast disk data manag asymmetr commun environ continu queri data stream sal algebra semistructur data xml queri languag optim techniqu unstructur data comprehens syntax object data standard odmg 30 queri languag xml optim queri univers quanti mediat need data convers nest queri object base queri engin webaccess xml data optim object queri use e algebra xml queri databas techniqu worldwid web survey optim nest sql queri revisit queri evalu techniqu larg databas interact data analysi control project onlin aggreg optim sqllike nest queri overview mpeg7 standard version 50 magic relev improv unnest algorithm join aggreg sql queri access path select relat databas manag system optim nest queri complex object model punctuat continu data stream data ow queri execut parallel mainmemori environ world wide web consortium w3c tr comprehens syntax broadcast disk queri languag optim techniqu unstructur data onlin aggreg mediat need data convers databas techniqu worldwid web wrap queri languag effici xml integr optim object queri use effect calculu dataflow queri execut parallel mainmemori environ continu queri data stream queri engin webaccess xml data algebra xml queri ctr christoph koch stefani scherzing nicol schweikardt bernhard stegmaier fluxqueri optim xqueri processor stream xml data proceed thirtieth intern confer larg data base p13091312 august 31septemb 03 2004 toronto canada kevin beyer chambrlin latha colbi fatma zcan hamid pirahesh yu xu extend xqueri analyt proceed 2005 acm sigmod intern confer manag data june 1416 2005 baltimor maryland christoph koch stefani scherzing nicol schweikardt bernhard stegmaier schemabas schedul event processor buffer minim queri structur data stream proceed thirtieth intern confer larg data base p228239 august 31septemb 03 2004 toronto canada peter tucker david maier tim sheard leonida fegara exploit punctuat semant continu data stream ieee transact knowledg data engin v15 n3 p555568 march song wang elk rundenstein murali mani optim nest xqueri express orderbi claus data knowledg engin v60 n2 p303325 februari 2007 sujo bose leonida fegara data stream manag histor xml data proceed 2004 acm sigmod intern confer manag data june 1318 2004 pari franc haifeng jiang howard ho lucian popa wookshin han mappingdriven xml transform proceed 16th intern confer world wide web may 0812 2007 banff alberta canada sharma chakravarthi alp aslandogan ramez elmasri leonida fegara junghwan oh databas research ut arlington acm sigmod record v32 n1 march christoph koch stefani scherzing attribut grammar scalabl queri process xml stream vldb journal intern journal larg data base v16 n3 p317342 juli 2007 norman may sven helmer guido moerkott strategi queri unnest xml databas acm transact databas system tod v31 n3 p9681013 septemb 2006