analyt model design memori hierarchi abstractmemori hierarchi long studi mani mean system build tracedriven simul mathemat analysi yet littl help avail system design wish quickli size differ level memori hierarchi firstord approxim paper present simpl analysi provid practic help unexpect result intuit come analysi appli specif parameter model workload local abl deriv closedform solut optim size hierarchi level verifi accuraci solut exhaust simul two case studi threelevel io storag hierarchi threelevel processorcach hierarchi one case configur recommend model perform within 5 optim one result analysi first place spend money cheapest rather fastest cach level particularli small system budget anoth money spent nlevel hierarchi spent fix proport anoth level ad b introduct f ast memori storag system vital achiev good system perform cpu speed increas faster memori disk speed almost system use cach throughout disk memori processor subsystem improv averag time access data widen gap storag technolog make easi lose signific perform poor cach size unfortun littl practic help exist system design administr seek optim cach hierarchi exhaust simul take far long particularli hierarchi becom complex 16 trial error run system usual imposs prior mathemat analys stop short provid muchneed intuit insight cach size 10 assum avail memori technolog b jacob p chen mudg advanc comput architectur laboratori depart electr engin comput scienc univers michigan ann arbor mi 481092122 email bljeecsumichedu pmcheneecsumichedu tnmeecsumichedu silverman chelmsford system softwar lab hewlett packard chelmsford 01824 email sethapollohpcom person use materi permit howev permiss reprintrepublish materi advertis promot purpos creat new collect work resal distribut server list reus copyright compon work work must obtain ieee materi present ensur time dissemin scholarli technic work copyright right therein retain author copyright holder person copi inform expect adher term constraint invok author copyright case work may repost without explicit permiss copyright holder arbitrari speed cost 20 paper analyz perform gener nlevel memori hierarchi use parameter workload character intent deriv simpl intuit method quickli gener firstord approxim optim hierarchi organ end make sever simplif compar result obtain accur simul techniqu result simpl closedform solut size level hierarchi function workload local speed cost avail technolog amount money avail spend system valid model tracedriven simul threelevel processorcach hierarchi threelevel storag hierarchi cach size recommend model perform close optim perform determin exhaust simul littl money spend hierarchi model recommend spend cheapest slowest storag technolog rather fastest contrari convent wisdom focus satisfi mani refer possibl fastest cach level l1 cach processor file cach storag system interestingli reflect happen pc market processor cach among last level memori hierarchi ad discuss initi money best spent slow technolog hope paper help improv intuit configur cach model also suggest everi dollar spent nlevel hierarchi done fix proport everi dollar increas size everi level hierarchi one describ discuss analysi section iv ii previou work countless articl written memori hierarchi 17 18 provid excel overview cpu disk cach gener focus twolevel hierarchi 9 paper recent year use tracedriven simul investig aspect cach perform multiprocessor cach coher replac strategi tracedriven studi valuabl understand cach behavior specif workload easili appli workload 17 unlik trace mathemat analysi lend well understand cach behavior gener workload though gener usual lead less accur jacob et al analyt model design memori hierarchi 101 sult mani research analyz memori hierarchi past chow show optimum number cach level scale logarithm capac cach hierarchi 3 4 garciamolina rege demonstr often better slower devic less faster devic 7 15 welch show optim speed level proport amount time spent servic request level 20 studi two shortcom 1 assum avail memori technolog arbitrari speed cost 2 appli analys specif model workload local abl creat use technolog continuum characterist conveni analysi make analysi difficult system builder use fail appli specif model workload local make imposs provid easili use closedform solut optim cach configur 10 result paper contain depend cach configurationth number level size hit rate level provid three main contribut beyond previou analys ffl extend previou analys appli gener solut specif model workload local thu abl provid closedform solut optim size workload level function two local paramet devic speed cost ffl discuss result equat mean intuit system design term gener local avail devic characterist ffl verifi model accuraci detail simul two memori hierarchi 1 storag hierarchi consist ram disk tape 2 threelevel processorcach hierarchi consist onchip cach l1 offchip cach l2 main memori perform cach configur recommend model almost alway within 5 best perform obtain exhaust simul iii analysi section deriv analyt solut size level cach hierarchi analysi start prespecifi set technolog though result equat may use easili choos optim subset technolog univers technolog system model a1 notat follow analysi hierarchi consist n cach level number 1 n back store consid level n1 fig 1 show typic hierarchi note hierarchi analyz start end anywher need begin immedi beneath cpu instanc simul io hierarchi begin onchip cach level sever layer main toward cpu level 1 level 2 level n back store level size sn tech cost cn c n1 access time fig 1 gener cach hierarchi bottommost level back store consid part hierarchi storag level cach highest level shown label toward cpu instead cpu analyt hierarchi begin point necessarili immedi cpu assum inclus data level contain level immedi beneath memori could easili start disk level technolog level describ follow three paramet averag access time technolog cost technolog dollar per byte size level byte unknown variabl valu c known constant assum choic hierarchi technolog made first also assum hierarchi realist one level alway faster expens level total cost cach hierarchi system sum cost cach level 1 n sake simplic assum linear cost model 1 system budget b given a2 stack distanc curv analysi cach perform depend mathemat descript workload local model fulli associ cach hierarchi maintain inclus effect assumpt discuss end section comput probabl refer hit cach level use stack distanc curv measur taken directli address stream 5 stack distanc curv describ mani uniqu byte data separ two refer item instanc consid refer stream 1 refer nth time datum referenc nonlinear model use would tend obscur discuss demonstr section v linear model give good result two uniqu data touch 1 2 c b stack distanc 1 2 3 one uniqu datum touch b stack distanc c 1 c 2 2 data touch b 1 stack distanc 1 two data touch stack distanc 3 normal plot distribut stack distanc cumul probabl function probabl densiti function cumul probabl function show x valu mani refer made stack distanc x less mani refer separ last refer data less x uniqu piec data fig 2a relat well lrumanag fullyassoci cach cach size catch refer stack distanc 1 refer 0 interven data cach size 2 catch refer stack distanc 1 2 cumul probabl function p x indic proport access data stack distanc x smaller lrumanag fullyassoci cach size x would therefor hit ratio p x probabl densiti function deriv cumul probabl describ frequenc refer exactli stack distanc x fig 2b fig 2 plot expect shape curv primarili use densiti function expect workload local fig 2b graph pair separ data data area densiti function x1 x2 describ probabl access separ last refer x1 less x2 piec uniqu data fulli associ cach exactli probabl refer miss cach size x1 hit next cach level size x2 cach fulli associ conflict miss oc cur size cach larg enough captur refer stream placement polici caus addit miss reason cach fulli associ may yield hit data old due placement polici yet displac fig 3 illustr differ fulli non associ cach fulli associ cach draw exact line probabl densiti curv separ cach hit cach miss base capac interrefer distanc non associ cach may specifi probabl distribut hit probabl densiti curv refer closer yaxi like hit refer farther yaxi paper conduct firstord analysi use fulli associ cach section v verifi analysi also accur non associ cach a3 averag time per refer chow welch use perform measur averag time per memori refer model follow time access level hierarchi p probabl level access hierarchi maintain inclus probabl necessarili sum one topmost level access everi singl refer hit miss p 1 1 analysi stack distanc curv use comput p probabl access level equal probabl refer miss level z 1 pxdx px probabl densiti function averag system time spent per refer access level thu time refer level scale probabl pxdx total system time spent per refer sum time across level hierarchi sn pxdx 2 size bottom storag level n1 appear equat sinc level assum contain data n1 intent infinit time refer level appear scale miss rate lowest cach level expect back store referenc miss lowest cach level fig 4 illustr behavior access time function affect hierarchi organ graph repres twolevel hierarchi xaxi show percentag budget spent top level hi erarchi toward left repres money spent l2 cach toward right repres money spent l1 cach curv depict constant budget valu b hierarchi optim goal specifi memori hierarchi fastest averag access time specif solv size hierarchi level given access time cost technolog paramet describ workload local total system budget solut proce follow step 1 use lagrang multipli 2 get gener solut without constrain size nonneg 2 appli spe cific parameter model workload local deriv closedform solut allow neg size solut account addit constraint size nonneg jacob et al analyt model design memori hierarchi 103 lru stack distance020610 probabl refer lru stack distance005015025 probabl refer cumul probabl function b probabl densiti functionx1x2 fig 2 stack distanc curv function describ degre local workload show distribut mani uniqu byte workload touch refer item cumul probabl function plot hit rate versu cach size lrumanag cach use graph comput probabl workload refer hit given cach size fulli associ b directmap fig 3 fulli associ cach model vs directmap cach model fulli associ model clear cach access hit access miss size cach clear divid line separ two percentag hit therefor area curvea simpl integr probabl densiti function directmap case introduc element chanc particular line cach could thrown next cach refer could last cach unusu long period time depend particular address refer stream much difficult draw solid line hit miss line blur illustr b howev model probabilist know high probabl refer extrem near time distant time hit miss respect howev middl rang chanc guess correctli grow wors depict darken shade grey b1 calculu variat first put cost function b appropri form obtain constraint function g function n variabl cost function b associ cost constraint g point minim know lagrang multipli combin gradient eq 2 3 get gammat form give us interest ratio call costperform ratio behavior psi ij describ later necessari note psi ii 1 eq 1 total system cost eq 4 yield n independ equat solv straightforward long px b2 model program behavior wish replac px eq 4 specif function smith stone other note cach miss rate model oneterm polynomi function size form fix ff ff fi constant ff less zero 17 104 ieee transact comput vol 45 10 octob 1996 percentag budget spent l1100predict avg access time log fig 4 behavior sensit access time function exampl access time twolevel hierarchi depend proport money spent level hierarchi curv repres constant budget valu 19 follow 30 rule 2 also consist workload trace section v thu assum polynomi form p x px paper also use exponenti form similar result 8 easiest start cumul probabl graph mention p x relat cach hit ratioan lrumanag cach size x would hit rate p x given input stream gener p x necessari p x 0 0 1 infin ideal would form similar simplic conveni make follow chang ffl would like expon posit move x ff denomin ffl function blow 0 replac x x 1 ffl want deriv px simpl expon replac ff ff gamma 1 ffl function defin would valu 0 0 also would unitless scale valu x directli fi give us follow form p x differenti px 2 30 rule first suggest smith 17 rule thumb everi doubl cach size reduc cach miss 30 solv recurr relat yield polynomi form ff fi constant ff neg fi scale term constant c fi local improv decreas fi increas ff given form px find size optim hierarchi first combin eq 4 5 arriv follow ignor neg root valu posit independ equat n unknown 1n yield 1n sinc valid j independ equat form togeth eq 1 total system cost n equat n unknown solv follow manner use 1 exampl sinc psi similar sequenc step perform turn yield gener form jacob et al analyt model design memori hierarchi 105 phi phi phi phi phi phi phi phi phi phi phi system budget size level fig 5 graph equat 7 note everi solut linear solut neg valu nonzero valu budget zero artifact use lagrang multipli assum variabl take valu even neg one fix section undo effect neg solut note valu constant except b system budget eq 7 say size hierarchi level increas linearli amount money spend system cost access time c constant deriv chosen technolog note denomin differ level hierarchi therefor rate increas differ level yintercept also differ everi level hierarchi shape curv shown fig 5 b3 undo effect neg solut eq 7 yield neg valu particularli small system budget obvious imposs neg amount memori level neg size actual zero size appear optim hierarchi lead concept crossov budget hierarchi level call budget greater optim system includ level system money best spent hierarchi level hierarchi level part system part system cost averag access time find crossov budget note highest level hierarchi optim size less zero small budget calcul budget size neg remov level consider budget result equat ident origin subscript chang process repeat hierarchi obtain final equat process describ follow 1 linear function b posit slope sinc everi cost access time posit everi 2 simpl inspect rel cost access time technolog show sinc psi ji invers psi ij j therefor least look topmost cach level constant term yintercept linear equat eq 7 neg mean optim size level neg posit similar reason optim size level itiv mean analyt optim solut trade cach level 1 level n 3 priori tell whether posit neg yintercept look 1 eq 7 lead posit solut level point 1 becom nonneg crossov point 1 budget valu 4 system budget less valu remov level 1 consider without level 1 appropri budget across remain level hierarchi level 2 n lead new equat similar eq 2 integr 2 infin well new equat similar eq 1 start sum level 2 solv new equat unknown manner without refer level 1 mean equat b chang becom function one fewer variabl level 1 hierarchi affect neither averag access time budget obtain gener solut size ith level reduc hierarchi obtain form ident origin equa tion except indic summat sum level 2 level n mark end one iter 5 appli procedur new set equat see size 2 neg budget valu remov level 2 analysi obtain new equat process repeat everi level hierarchi find crossov budget level given 106 ieee transact comput vol 45 10 octob 1996 defin 0 infin notat breviti gener find break system budget domain conveni collect interv valu given call ik valid interv level hierarchi appear valu interv rememb b system budget independ variabl equat eq 9 10 depict graphic fig 6 pictur exampl 3 4level hierarchi cost access time technolog hierarchi constant need realist valu cost monoton decreas access time monoton increas one move hierarchi larger figur applic across choic technolog memori hierarchi use realist valu cost access time given budget workload character told find appropri cach organ one would first find crossov valu level hierarchi use eq 9 would indic cach level present hierarchi budget valu k use next step next step use eq find size level budget valu interv indic valu k altern one could find cach size everi realist budget valu zero one would need use eq 10 use valu k 0 n iv discuss found closedform solut size level gener memori hierarchi given devic paramet cost speed avail system budget measur workload tempor local 3 solut given eq 9 10 bottom line solut indic one spend one money first dollar go lowest level 3 workload local repres two number obtain easili numer analysi curv fit one fit polynomi form p x eq 5 roughli estim hit rate curv find ff fi without stack distanc measur real workload two point suffic exampl cach size one would expect catch 50 95 refer stream hierarchi money ad system size level increas becom costeffect purchas next level point everi dollar spent system divid two level fix proport byte ad lower level higher level necessarili mean money spent lower level everi dollar split way becom costeffect add anoth hierarchi level top point everi dollar split three way byte ad lower level higher level becom costeffect add anoth level top sinc real technolog come arbitrari size hierarchi level increas step function approxim slope straight line b indepth look analysi closedform solut sever implic first note crossov budget level alway larger crossov budget level 1 crossov budget level n 0 mean optimum hierarchi small budget 0 consist sole slowest cheapest cach level level exist counterintuitivew includ ing author normal think ad fastest cach level first attempt speed averag access without concern worstcas access solut show intuit incorrectth slower cheaper cach level captur miss back store far valuabl prevent refer satisfi tape drive 15second access time optim access time hit higher hierarchi slowest cach level larg enough divert larg fraction miss back store system budget ngamma1 start increas next higher cach level n gamma 1 along lowest level crossov budget given level depend workload devic paramet eq 9 decreas better tempor local smaller valu fi larger valu ff expect better tempor local favor ad higher cach level sooner decreas devic higher cach level improv cost speed psi ij decreas lower cost faster time describ detail later technolog improv decreas crossov budget summar first conclus money spent given level money wast level larg enough lower level larg enough allow mani performancecrippl access back store second see within region size level increas linearli system budget within region addit dollar spent accord fix proport third note slope two crossov budget higher larger valu decreas denomin slope jacob et al analyt model design memori hierarchi 107 system budget size level size l3 cach size l2 cach size l1 cach system budget size level size l4 cach size l3 cach size l2 cach size l1 cach fig 6 exampl solut two larger hierarchi threelevel hierarchi shown left fourlevel hierarchi shown right x 1x 2 label repres crossov valu crossov budget lowest level hierarchi alway zero crossov budget next highest cach level follow crossov budget equat linear curv simpli chang slope crossov budget adjust cost new level hierarchi graph produc valu c similar found tabl ii eq 10 thu even one alloc money increas size fast cach level one still increas size lower cach level even faster 4 rate level increas depend workload devic paramet ffl differ slope higher lower cach level decreas better tempor local larger valu ff high local cach level increas size nearli rate ffl slope cach level increas devic cach level improv psi ij decreas lower cost faster time 5 technolog improv decreas denomin eq 10 henc increas rate size level increas c mean interact psi ij ff fi rememb psi ij follow form ij ratio costperform two lev el suggest level hierarchi character two number cost technolog level speed technolog level beneath effect given cach level explain good job level cost per second cut mani dollar per byte cost save second refer next lower level ratio combin character entir hierarchi everi level get compar equat tempor local workload character two variabl ff fi variabl ff psi ij alway 4 size increas faster cost may may increas faster appear psi ij bit accur say decreas cost level decreas access time technolog increas rel level appear togeth 1ff alway expon psi ij costperform ratio psi ij indic good job one level reduc access time compar anoth level scale larg level relat one anoth ff term temper effect costperform ratio exampl local good ff larg shape local curv steep 1ff small effect costperform ratio differenti level small result crossov budget closer yaxi make sens includ upper cach level smaller budget size differ level increas similar rate tradit character memori hierarchi pyramid differ size one level next much less local poor local good narrow tall pyramid local poor shape differenti curv less steep ff closer 1 effect pronounc size differ level increas differ rate crossov budget much outwhen crossov budget occur size exist level much larger case local high result much broader hierarchi previou case take money add higher level base level much larger higher level get ad workload good local result tall thin hierarchi workload poor local result short wide hierarchi fi term scale unit byte kilobyt megabyt etc effect scale crossov budget occur xaxi scale yintercept workload span enorm amount data conveni unit graph chosen mbyte fi tend larg push crossov budget workload span 108 ieee transact comput vol 45 10 octob 1996 smaller rang smaller unit fi chosen fi smaller draw crossov budget use model choos subset technolog model specifi optim size level given set technolog find crossov bud get model also determin higher level hierarchi exist howev model automat determin technolog middl hierarchi remov instanc consid hierarchi ram disk tape disk almost expens ram almost slow tape model suggest best way arrang three level given oper budget model attempt find weak link hierarchi except level top model decid ram part hierarchi disk also kept exampl model may suggest configur disk level slightli larger ram level indirectli show disk technolog useless hierarchi sinc model take moment recommend configur easili use choos subset devic larger pool technolog similar przybylski dynam program approach hierarchi optim 12 much simpler quickli search possibl subset process find best organ best subset technolog given budget point v verif analysi section iii make follow simplif ffl polynomi stack distanc curv perfectli model real workload particular cach would need infinit larg achiev 100 hit rate polynomi stack distanc curv finit size need achiev real work load larg budget valu solut recommend endlessli increas size level optim design would ceas increas size level contain data trace ffl model assum fulli associ cach model level hierarchi ffl model ignor effect block size includ certain amount prefetch cach pollut ffl model distinguish read write behavior access treat readsthey incur delay issu rather forc cach consist cach overflow ffl model ignor compulsori miss affect perform predict eq 2 howev effect optim hierarchi design sinc cach level size miss refer assum prefetch ffl perform technolog character singl access time chang size cach grow ffl cost function technolog strictli proport size extra cost first byte simplif make eq 2 less accur predict hierarchi perform possibl affect optim hierarchi recommend eq 9 10 goal section verifi gener hierarchi configur recommend eq 9 10 inde achiev close optim perform end compar model abil recommend specif size gener hierarchi simul real technolog perform ex haustiv detail simul two hierarchi use two differ trace real applic specif real technolog first simul af server memori disk optic disk use month network file request trace second memori hierarchi onchip cach offchip cach main memori use applicationlevel virtual address trace workload simul descript simul connect togeth devic modul cpu cach main memori disk drive optic disk cartridg tape robot devic modul simul variou cach keep track usag statist level item request present request next level request time level time first access plu amount data transfer divid transfer rate storag hierarchi simul cach model writethrough fetchonwrit 17 processorcach hierarchi simul cach model writeback fetchonwrit none simul cach fulli associ io cach set associ ram file cach 256way setassoci disk cach 1024way setassoci offchip cach 4way set associ onchip cach model directmap simul differ way alloc money quantum money 256 storag hierarchi simul 64 processorcach hierarchi simul b storag hierarchi simul simul storag hierarchi similar plan 9 11 13 file system live entir optic disk jukebox cach dram magnet disk tabl describ specif use simul analyt calcul constant valu variou c specif taken 6 14 b1 workload data use workload io hierarchi simul collect log af server 1 server see request servic client local af disk cach 6 use one month worth trace 6 client cach found captur mb data server jacob et al analyt model design memori hierarchi 109 summari spec use storag hierarchi simul simul time access technolog capac block size cost per mb startup time bandwidth 1 block ms 160 mbsec ms 256 buy 8mb magnet 512mb6gb ms ms optic unlimit 64 kbyte 0001 1 sec 1 mbsec 1063 ms jukebox 256 buy 256 gb data singl file server april 14 1992 may 1992 full trace repres 20 million record sever differ type af server request extract refer relev command fetchdata storedata removefil createfil removedir makedir rest command read write data exampl af use fetchstatu synchron local cach server trace analyz measur tempor local produc stack distanc curv fig 7 use standard sumofsquar techniqu fit eq 5 data found b2 optim configur fig 8a show optim size hierarchi level predict analysi eq 9 10 crossov budget disk level zero sinc lowest cach level hierarchi crossov budget dram around 3800 impli less 3800 spend cach level disk ram money alloc disk fig 8b show optim size hierarchi level determin simul simul written take account effect model ignor result notic differ instead two region realli three model predict size topmost level hierarchi remain zero crossov budget clearli crossov budget appear earlier simul result also model predict crossov budget slope ram line constant case simul sult instead crossov budget appear earlier slope steadi middl region gener area model predict crossov budget occur slope ram curv realli take region 1500 4000 show local exploit small amount ram due effect model ignor evid analysi predict valu similar optim valu determin simul howev measur enough import perform lost use optim configur analysi fig 9 show perform four configur system budget dollars10000300005000070000simul run time optim configur predict configur ram configur ram extrapol worst case observ worst case extrapol fig 9 perform comparison storag hierarchi xaxi repres system budget yaxi repres averag time per simul refer time includ compulsori miss hierarchi consist two level ram magnet disk back store optic jukebox comparison measur optim run time run time predict optim configur also shown run time allram system worst observ configurationon half gigabyt cach disk rest budget devot entir ram amount ram last two configur insignific approach 200mb high budget valu ffl optim configur found simul ffl configur recommend analysi ffl alldram configur ffl configur 512 mb disk remain fund devot dram worst observ case fig 9 show predict optim configur never perform 5 real optim con figur contrast two reason configur dram disk 512 mb disk remaind go dram perform much 50 wors thu though configur recommend analysi differ optim configur perform lost use analyt model howev time save need simul substanti simul ran mani month comput time appli analysi took 30 minut write appropri mapl script less second execut lru stack distanc mbytes020610 probabl refer cumul probabl curv curv fit cpf lru stack distanc mbytes00010003prob refer probabl densiti curv curv fit pdf fig 7 stack distanc curv af trace cumul probabl curv shown left probabl densiti curv right collect data shown dot line curv fit data shown solid line system budget dollars10305070optim size mbyte mbyte ram system budget dollars1000300050007000optim size mbyte mbyte disk analysi storag hierarchi system budget dollars10305070optim size mbyte mbyte ram system budget dollars1000300050007000optim size mbyte mbyte disk b simul storag hierarchi fig 8 optim configur storag hierarchi optim configur predict measur b function system budget xaxi repres amount money avail yaxi repres optim size level hierarchi optim configur measur simul accur simul take account number thing ignor model write block size access time varianc real trace c processorcach hierarchi simul also simul typic threelevel virtual memori hierarchi consist onchip cach l1 offchip cach l2 main memori use pixiegener trace sever program spec92 benchmark suit dnasa7 espresso hydro2d mdljdp2 mdljsp2 su2cor jacob et al analyt model design memori hierarchi 111 wave5 program chosen other larg cach footprint necessari make multilevel cach simul run reason amount time tabl ii describ specif use simul analyt calcul constant valu variou c cost onchip cach need bit explan one sens onchip cach complet free necessari part design cach appear nearli microprocessor hand infinit expens arbitrarili increas size attempt find feasibl analyt medium assum cpu cost around 1k roughli half space devot cach typic cach day around kbyte thu 16k per megabyt number c1 workload trace analyz measur tempor local produc stack distanc curv fig 10 use standard sumofsquar techniqu fit eq 5 data found c2 optim configur fig 11a show optim size hierarchi level predict analysi crossov budget l2 cach zero sinc lowest cach level hierarchi crossov budget l1 cach around 500 sinc curv fit inaccur appli analyt approach raw data instead polynomi obtain graph fig 11b configur optim accord simul shown fig 11c error bar demonstr configur perform within 10 optim appropri system budget within error bar would result perform within 10 simul optim note granular analyt graph smaller simul simul alloc fund across hierarchi 64 quanta analyt script alloc fund 16 quanta fig 11c show optim size hierarchi level determin simul simul written take account effect model ignor result slightli differ compar result taken polynomi curv fit simul result much like io hierarchi result model predict two region slope con stant simul result sever region slope constant l1 cach appear ear lier size realli take predict crossov budget small budget data suggest l1 cach effect reduc access time l2 cach consist probabl densiti curv fig 10 refer lie within stack distanc littl lie region 125kb 500kb suggest l2 cach truli effect budget allow cach size 500kb compar well sharp jump l2 cach size sharp declin l1 cach size 500 budget point system budget dollars2006001000simul averag access time cycl optim configur predict via raw data predict via polynomi l2 configur worst case observ fig 12 perform comparison processorcach hierarchi xaxi repres system budget yaxi repres averag time per simul refer note time includ compulsori miss hierarchi consist two level onchip cach l1 offchip cach l2 back store main memori dram comparison measur optim run time run time predict optim configur also shown run time alll1 system alll2 system worst observ configur exactli alll1 configur compar simul result analyt result taken raw data much simi lariti show l1 present small budget valu size take around budget 1000 howev less inform actual system perform compar perform simul configur optim configur fig 12 show perform five configur ffl optim configur found simul ffl configur recommend analysi appli polynomi curv fit ffl configur recommend analysi appli raw local data ffl alll2 cach configur ffl worst observ case happen alll1 configur fig 12 show configur predict via raw data perform within 5 real optim configur except one place predict l1 cach size 0 perform sever time wors simul optim configur analyt result use polynomi fit curv equal alll2 configur crossov point 500 drop within 5 optim curv remain within 5 point contrast two perfectli reason configur l1 l2 l2 l1 perform much 800 wors though configur recommend analysi differ optim configur perform lost 112 ieee transact comput vol 45 10 octob 1996 ii summari spec use processorcach hierarchi simul simul time access technolog capac block size cost per mb startup time bandwidth 1 block onchip 0kb64kb cach 64 buy 4 kb offchip 0kb1536kb 64 byte 1024 4 cycl 1 bcycl 20 cycl cach 64 buy 64 kb dram unlimit 64 byte 64 20 cycl 01 bcycl 660 cycl lru stack distanc kbytes0408prob refer cumul probabl function curv fit cpf lru stack distanc kbytes002006010 probabl refer probabl densiti function curv fit pdf fig 10 stack distanc curv spec trace cumul probabl curv shown curv fit left probabl densiti shown right collect data shown dot line curv fit data shown solid line region 125kb 600kb probabl curv nonzero scale requir show data obscur vi conclus paper deriv simpl model determin optim size cach level nlevel cach hierarchi model base access time unit cost level total system budget cach level b twoparamet character workload local ff fi use specif form stack distanc curv abl deriv closedform solut size cach level interv equat success recommend configur perform within 5 optim verifi exhaust simul threelevel storag hierarchi threelevel processorcach hierarchi model led four observ configur cach hierarchi first common focu erron hit time rather miss time design hierarchi contrast model show miss time import system budget larg enough achiev high hit ratio lowest cach level impli first place spend money design cach hierarchi cheapest level rather fastest level specif applic principl cpu cach design awar larger offchip cach may yield better perform faster smaller onchip cach also tertiari storag becom com mon storag hierarchi design awar enough disk much import enough ram corollari first observ model recommend increas size slower cach level faster size faster cach level even make sens includ faster cach level third saw model within crossov budget interv size level increas linearli system budget fourth observ workload local interest effect shape memori hierarchi workload good local larg ff small fi optim memori hierarchi narrow dif jacob et al analyt model design memori hierarchi 113 system budget dollars100300500optim size cach mbyte system budget dollars500015000 optim size cach kbyte analysi processorcach hierarchi polynomi system budget dollars100300500optim size cach kbyte system budget dollars500015000 optim size cach kbyte b analysi processorcach hierarchi raw data system budget dollars200600 optim size cach kbyte system budget dollars500015000 optim size cach kbyte c simul processorcach hierarchi fig 11 optim configur processorcach hierarchi optim configur predict b measur c function system budget xaxi repres amount money avail yaxi repres optim size level hierarchi optim configur determin simul accur simul take account item ignor model includ write block size access time varianc real trace data obtain polynomi curv fit data b obtain raw cumul probabl data error bar c indic configur rang l1 l2 give perform within 10 optim configur ferenc size cach level small invers workload poor local small ff larg fi optim memori hierarchi wide differ size cach level larg 114 ieee transact comput vol 45 10 octob 1996 acknowledg enorm thank peter honeyman saar blumson dan muntz citi gracious allow us use af trace without data work would done b l jacob work partial support advanc research project agenc arpaaro contract number daal0390c0028 daah0494g 0327 p chen work partial support nation scienc foundat award number mip 9409229 r af server log optim storag hierarchi determin cach capac match storag hierarchi oper system theori stripe tape array perform memori optim mass storag hierarchi tradeoff twolevel onchip cach storag hierarchi optim procedur plan 9 bell lab cach memori hierarchi design performancedirect approach cach worm file system mass storag technolog cost perform size tradeoff differ level memori hierarchi two method effici analysi memori address trace data cach memori disk cachemiss ratio analysi design consider high perform comput architectur memori hierarchi configur analysi tr ctr bruce l jacob peter chen seth r silverman trevor n mudg comment analyt model design memori hierarchi ieee transact comput v46 n10 p1151 octob 1997 juha alakarhu jarkko niittylahti scalar metric tempor local estim cach perform proceed confer design autom test europ p10730 februari 1620 2004 tanja van achteren rudi lauwerein francki catthoor systemat data reus explor methodolog irregular access pattern proceed 13th intern symposium system synthesi septemb 2022 2000 madrid spain elizabeth sorenson j kelli flanagan use local surfac character specint 2000 benchmark suit workload character emerg comput applic kluwer academ publish norwel 2001 santosh g abraham scott mahlk automat effici evalu memori hierarchi embed system proceed 32nd annual acmiee intern symposium microarchitectur p114125 novemb 1618 1999 haifa israel tanja van achteren francki catthoor rudi lauwerein geert deconinck search space definit explor nonuniform data reus opportun datadomin applic acm transact design autom electron system toda v8 n1 p125139 januari jason hiser jack w davidson david b whalley fast accur design space explor embed system memori configur proceed 2007 acm symposium appli comput march 1115 2007 seoul korea xing du xiaodong zhang zhichun zhu memori hierarchi consider costeffect cluster comput ieee transact comput v49 n9 p915933 septemb 2000 j ph diguet wuytack f catthoor h de man formal methodolog data reus explor hierarch memori map proceed 1997 intern symposium low power electron design p3035 august 1820 1997 monterey california unit state basilio b fraguela ramn doallo emilio l zapata probabilist miss equat evalu memori hierarchi perform ieee transact comput v52 n3 p321336 march gerasimov model microprocessor wide command word cybernet system analysi v37 n6 p926934 novemberdecemb 2001 trevor mudg strateg direct comput architectur acm comput survey csur v28 n4 p671678 dec 1996