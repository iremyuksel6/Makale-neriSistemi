continu data block placement elev tertiari storag hierarch storag server given cost memori larg storag bandwidth requir largescal multimedia databas hierarch storag server consist diskbas secondari storag tapelibrarybas tertiari storag becom increasingli popular server applic reli upon tape librari store media exploit excel storag capac cost per mb characterist also reli upon disk array exploit high bandwidth satisfi larg number request given typic access pattern server configur tape drive fulli util upload data request fall tertiari level upload oper consum signific secondari storag devic bu bandwidth addit present technolog trend disk array serv fewer request continu object store mainli due io andor backplan bu bandwidth limit work address comprehens perform hierarch continuousmedia storag server look three main system resourc tape drive bandwidth secondarystorag bandwidth host ram provid techniqu fulli util tape drive bandwidth expens resourc introduc bandwidth save allow secondari storag devic serv request without increas demand host ram space specif consid issu elev continu data perman place tertiari display purpos develop algorithm share respons playback secondari tertiari devic place block continu object tape show achiev goal studi issu differ commerci tape librari product differ bandwidth tape capac environ without multiplex tape librari b introduct futur multimedia inform system like contain larg collect delay sensit data object eg audio video variou length requir main data characterist present seriou challeng build multimedia server larg size delaysensit data high display bandwidth requir multimedia object larg size one exampl 100 minut mpeg2 video may requir 6 gb storag thu storag requir futur continu media server mani differ applic easili exceed sever terabyt cost memori strongli depend type memori em ploy current ram memori cost 10 per mb individu magnet disk storag cost 01 per mb see ex ampl cost high perform disk drive quantum atla httpwwwquantumcomand seagat cheetah httpwwwseagatecom larg number disk drive group use disk array technolog store larg amount data cost disk storag becom greater 03 per mb see exampl maximum strategi gen5 disk array product httpwwwmaxstratcom magnet tape storag cost less 0004 per mb higherend tape librari tape storag cost per mb rang per mb eg highperform ampex dst812 librari 50gb tape httpwwwampexcomhtml significantli lower figur 330gb tape capit cost differ type memori also includ organ cost manag storag system quit signific disk storag report 7 per mb tape librari storag due autom function cost minim sim97 indic absolut dollar cost compani capit invest storag requir fullfledg video server thousand video current around 12tb would around 400000 highperform tape librari chosen 128tb ampex dst812 librari four drive 256 50gb tape 4000000 eight gen5 disk array store 17tb given small midsiz compani report will spend annual less 50000 120000 mass storag respect cost differ ensur domin place market tape librari fact annual tape librari market report grow pace 34 submarket grow pace around 50 sim97 thu tape librari storag attract storag cost primari concern hand access speed memori unit point differ direct tertiari storag character slow access time order ten second minut lowerend product magnet tape librari magnet disk access time order ten millisecond wherea ram memori access time order ten nanosecond strong argument employ hierarchi memori tech nolog form hierarch storag manag system hsm includ rambas primari storag ps magnet diskarraybas secondari storag ss tapebas tertiari storag ts key idea hsm store object inexpens ts elev ss ps level access solv problem owe larg storag space requir continu media server cost memori unit complementari idea use higher level cach level object resid perman ts popular object ex ampl resid long period time ss portion resid long period time ps idea address problem owe memori access time delaysensit high display bandwidth requir mani continu object given report market growth tape librari becom increasingli popular low level hsm fact respect continu media applic sever compani develop video storag solut base tape librari applic broadcast hen97 envisag solut tape librari occupi lowest level hierarchi use mainli store vast amount data exploit excel cost per mb characterist disk array use high bandwidth order serv mani request possibl time colder hoter data object migrat disk tape tape disk mind paper address cleverli exploit bandwidth offer tabl storag display paramet explan typic valu bd display bandwidth consumpt rate block object vari userdefin block size vari userdefin time display time 1 block vari depend bt tape drive bandwidth 05 20 mbsec tape drive 1 64 e robot exchang time 6 40 sec c switch search tape cartridg r bt bd 05 50 job multiplex vari block time slice multiplex vari modern tape drive employ hsmss continu media applic help increas overal system perform 11 hierarch storag manag system discuss hsmss detail pay attent specif function order gain relev insight put contribut work context summari hsmss relev paramet typic valu given tabl 1 appropri candid ss appear array magnet disk pgk88 given high bandwidth requir mani multimedia object typic rel low effect bandwidth magnet disk nomin bandwidth rang 415 mbsec stripe techniqu sgm86bmgj94tf98 like prove benefici sinc stripe object across sever disk effect ss bandwidth object sever tape cdrom base elev primari storag ps secondari storag ss diskbas tertiari storag ts figur 1 conceptu model hierarch storag manag system hsm time singl disk current averag seek rotat delay approxim 810 35 msec respect respect ts technolog develop led emerg robotbas magnetictap librari make best candid ts devic given desir cost per megabyt figur tape librari consist seri shelv store number tape cartridg number tape drive onto tape must load object access number robot arm usual 1 respons load unload tape drive despit tss high data transfer rate see tabl devic remain compar slower magnet disk due high exchang cost unload tape put shelf get anoth tape load cost search within tape proceed maximum pace less 16 gbsec conceptu model hsm illustr figur 1 conceptu model show three level hsm data elev one level time rest paper term elev reserv elev ts ss figur 2 illustr physic architectur view hsm key featur must note ps serv intermedi stage area ts ss devic object requir ssresid order display also display ts display consum upload tape control disk array secondari storag ss robot tape librari tertiari storag ts disk control primari storag ps retriev flush figur 2 physic model hierarch storag manag system hsm 12 relat work motiv problem 121 big pictur great consensu io subsystem comput system becom perform bottleneck pgk88pat93 observ motiv larg bodi research area storag server aim increas avail ss bandwidth system one thread research led develop disk array pgk88 develop new method place data object disk array attempt exploit inher potenti high perform reliabl sgm86pgk88cp90 gea94 mainli data placement techniqu stripe multimedia data video audio requir larg storag capac larg io bandwidth make disk array natur choic ss medium research multimedia video storag server start pay attent placement multimedia data ss devic way increas system perform effect util avail ss bandwidth system rv93ls93grtea93bmgj94kk95 ors96tf98 anoth thread concentr develop techniqu reduc number requir secondari storag io exploit mainmemori buffer cach characterist sever emerg applic video demand server buffer data share techniqu batch bridg adapt piggyback prefetch smartdisk cach research attain reduct requir number ss io stream requir support video object request krt94rz95glm96ds94dan95ass96th99 thu far relat research concentr techniqu cleverli exploit ps ss resourc system order increas perfor manc respect tertiari storag effort model perform characterist individu tape drive robot tape librari hs96bhs96ajm98ajm98b joh96jm98ajm98b respect predict futur refer prefetch document ss kw98 digit librari applic deriv intellig placement strategi data librari ctz97 well effort deriv intellig schedul algorithm multiplex video stream tape drive kmp90llw95 mention introduct diskbas storag view present costli store thousand video object fullfledg video server thu ts employ storag augment purpos continu object play either ts ss che94 kdst95gr98che98 one may play ts object issu upload request ts upload block object place ps buffer subsequ consum 1 either transmit network remot client display local client howev note bandwidth ts tape drive typic significantli greater display bandwidth object thu play object directli ts gener creat seriou ps buffer space problem result much prefer choic first elev object ts ss physic upload ts ps flush ps ss subsequ play ss object issu retriev request ss block display gs94kdst95 furthermor given user would toler high respons time playback process must start immedi enough data elev ss henc typic retriev 1 term consum display playback play use interchang paper oper execut behalf playback process execut parallel elev oper move futur block object ss gds95 let us refer procedur ie elev ts ss simultan play ss repres research state art display continu object resid ts convent play method 122 problem paper assum framework continu media server base hierarch storag manag research report first address import problem continu data elev perman place ts higher level ct95 particular concentr ondemand elev ie elev occur display request object arriv ondemand elev nontrivi problem sinc must deal bandwidth mismatch problem firstli display bandwidth requir object differ bandwidth ts ss devic secondli sustain avail effect ts bandwidth vari time depend requir current workload eg whenev multiplex employ exampl system configur problem setup let us consid exampl hsm system configur employ media server movieview teleteach digit librari videobas multimedia applic lower level high perform tape librari base ampex dst812 tape librari 128 storag four drive 256 50gb tape cost 400000 ss level act cach high perform disk array base maximum strategi gen5 array consist 95 magnet disk store total 10 tertiari storag cost 500000 125 tertiari cost consid 90 minut mpeg2 video requir 3gb storag 6 video fit disk thu ss level store 570 video total assum simplic 500kb video disk block display time one second present technolog disk drive array isol support uninterrupt display 16 video eg 12mb transfer rate 8m averag seek cost 4 ms averag rotat delay 1 ms trackcylind switch cost howev due bandwidth limit frontend backend io buse combin data transfer rate array 250mbsec 20 time singl member drive thu although whole ss store 570 video support playback 20 theta 16 320 video request assum realworld system sever hundr video request system time zipf accessrequest distribut video eg 1015 popular video receiv 70 request thu import creat copi popular video employ clever video placement copi ss disk load balanc serv mani video request possibl given consider ss bandwidth addit sustain playback ssresid video requir elev colder video block ts ss easi see system ss io bandwidth consum fact pleas note product server support larg number disk current constrain backplan bu limit mani time smaller combin raw disk bandwidth www98www97 fact recogn mani storag system research rgf98kp98 key problem focu framework use convent play method ts use storag augment purpos simpli store larg number colder video elev ss request arriv sinc typic ts bandwidth suffici support request fall ts level che98 ts drive fulli util elev colder video data ss ss io bandwidth includ backplan bu bandwidth also fulli util support retriev request video block elev request ts block mention even without bandwidth consum data elev ts ss store mani video support ss bandwidth consum need elev colder video ts avail ss bandwidth decreas significantli key goal work develop techniqu cleverli exploit bandwidth tape drive elev save io bandwidth save bandwidth allow ss serv addit request video store thu improv overal system perform easi task despit high transfer rate modern tape drive averag access cost tape librari remain high current three order magnitud higher due high cost robot movement head posit delay thu focu request delaysensit data elev ts higher level goal achiev io bandwidth save addit hiccupfre display video stream low startup latenc save io bandwidth use accept serv addit request ssresid data time handl bandwidth mismatch problem data elev manner allow save io bandwidth requir extra ps buffer space remaind paper structur follow section 2 present altern play novel algorithm ondemand data elev level hierarchi discuss benefit respect io bandwidth save compromis respect ps buffer space section 3 contribut set novel techniqu place block video object tertiari storag media manner allevi need extra ps buffer space companion play algorithm achiev ss bandwidth save altern play algorithm subsequ contribut notion strip stream use make techniqu applic even display bandwidth requir larger avail ts bandwidth eg lowend tape drive section 4 revisit issu contribut algorithm analys case tape librari multiplex across stream avoid experienc unacceptablylong startup latenc abl offer ss save earlier section mani video request section 5 revisit issu assumpt fix known priori multiprogram degre remov section 6 discuss realworld pitfal algorithm use avoid final section 7 present conclus work 2 data elev altern play section present novel elev method achiev io bandwidth save compar convent play new method integr part mani algorithm rest paper 21 altern play obviou advantag convent play method requir addit ps buffer space 2 hand obviou defici ss addit tax result execut flush retriev oper reduc thu avail io bandwidth significantli sinc target environ expect io bandwidth one two scarcest resourc observ must note serious follow present approach aim allevi problem initi attempt overcom shortcom convent play method center follow idea upload block ts maintain ps buffer made avail playback process save signific io bandwidth cours block belong popular object may still flush ss addit maintain ps buffer consum alter play ts method ie play ts flush ss compar convent play save bandwidth current request sinc retriev ss need also futur request object addit tax ts ss sinc upload flush ssresid block need despit unquestion benefit obviou concern regard amount ps buffer space need realiz aforement bandwidth save exampl 2 ps space requir 50 size entir object display sinc last block upload half block consum gener ps space requir r gamma 1r object size given ps buffer space anoth scarc system resourc care must taken use wise effort reconcil tradeoff ps space requir io bandwidth save use hybrid techniqu block convent play method essenti play ss employ block play ts method follow refer newli 2 throughout paper ps buffer space requir refer maximum number ps buffer hold 1 block requir instanc display object buffer hold block current display display next time unit current elev ss count sinc case use buffer unavoid tabl exampl altern play r 2 b13 time elev upload block unit ss ps display propos method altern play algorithm special case exampl altern play algorithm 13block object play oddnumb block ts evennumb block ss shown tabl 2 newli arriv block underlin altern play algorithm termin block read ts display request object continu consum remain block strict altern ps ss end half block play ts half ss two featur describ altern play algorithm must note first execut ie first l time unit object display ss bandwidth requir even time unit twice ss bandwidth requir odd time unit remain time unit ss bandwidth requir equal odd time unit second algorithm execut everi two time unit number ps buffer need hold play ts block increas 1 end algorithm execut half b2 play ts block still ps thu follow ps space requir 25 object size 22 gener altern play 221 integ r r2 altern play algorithm last section gener handl arbitrari r ratio follow everi time unit r block read ts r block k block upload ps play remain rgammak block elev ss arbitrarilyappropri chosen give us famili altern play algorithm one differ valu k pseudocod describ altern play given algorithm 1 given algorithm use routin upload indic block ps buffer algorithm 1 altern play input object block ts next upld blk next displ blk uploadnext upld blk time unit 1 l r parbegin 1 1 playfromssnext displ blk els consumenext displ blk 2 j 1 r gamma k elevatenext upld blk j 1 k uploadnext upld blk parend elev ie upload flush indic block ss parbeginparend construct intend indic display consum playfromss block occur parallel read elev upload next two block ts reader may verifi tabl 2 trace algorithm 1 r2 k1 case obviou question best valu k answer question examin impact choic k ss bandwidth save requir ps buffer space valu k ss bandwidth save bkr block sinc k everi r block neither flush retriev ss requir also valu k ps buffer space requir bkr gamma 1r 2 hold algorithm run br time unit bkr tabl exampl brc altern play r 35 k1 b22 time elev upload block unit ss ps display block upload ps k block per time unit bkr 2 block kr block br time unit play ts therefor block still ps algorithm termin thu see tradeoff ss bandwidth save requir ps buffer space higher block play ss block play ts ratio lower ps space requir becom lower ss bandwidth save achiev k paramet gener algorithm act knob finetun tradeoff 222 real r alert reader may realiz far made implicit assumpt r arbitrari integ r real number like case realworld situat one may appli idea upload k everi brc block ps play exampl shown tabl 3 newli arriv block underlin block bracket indic part block uploadedelev clearli ss bandwidth save outlin algorithm compar convent play algorithm bk brc block ps space requir algorithm bkr gamma 1r brc bkr hold algorithm run br time unit display br block time bk brc block upload ps bkr brc block k brc block eac h br time unit play ts therefor algorithm termin number block still ps one might cours chose upload k everi dre block altern ps space scarc one might chose upload sometim k everi brc block time k everi dre block method discuss section 322 3 data elev without multiplex altern play method preced section block play ts ss start point deriv better play algorithm 31 apwat discuss earlier high ps buffer requir altern play method due long time ps buffer dedic hold particular play ts block observ also long time depend r r larg play ts block occupi ps buffer long time sinc come ps buffer far ahead consumpt time tri attain reduct ps space requir key idea alter order block object record ts media larg valu r ie bandwidth mismatch ts display account way reduc occup time ps buffer play ts block algorithm 2 placement algorithm given input b r algorithm 2 twist placement integ r input b integ r output rtwist sequenc object block place ts i0 l r randomli place block b b r blank tape posit determin rtwist placementsequ object block locat tape exampl twist sequenc given figur 3 randomli place block algorithm 2 sequenti b figur 3 2twist b 4twist placement 13block object place block given exampl one may immedi see produc rtwist sequenc given r object block read tape sequenti everi rth block boldfac figur 3 upload ps precis time consum br block thu play ts without ps buffer space requir remain block elev ss play ss need algorithm 3 materi idea notat convent algorithm 1 use algorithm 3 apwat rtwist sequenc system bandwidth ratio r input rtwist placement object block ts next upld blk next displ blk uploadnext upld blk time unit 1 l r parbegin 1 consumenext displ blk 2 j1 r gamma 1 elevatenext upld blk uploadnext upld blk parend note given altern play twist apwat algorithm essenti altern play algorithm block play ts other ss appli specif arrang object block boldfac block play ts apwat algorithm termin block read ts display request object continu consum one block ps remain block exclus ss ss bandwidth requir remain constant r gamma 1 block per time unit throughout algorithm execut display remain block requir constant bandwidth 1 block per time unit exampl apwat action 2twist sequenc figur shown tabl 4 newli arriv block underlin one immedi see ss bandwidth save apwat method br block sinc 1r block play ts object clearli also ps buffer requir zero 32 gener apwat 321 disassoci integ r twist given system paramet r apwat appli r twist sequenc also r twist sequenc k divisor r case apwat play boldfac block r twist sequenc ts exampl apwat action 2twist sequenc 13block object see figur 3a r4 given tabl 5 newli arriv block underlin clearli system bandwidth ratio r ss bandwidth save newest apwat algorithm appli r twist sequenc bkr block sinc kr boldfac b block never flush retriev ss ps buffer space requir new algorithm bkgamma1r true algorithm run br time unit number block ps increas k upload ts decreas note space requir zero note also apwat alway better altern play sens attain ss bandwidth save apwat ps requir less altern play ps requir follow sinc bkrgamma1 r equival r k alway true 322 real r case altern play algorithm section 222 apwat algorithm companion twist placement algorithm requir r integ one may gener brctwist sequenc appli apwat play boldfac block ts let call algorithm brc apwat algorithm obviou drawback brc apwat algorithm ps buffer space requir zero inde one may routin verifi worst case ps buffer requir increas brr gamma 1 apwat algorithm run br time unit display br block time b brc block upload ps sinc block play ts algorithm termin number block still left ps b brc ps space scarc altern brc apwat possibl main idea gener twist sequenc apwatplay figur 4 23twist sequenc 20block object boldfac block ever upload earlier time consum actual sinc r may integ block allow upload earlier time consum fraction time unit exampl twist sequenc given figur 4 pseudocod given algorithm 4 sinc distanc boldfac block new algorithm 4 twist placement real r input b real r output rtwist sequenc object block place ts i1 l r randomli place block b b r blank tape posit method sometim 1 brc sometim 1 dre refer new twist play method brcdre apwat algorithm clearli ss bandwidth save newest brcdre apwat algorithm br block ps requir 1 block need hold part partial upload block 323 disassoci real r twist system paramet real number r apwat appli rtwist sequenc also r 0 twist sequenc r 0 r apwat play boldfac block r 0 twist sequenc ts reason section 321 one may easili verifi ss bandwidth save case br 0 block ps requir b 1 tabl 6 summar perform examin play algorithm tabl play algorithm perform comparison ps ss bandwidth requir save remark convent play 0 altern play r integ r r integ r r divisor r integ r real gammar real 33 ssresid object strip stream although mention explicitli far previous describ algorithm work r 1 one may notic r 1 situat may inde aris eg lowend product see tabl 1 one may also immedi see r 1 restrict obvious defici algorithm r1 object resid exclus ts algorithm display without hiccup without long respons time r 1 object resid ss well one may use idea present previou section display object manner requir less ss bandwidth obviou play ss algorithm still requir zero ps buffer space goal contribut concept strip stream 331 integ r strip stream subset block stream object defin 1 r strip stream strip consist everi 1 r th block object except 1st block object exampl 2strip b3 b5 b7 b9 3strip b4 b7 b10 b13 etc store 1 r strip partial replica object perman ts one may see continu upload ts block result block brought ps precis consum pseudocod display object manner given algorithm 5 nota algorithm 5 strip stream play r 1 1 r strip brbgamma1c block ts ffl rest object block ss next upld blk first block strip next displ blk uploadnext upld blk time unit 1 1 r playfromssnext displ blk time unit b parbegin 1 consumenext displ blk playfromssnext displ blk 2 uploadnext upld blk parend tional convent algorithm 1 3 use trace algorithm given tabl 7 unlik previou algorithm given strip stream play algorithm termin block display simpli read ts eventu rb object b block play ts remain 1gammarb ss compar convent play algorith strip stream play algorithm achiev rb block ss bandwidth save ps buffer space requir algorithm zero tabl exampl strip stream play b12 r05 time upload block unit ts strip display 56 b7 b5 b6 78 b9 b7 b8 tabl exampl strip stream play 23 time upload block unit ts strip display 1023 b4 b1 b2 b3 2346 6992 148161 171184 332 real r given definit 1 r strip meaning 1 r integ r arbitrari real 1 r strip defin block strip upload precis consum exampl reader invit verifi 23 the23 strip 20block object b 4 analog 1 23 strip boldfac block 23twist sequenc figur 4 obviou strip stream play appli 1 23 strip play object shown tabl 8 notat 03 block b 3 display pseudocod gener r strip arbitrari r given algorithm 6 algorithm 6 1 r strip gener real r1 input b real r1 r strip s1 sb r 1 l r 4 data elev known multiplex degre mani environ consist highend tape librari product larg bandwidth tertiari storag level multimedia server satisfi one request simultan order avoid unaccept high startup latenc desir ts multiplex bandwidth multiplex across sever concurr stream effect ts bandwidth b teff effect ratio r eff reduc assum round robin schedul disciplin multiplex request moment thought reveal use say apwat algorithm twist sequenc r work consid exampl twist sequenc r 4 given figur 3b number multiplex job multi plex degre two multiplex job 3 apwat algorithm round robin schedul time slice equal suffer hiccup instanc b1 two object display apwat elevateupload next 4 block first object take time unit switch elevateupload next 4 block second object also take 1 time unit thu appar display starv anoth approach use apwat algorithm twist sequenc figur 3a instead figur 3b exampl apwat algorithm round robin schedul time slice equal d2 3 readabl purpos assum exchang overhead display object without hiccup elevateupload pair block first object take 12 time unit switch elevateupload pair block second object take anoth 12 time unit method play boldfac block ts rest ss requir extra ps buffer achiev 50 ss bandwidth save sinc half block play ts compar convent play algorithm crucial factor last approach success besid use twist sequenc r fact time slice time need block see inde crucial consid exampl extrem case time slice equal time need upload 12 block last approach could achiev 50 ss bandwidth save extra ps buffer sequenc r suggest small time slice better big one one thu use time slice small possibl unfortun discuss earlier approach oversimplifi sinc switch cost c includ possibl tape exchang cost plu search within tape associ round robin switch one object anoth therefor deriv minimum time slice suffici display object without hiccup nevertheless posit describ gener approach deriv minimum time slice 41 apwat round robin basic idea split object block group block call ttupl simpli tupl appropri valu follow first ttupl contain block second ttupl contain block b t1 b 2t etc order process upload elev display ttupl effici way use rtwist placement block within ttupl desir twist slightli differ one produc algorithm 2 twist placement produc algorithm 2 place first block object locat 1 r1 2r1 3r1 etc integ r twist placement use case place first block tupl locat r 2r 3r within tupl arrang object block call rorgan simpli torgan exampl shown figur 5 pseudocod deriv rorgan given algorithm 7 figur 5 84organ 17block object number full ttupl possibl one ttupl fewer block note xi r bold block ttupl gener content nth ttupl set block occupi tape posit first bold block nth ttupl b ngamma1t2 ith bold block ttupl place posit ir within posit occupi ttupl r algorithm 7 twist rorgan input b integ r outputt rorgan n1 place bold block proper posit i1 xi r randomli place unassign block set fb blank tape posit set fn gamma 1t state earlier j object display multiplex round robin fashion time slice process one ttupl employ apwat algorithm exampl suppos r4 consid 84organ figur 5 display b 1 first object round robin algorithm elev b 4 display b 2 elev start display b 3 switch second object process first 9 block possibl third object also process first 9 block etc uploadselev block second third etc object display process first object finish consum b 3 subsequ start play 9 ss guarante play object hiccup round robin return first object display b 9 start last remark use deriv relationship j explain time requir read j ttupl one tupl object less equal time need display block tupl read time slice earlier sinc time need upload ttupl tsb tdr switch cost c follow time requir read j ttupl tdrcj tsb also time need display block one object td thu td td r hold allow us deriv minimum allow valu given system characterist c r equival sinc drsb r b number j multiplex job cjr j r condit intuit correct number job multiplex greater number block upload time unit multiplex possibl mathemat consequ 0 condit must hold togeth 1 note also 2 give min jb multiplex possibl exampl 1 consid object consist 12000 block 05 mb resid ts bandwidth 20 mbsec exchang cost 10 sec assum time need display one block 1 sec figur impli r40 eqn 2 say display object multiplex use apwat round robin object split 30 tupl least 400 block inequ 1 may seen differ angl assum size tupl somehow fix give us maximum number job multiplex rtd cr tsr ts exampl 2 given configur describ exampl 1 eqn 3 say object split 30 tupl 400 block 20 object multiplex given system bandwidth ratio r apwat algorithm use r configur zero ps buffer requir sinc upload boldfac figur 5 block j object upload precis consum clearli also ss bandwidth save br j job yield total save jbr block j job compar convent play algorithm elev block ss play note discuss section 321 given system ratio r one need use rconfigur one may use instead r k configur divid r case see tabl 6 ps buffer requir ss bandwidth save jbkr block j job similarli also handl case r real omit relev detail space reason sinc similar descript present section 322 42 startup latenc consider algorithm section 2 3 issu startup latenc address detail sinc import assum one display request time startup latenc equal time need upload 1st block object howev multiplex environ issu deserv attent assum request j object arriv simultan display 1st object start delay sb ie b 1 1st object upload display 2nd object start delay sb tsb c ie 1st ttupl first object upload switch begin 2nd object b 1 2nd object upload etc therefor display jth object start 4 worst case scenario assum techniqu bridg batch adapt piggi back employ delay r precis effect choic becom clear given certain multiplex degre j one choos min startup latenc higher impli 4 ts idl sinc time slice 1st object arriv block upload previou time slice consum allow use purpos nonetheless display object done correctli ie without hiccup ps space requir still zero total ss bandwidth save still jbr j job worth note configur exampl 1 20 maximum startup latenc wit multiplex stream smaller 7 minut multiplex perform serv 20 stream maximum startup latenc wit would one hour thirti eight minut cours unaccept videoondemand applic 5 data elev unknown multiplex degre algorithm previou section gener rorgan subsequ apwatplay work number j multiplex job known advanc section discuss method overcom limit assum r1 j r multiplex j display request possibl may thu assum known upper bound j maximum valu multiplex degre j system obvious order display j object arbitrari 2 j j suffic use min j organ accord 2 min j j discuss last paragraph section 42 impli use min j organ work correctli without chang attain ss bandwidth save jbr block requir zero ps buffer space one drawback last propos fact ts may idl discuss section 42 addit propos suffer increas startup latenc shown 4 startup latenc great import tradedoff addit ts media storag space follow creat store min j 1 organ min j 2 organ etc variou valu use min j organ full replica object ts frequent workload guess use past experi use guid decid replica creat run time given current multiplex degre j curr use smallest min j valu larger min j curr result smallest possibl startup latenc hand shown 3 select smallest min j valu larger min j curr result smaller valu maximum allow number multiplex job sinc total ss bandwidth save offer method potenti greater allow multiprogram degre higher benefici point view use min valu highest possibl number multiplex job resolv tradeoff startup latenc achiev ss bandwidth save suggest follow algorithm use smallest min j valu larger min j curr ffl request arriv ts multiplex depart ts servic dynam switch smallest min j valu larger min j curr new valu j curr algorithm exploit replica differ ttupl organi zation order dynam adapt new j curr valu allow maximum number request multiplex ts time enforc smallest possibl penalti startup latenc 6 pragmat concern section focu pragmat concern aris tape technolog mpegbas videoserv applic peculiar present difficulti implement placement strategi develop earlier section 61 stream mode record first concern regard fact tape drive usual record stream mode rel high error rate mean error detect record rewrit affect block occur without stop rewind tape creat essenti number bad spot hole amidst use data tape cours complic requir twist placement propos solut technic recal section 3 given system paramet r play algorithm oper r 0 twist sequenc r 0 r note essenti aforement hole tape effect reduc transfer rate realus data word given r estim writeerror rate tape drive perhap pessimist avoid hiccup estim paramet r 0 creat twist sequenc r 0 exampl estim tape writeerror rate lead us r instead use 4twist sequenc shown figur 3b use 2twist sequenc figur 3a record tape hole block sequenc averag time unit tape head scan much tape requir hold data block read tape one play ts directli 62 twist variabl size block champion applic video server predomin encod techniqu video mpeg given wellestablish practic normal video block length respect playback durat time record mpeg video block necessarili becom variabl size variabl block size cours complic twist placement fact complic videodata placement problem reason relat work placement algorithm analys video data ss assum constant block size done section solv problem adopt follow approach let us assum b denot size block denot averag block size recal time unit last second time unit delta mb read tape assum none b block size greater delta pseudocod twist algorithm given algorithm 8 observ 1 time unit design one partit read 2 block playfromt block algorithm 8 twist placement variabl block size 1 store b 1 begin tape 2 split remain movi size partit partit size delta mb l partit l deltad 3 store block bl1 right end partit 1 2 l respect 4 distribut remain block empti space partit playfromss block 3 long playfromt block flush right partit addit ps space requir block arriv time display start 4 step 4 requir npcomplet reduc wellknown bin pack problem partit correspond bin want employ bin partit possibl step 4 wish fit remain playfromss block tightli possibl partit playfromt block closer right end partit minim addit requir ps space thu find solut minimum ps space requir npcomplet problem want approxim algorithm step 4 comput inexpens perform close optim solut simpl algorithm meet demand decreas first fit dff algorithm gj79 dff translat problem set work follow first sort block decreas order size block place order first partit fit shown gj79 perform dff never wors 22 optim solut problem set mean 1 occas dff result requir 22 tape storag video hole partit playfromss play 3fromt block also impli worst case 22 time requir read block video tape 2 howev playfromt block requir zero addit ps space obviou solut problem first shift left play block partit fill empti space second shift left partit cover empti space partit elimin hole also result worst case 22 addit ps space thu need algorithm strike effect balanc read time ps space overhead pseudocod algorithm given algorithm 9 essenc algorithm contribut step 6 guarante never requir addit ps space greater mb achiev expens fewer playfromt block ie lower ss bandwidth save sinc partit lose playfromt block follow exampl use typic paramet valu illustr use algorithm 63 averag io bandwidth save algorithm 9 provid analysi show averag io bandwidth save algorithm worst case perform dff algorithm total empti space worst case would result run algorithm 8 22 total space total 5 number partit averag empti space per partit thu averag one everi k partit lose playfromt block algorithm 9 polynomialtim twist placement variabl block size input playfromss fromt block b 1 place begin next remain block set playfromss block next avail tape partit size delta mb 1 put right end partit next part block next ts block 2 sort remain block decreas order 3 run dff algorithm partit next part fill ie empti space smaller minimum block size remain block 4 inherit empti amount empti space partit next part 5 shift left playfromt block partit next part cover partit empti space 6 inherit empti delta f last block partit next part mark playfromss block ie partit next part lost playfromt block 7 remov remain block one place 8 next part 1 9 next ts block 1 10 repeat block place therefor number partit without playfromt block l k io bandwidth save k exampl 7 consid object consist 3000 block 05 mb mbsec exampl total 5 number partit without playfromt block 60 worst case requir 5mb ps space 80 partit retain playfromt block 7 conclus paper address problem continu data elev multimedia server base hsmss problem view receiv adequ attent despit fact current cost per megabyt figur make tape librari costeffici medium applic ii sever realworld product alreadi employ tape librari store continu media iii signific continu annual increas tape librari market promis nearfutur technolog improv improv perform first contribut notion altern playback delaysensit data ts ss discuss idea save signific ss bandwidth also point requir nonzero buffer space sub sequent contribut twist placement algorithm companion play algorithm call altern play twist placement algorithm determin proper placementrecord order block object tape play algorithm achiev ss bandwidth save zero ps buffer space requir time subsequ contribut notion strip stream special partial replica stream object resid perman ts consist block play ts strip stream allow previou contribut enjoy even 1 bandwidth ts smaller display bandwidth object 2 object also resid ss case popular object later consid subject multiplex tsresid video stream tape drive multiplex desir two reason first drastic reduc averag startup latenc video resid ts second employ placement play algorithm environ offer associ ss bandwidth save stream multiplex increas total benefit approach deriv algorithm employ previouslydevelop techniqu continu offer ss bandwidth save addit ps buffer space present algorithm show store stream tape high multiplex degre j maintain j job algorithm continu achiev aforement save thu total save significantli greater mani applic expect data object exhibit skew access distribut eg popular movi movieondemand applic larg major case popular object upload resid ss scenario ss respons satisfi great percentag request refer popular stream present technolog howev even highend ss server product enough bandwidth satisfi request stream store expect hold futur well given pace improv storag capac take account io bandwidth requir upload colder stream ts ss avail io bandwidth becom even smaller paper shown techniqu exploit everincreas bandwidth modern tape drive increas avail io bandwidth satisfi request made effort view problem comprehens sens focu main resourc host ram memori ss io bu bandwidth ts bandwidth techniqu overal io bandwidth increas without requir extra host ram still avoid video hiccup sens aforement contribut suggest collabor ts ss order improv system throughput essenc propos techniqu ts hsm simpli use augment storag capac ss tradit role would indic augment ss bandwidth well high level contribut research r dynam batch polici ondemand video server stagger stripe multimedia inform system tertiari storag evalu new applic challeng tertiari storag multimedia server maxim perform stripe disk array research develop issu largescal multimedia inform system principl optimallli place data tertiari storag librari buffer cach largescal video server buffer manag polici ondemand video server pipelin mechan minim latenc time hierarch multimedia storag manag comput intract guid theori npcomplet adapt piggyback novel techniqu data share videoondemand storag server continu retriev multimedia data use parallel studi use tertiari storag multimedia system multimedia repositori role data storag broadcast futur model perform characterist serpentin tape drive random io schedul onlin tertiari storag system benchmark tape system perform perform measur model tertiari storag devic analyt perform model robot storag librari use tertiari storag videoondemand server evalu video layout strategi high perform storag server optimum execut order queri linear storag case intellig disk idisk buffer manag continu media share multimedia databas system integr document prefetch cach hierarch storag base markovchain predict design storag server continu media keynot speech case redund array inexpens disk raid activ storag largescal data mine multimedia applic effici storag techniqu digit continu multim dia buffer manag video databas system stripe untangl tape storag cost overlay stripe optim parallel io modern applic prefetch smartdisk cach highperform continu media server tpc execut summari tr ctr simul anneal approach multimedia data placement journal system softwar v73 n3 p467480 novemberdecemb 2004 athena vakali evimaria terzi elisa bertino ahm elmagarmid hierarch data placement navig multimedia applic data knowledg engin v44 n1 p4980 januari