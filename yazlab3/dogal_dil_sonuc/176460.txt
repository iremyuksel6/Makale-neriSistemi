explain type error polymorph languag stronglytyp languag present programm compiletim feedback type correct program error polymorph type check take form unif failur two type find sourc type error code often difficult error may occur far spot inconsist detect function languag use complex type system difficulti interpret locat error increas locat sourc type error programm must unravel long chain deduct type instanti made type reconstruct paper describ approach maintain deduct step type infer reason type instanti approach could use interact system guid programm sourc type error explain compil assign particular type express b introduct one annoy aspect stronglytyp languag parametr polymorph sometim unclear express type mani programm experienc feel incredul sometim aris express reject compil reason compil forthcom typecheck analysi paper describ way type analysi explain programm may led sourc type error particular consid case type reconstruct essenti construct program languag ml program languag ml 5 stronglytyp function languag polymorph interest type system properti type identifi deduc use 4 made popular model type system languag focu languag object studi also implement approach languag use standard ml new jersey 1 inspir paper 7 concern british nation act paper author describ captur legal requir establish british citizenship prolog program requir british citizenship complex use system explain appear acm letter program languag system volum 2 number 14 marchdecemb 1994 page 1730 step taken reach conclus idea seem appropri deduct made type reconstruct want ask type system arriv particular type express answer question use type analysi led unexpect type express particularli use case type error case type analysi arriv two inconsist type programm may find difficult understand programm assum probabl erron express construct correctli intend type place inconsist found may part program mistak made natur type system wide separ part program affect type express part program might mistak point view programm inconsist found depend arbitrari order travers syntax tree type analysi interest inform may obtain examin contextu evid approach johnson walz 3 usag minor candid mistak clear often minor isol sinc mani error form one correct usag one incorrect usag also way introduc error minor usag may correct type despit preponder major usag one way error program copi mani locat program use text editor anoth trickier situat would express bound variabl let statement use incorrectli type mani locat one locat caus welltyp correct usag approach take entir differ tri find wrong context instead want abil explain context right wrong two approach might use togeth futur heurist system explain deduct suggest error may found 1986 popl paper wand 9 suggest aid programm search sourc type error present list express fragment caus bind type variabl type reconstruct approach call collect applic subexpress unif step type analysi type error detect list applic site issu one caus error improv wand work finer analysi maintain deduct made reconstruct algorithm along locat sourc fragment lead individu bind unif process form explan space travers explain individu deduct step flow inform one part program anoth addit also consid effect milner letstat greatli complic deduct process type reconstruct interest simpl function languag sake concret use mllike syntax syntax languag shown figur 1 besid function definit function applic languag construct pair condit express let express consist practic standard ml nj replac subexpress languag charact space show top part particular express express languag consid meaning type collect describ grammar figur 2 type variabl written b etc type reconstruct process deduc type express context type checker languag like pascal identifi must explicitli given type check consist usag throughout program type reconstruct algorithm mere check whether declar type combin consist find consist type one identifi initi given type variabl type type variabl stand type thu repres total unconstrain type typecheck requir constrain type express complet type variabl left unspecifi polymorph type achiev 4 prove theorem prover complet set type rule languag call algorithm typeof modifi version origin algorithm basi explan system function typeof take express type assign substitut input hboolean valuei boolean constant applic definit figur 1 syntax simpl function languag int type integ type boolean valu product figur 2 syntax type produc type substitut typeof postord travers syntax tree enforc type rule construct essenti build proof tree type judgment detail algorithm found elsewher 2 6 crucial insight design theorem prover lie recogn unif use insur two type exampl type rule function applic requir domain function type actual argument algorithm find substitut one exist make two type equal call unif substitut use special proof tree make type conclus instanc origin type thu long two type unifi appropri proof tree found result appropri type syntact ident mani way repres substitut particular one could repres substitut function one could use list pair normal issu great consequ howev purpos modifi unif function keep extra inform must substitut repres list reason effici common list repres substitut ng substitut list represent one special substitut simpli ad atom bind v need updat previou bind purpos crucial valu represent atom bind explain one particular unif otherwis possibl sever unif would contribut valu singl type variabl case one would keep list reason bind like wand 9 would imposs explain instanti type step step approach approach take follow element annot pars tree augment substitut augment type assign explan function use inform inform add syntax tree often type subexpress captur node analyz syntact construct requir individu set inform basic construct integ truthvalu need store extra inform simpl structur condit pair need store type subexpress let statement let b end store type bodi b type e data structur repres function definit fn e store type bodi origin type variabl assign formal paramet origin type variabl start point atom bind account instanti domain function applic must keep two piec inform two type unifi type analysi inform possibl report unif took place applic construct identifi must also keep two piec inform reason case function definit identifi keep type variabl origin assign type assign identifi construct must also keep list type variabl renam renam gener type variabl type identifi gener type variabl introduc let statement implement special effect let statement polymorph type anoth part inform kept substitut data structur use substitut list atom bind type type variabl made unif process analysi function use atom bind trace evolut type origin form final form bind augment pointer annot express tree tag express referenc pointer one respons unif call bound type variabl atom bind tag add inform analysi distinguish two unif call type condit statement one unifi type test express boolean ensur branch condit type typeof call unif pass current locat syntax tree store atom bind result invoc normal run function typeof produc type express typeof recurs travers syntax tree encount type inconsist stop report error occur one call unif modifi typeof decor pars tree recurs travers syntax tree call unif system keep pointer appropri place tree inconsist detect program report problem sinc problem caus type two express fail unifi ask follow sort question twice express e type written function answer question given decor pars tree augment substitut point analysi stop program main purpos explain type rule specif use express interest exampl express fn fn bif b b els true 3 type ml error detect bodi outermost function 3 plu function appli two argument point type analysi detect domain plu intint match type actual argument error report standard ml nj standard ml new jersey version 75 novemb 11 1991 fn fn bif b b els true3 stdin110145 oper operand dont agre tycon mismatch oper domain int int operand bool int express case programm may find clear oper plu right domain argument operand wrong may clear system think type actual argument boolint henc interest question kind question function answer one anoth explain type rule construct exampl construct list tabl function applic fn b true function definit fn b condit b b els actual output explan system exampl shown fulli figur 3 final turn explan type identifi b condit structur identifi alik get type environ variabl b origin assign type b complet answer question b come assign type bool question function answer function differ sort task explain flow inform one point program anoth case previou exampl must explain b came bound bool inform substitut know b bound bool meet requir condit test type bool jump node syntax tree point structur inform might ask structur explan given follow structur proof tree type judgement built typeof functionse section 2 use type rule fortun structur proof tree correspond close pars tree express explan may requir explain flow inform around express explan break two level function first explain instanti type progress type reconstruct follow trail atom bind substitut secondli atom bind map node annot syntax tree construct node one analysi requir call unif two node languag function applic make one call unif condit express make two function explain circumst requir unif explan circumst structur question import note never leap part syntax tree annot pointer syntax tree place unif call typeof function alway annot node first call unif function recurs annot subtre alreadi complet implement print depthfirst explan everi piec deduct loop detect broken ad hoc manner output shown figur 3 5 6 clearli fulllength explan suitabl error messag envis sort programm interact system navig explan space interact may go like system explain one step deduct deduct may depend zero one deduct programm may find one deduct dubiou choos investig deduct instanc prior exampl function plu programm probabl satisfi type concentr type actual argument welldesign interfac programm could quickli focu part program contrari programm understand program actual output explan system question explor mark elabor indent type error requir process explan continu structur analysi program follow bind anoth part program next exampl design illustr consequ explan may jump back part express alreadi explain explan end potenti infinit explan space appear major shortcom necessari justifi approach would seem explan could unravel primit piec type reconstruct process goe certain finit step reach conclus detect applic 3 2 domain function unifi 3 type argument true3 4 domain function intint 5 argument type boolint 6 function 7 identifi 8 part initi environ 9 argument true3 type boolint type pair true3 determin type element first element fn b true type bool 12 type applic rang function 13 function fn b type boolbool 14 function fn b type boolbool 15 type function definit determin type infer formal paramet b type function bodi b b els formal paramet b type bool 19 type formal paramet infer use 20 variabl b initi assign type variabl b come bound type bool 22 bind aros analysi b b els sinc express b must type bool 24 type variabl b type type variabl b must stand bool 26 express b type bool 28 function bodi b b els type bool 29 type condit determin type branch must unifi branch b type bool els branch type bool 34 elid second element 3 type int 36 integ constant type int figur 3 explan space fn fn bif b b els true 3 fn fn b error fn c boolii b error true els b booli b true bool 3 bool intintint 2 4 error 3 int fn x boolintbool true bool 2 int x bool fn yx intbool int x bool figur 4 syntax tree fn fn b b keep thencurr substitut point program possibl trace back step one one piec explan would begin time unif type substitut would use explain specif explan would depend order type analysi programm want know implement type analysi intermedi step analysi explan coher perspect final substitut fact type error may comprehens global point view local step perfectli consist chosen explain piec process perspect final substitut consid follow express fn fn b true els b fn c b c b fn x fn 3 true 2 4 rather long express contain pair pair 4tupl simpl languag best comprehend examin syntax tree figur 4 express type explan space figur given figur 5 element pair contribut bind type formal paramet third bind c bool one assum suspici appropri question ask line figur 5 express introduc type bool understood analysi crucial question ask line 40 x type bool actual system answer question point detect answer question context explain bind type variabl part analysi omit figur 5 lack space interest part goe like formal paramet x type bool type formal paramet infer use variabl x initi assign type variabl e type variabl e come bound type bool bind aros analysi applic fn x true type efe time analysi type function fn x fn x type argument true determin bool therefor function fn x appli argument true result function return boolean valu thu seen line 1926 figur 5 b must function domain bool sinc type b line 10 appli integ type error 4 milner let construct let construct complic explan identifi type get instanti without let identifi initi type variabl assign analysi function definit describ instanti type variabl gather list atom bind affect let express let b identifi initi assign type variabl type type e type may contain gener variabl occurr bodi b get initi type renam gener variabl new unus type variabl distinct distinct occurr explain type letbound identifi necessari know type variabl gener variabl bound inform kept syntax tree everi identifi check list see gener instanti appris user name chang proce explain instanti type consid follow exampl detect applic 2 2 domain function unifi type argument 2 3 domain function bool 4 argument type int 5 function type booli 6 type bound identifi infer use 7 variabl introduc function fn afn b 8 variabl initi assign type variabl 9 type booli obtain via follow 4 bind type variabl bound type b type variabl b bound type cd 12 type variabl c bound type bool type variabl bound type 14 type variabl come bound type b come bound type cd come bound type bool 19 bind aros analysi applic b 3 20 type cd time analysi type 21 function b 22 type argument true determin bool 24 domain function must equal type argument 25 bind aros unif type cd 26 type booli type variabl introduc stand rang function 28 function b type booli 29 elid argument true 31 type applic rang function function fn x true type intbool fn x true type intbool 34 type applic rang function 35 function fn xfn yx type boolintbool 36 fn xfn yx type boolintbool 37 type function definit determin type 38 infer formal paramet x type function bodi fn yx formal paramet x type bool 42 function bodi fn yx type intbool 43 elid 44 type variabl come bound type argument 2 type int integ constant type int figur 5 explan space fn afn bif fn cb 1 type let express type bodi bodi f 3f true type intbool 3 type pair f 3f true determin type element 4 first element f 5 type applic rang function 6 function f type intint 7 function f type intint 8 identifi f introduc 9 letbind let 10 analysi express fn x x determin type aa stand express initi receiv type renam gener type variabl new variabl 14 get type bb type intint obtain bb via follow bind type variabl b bound type int 17 type variabl b come bound type int bind aros analysi applic f 19 type bb time analysi type 20 function f 21 type argument 3 determin int 22 domain function must equal type argument 23 bind aros unif type bb 24 type intc type variabl c introduc stand rang function 26 function f type intint 28 argument 3 type int 29 integ constant type int express fn x x type aa 31 type function definit determin type infer formal paramet x type function bodi x 34 formal paramet x type type formal paramet x remain unconstrain 36 initi assign type variabl 37 function definit bodi x type 38 type bound identifi x remain unchang initi assign type variabl 40 function definit fn x x second element f true type bool 42 type applic rang function 43 function f type boolbool 44 function f type boolbool figur explan space let ffn xx f 3f true end express welltyp use welltyp exampl time emphas explan produc use explain type error also use understand type express ask express type intbool output given figur 6 explan begin statement explain type let construct type bodi case pair f 3f true explan describ first element type int describ type f must describ gener natur type aa note state gener type variabl renam b proce explain type bb unifi type intc 5 conclus goal develop approach maintain deduct step type infer order provid programm meaning explan circumst type error approach taken explain reason type reconstruct process relat program mani case lead programm insight necessari repair program also use explain type system find welltyp express use programm unfamiliar polymorph type reconstruct even program error type system find unexpect way deduc type express describ modif tradit type analysi algorithm milner letstyl polymor phism modif store critic part analysi process keep track atom bind compris substitut permit refin explan deduct wand 9 describ two function make use inform explain step infer type express use understand type error understand type obtain particular express chose present explan programm perspect reach point type inconsist detect seem choic made explan understand explan use bind current differ time type analysi fact consist use final bind inconsist could carri part express programm consid error insight kind error made improv explan could guid novic expert programm relev part program easili sever opportun synthes special case higherlevel explan would meaning programm experi navig explan space could improv acknowledg anonym refere aid consider improv paper one particular devot extraordinari effort analyz paper make suggest improv refere also brought attent master thesi topic 8 r standard ml new jersey basic polymorph type check maximumflow approach anomali isol unificationbas increment type infer theori type polymorph definit standard ml element function program british nation act explan base polymorph type check standard ml find sourc type error tr british nation act logic program basic polymorph typecheck definit standard ml element function program find sourc type error maximumflow approach anomali isol unificationbas increment type infer ctr olaf chitil composit explan type algorithm debug type error acm sigplan notic v36 n10 octob 2001 bruce mcadam repair type error automat trend function program intellect book exet uk 2002 oukseh lee kwangkeun yi proof folklor letpolymorph type infer algorithm acm transact program languag system topla v20 n4 p707723 juli 1998 benjamin lerner matthew flower dan grossman craig chamber search typeerror messag acm sigplan notic v42 n6 june 2007 yang jung greg michaelson visualis polymorph type check journal function program v10 n1 p5775 januari 2000 peter j stuckey martin sulzmann jeremi wazni interact type debug haskel proceed acm sigplan workshop haskel p7283 august 2828 2003 uppsala sweden bastiaan heeren jurriaan hage doaits swierstra script type infer process acm sigplan notic v38 n9 p313 septemb christian haack j b well type error slice implicitli type higherord languag scienc comput program v50 n13 p189224 march 2004 bonifac hick dave king patrick mcdaniel jifclips develop tool securitytyp languag proceed 2007 workshop program languag analysi secur june 1414 2007 san diego california usa benjamin lerner dan grossman craig chamber semin search ml typeerror messag proceed 2006 workshop ml septemb 1616 2006 portland oregon usa thoma ball mayur naik sriram k rajamani symptom caus local error counterexampl trace acm sigplan notic v38 n1 p97105 januari yasuhiro ajiro kazunori ueda kima autom error correct system concurr logic program autom softwar engin v9 n1 p6794 januari 2002 venkatesh choppella christoph hayn sourcetrack unif inform comput v201 n2 p121159 septemb 15 2005 matthia neubauer peter thiemann discrimin sum type locat sourc type error acm sigplan notic v38 n9 p1526 septemb