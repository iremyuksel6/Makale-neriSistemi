refresh polici web content cach web content cach often place end user origin server mean reduc server load network usag ultim userperceiv latenc cach object typic associ expir time consid stale must valid remot server origin anoth cach sent client consider fraction cach hit involv stale copi turn current valid current object small messag size nonetheless often induc latenc compar fullfledg cach miss thu function cach latencyreduc mechan highli depend content avail also fresh propos polici cach proactiv valid select object becom stale thu allow client request process local polici oper within exist protocol exploit natur properti request pattern frequenc recenc evalu compar differ polici use tracebas simul b introduct cach often place endus origin server mean reduc userperceiv latenc server load network usag see figur 1 among dierent perform object cach improv endus web experi gradual becom pronounc mani organ deploy cach server front lan mainli way speed user web access gen eral avail bandwidth endus internet servic provid isp increas complement short round trip time thu latenc bottleneck shift endus cach cach origin server viewpoint web site content distribut network like decreas cost servermachin back earlier version paper appear proceed infocom 01 1 bone connect bandwidth along increas use web commerci purpos impli server network load gradual becom lesser issu rel endus qualiti servic limit trend indic commun time local cach remot server increasingli domin cach servicetim userperceiv latenc technolog provid tradeo tracincreas latencydecreas would becom increasingli worthwhil web site isp servic request cach involv remot commun request object cach case request constitut content miss remot commun also requir cach contain copi object copi stale fresh lifetim expir must valid origin server cach fresh copi prior serv cach copi turn modi request constitut content miss otherwis cach copi valid refer request fresh miss valid request turn fresh miss typic smallsiz respons due commun overhead remot server often contribut userperceiv latenc compar fulledg content miss thu cach servic time improv reduc content fresh miss content hit rate measur per object per byte sometim weight estim object fetch cost dictat avail cach storag replac polici use replac polici web cach extens studi eg 3 4 5 6 7 8 9 10 polici seem perform well least recent use lru evict least recent request object cach full least frequent use lfu evict leastfrequ request object greedyduals account vari object size fetch cost squid 11 popular cach server softwar implement lru polici replac polici howev due decreas storag cost cach hit rate alreadi level would signicantli improv even unbound storag made avail content avail improv prefetch 12 13 prefetch content involv involv predict induc signic bandwidth overhead fresh hit rate cach directli address replac polici captur content hit rate metric client origin server cach figur 1 schemat congur cach client origin server expir time object determin brought cach accord attach http respons header provid origin server expir content must valid serv current cach platform valid content passiv ie client request arriv cach copi object stale perform valid via condit get request typic ifmodifiedsinc im get request mean valid request alway perform onlin endus wait promot proactiv refresh cach initi unsolicit valid request select content ine valid extend fresh time cach object client request serv directli cach motiv signic cost issu associ fresh miss direct eect userperceiv latenc rather eect server network load thu worth perform one oin valid order avoid one perform line formal cost model proactiv refresh overhead cost addit valid request origin server balanc increas fresh hit propos evalu refresh polici extend fresh period select cach object decis object renew upon expir vari polici guid natur properti request histori object timetol ttl valu popular recenc previou request refresh polici also view prefetch fresh ness methodolog implement howev closer replac polici object prefetch al gorithm refresh polici resembl common replac polici lru lfu way object priorit first polici prefer renew recent frequentlyrequest object second implement similar sinc object valu determin request histori object rather consid request histori relat object anoth dierenc refresh document prefetch valid typic consider smaller responses complet doc ument due commun overhead latenc gap nearli pronounc henc refresh potenti provid consider better tradeo bandwidth vs reduc latenc compar object prefetch experiment studi indic best among refresh polici studi elimin half fresh miss cost 2 addit valid request per elimin fresh miss fresh constitut larg fraction 3050 cach hit typic cach today therefor conclud one consider improv cach perform incorpor refresh polici overview paper proce follow discuss relat work section 2 provid brief overview http fresh control section 3 section 4 discuss analyz log data section 5 present dierent refresh polici section 6 describ methodolog tracebas simul simul result perform dierent polici conclud section 7 summari futur research direct 2 relat work recent work address valid latenc incur fresh miss includ transfer stale cach data cach client browser data valid veri 14 modi portion delta comput 15 scheme howev may requir browser support eectiv limit bandwidth endus cach modem user fresh miss elimin via stronger cach consist cach consist architectur includ serverdriven mechan client noti server object modi eg 16 17 clientdriven mechan cach valid server object stale cach copi hybrid approach valid initi either server client hybrid approach includ server piggyback valid respons request relat object 18 19 20 use cach updat fresh statu content anoth hybrid approach leas server commit notifi cach modic limit preagre period 21 22 23 24 serverdriven mechan provid strong consist elimin fresh miss hybrid approach provid good balanc valid overhead reduc valid traf c none mechan howev deploy even standard implement requir protocol enhanc softwar chang cach particip web server may also requir web server maintain perclient state henc unlik becom wide deploy near futur mean except proprietari coher mechan deploy host mirror content 2 25 requir control endpoint coher mechan current wide deploy support http11 clientdriven base ttl timetol refresh approach util mechan consid refresh polici similar one propos 26 cach domain name system dn server resourc record rr domain name system ttl valu initi set authorit server cach rr becom stale ttl expir client queri answer much faster inform avail cach henc refresh polici renew cach rr oin increas cach hit rate decreas userperceiv latenc although yet support wide deploy web cach platform eg squid 11 proactiv refresh oer cach vendor 27 28 product allow refresh select congur manual administr integr polici base object popular work formal issu polici systemat evalu 3 fresh control provid simpli overview fresh control mechan speci http support compliant cach detail see 29 30 11 31 32 cach comput object timetol ttl valu consid fresh beyond becom stale request arriv stale object cach must valid serv commun either entiti fresh copi anoth cach origin server cachabl ttl comput perform use direct valu found object http respons header cach receiv client request object act follow object cach fresh request constitut content fresh hit chit fhit respec tive cach copi immedi return client object cach stale cach issu condit http get request origin server anoth appropriatelyselect cach condit get use entiti tag cach copi http11 etag valu provid respons issu ifmodifiedsinc request lastmodifi respons header valu indic last modic time object sourc respons notmodifi request constitut content hit chit fresh miss fmiss object modi request content miss cmissr item found cach fetch origin anoth cach request constitut content miss cmissd request arriv client nocach header cach forward origin server cach must forward request even fresh copi cach use respons replac refresh older copi object refer request nocach request ttl calcul cachabl object speci http11 compar age object fresh lifetim age smaller fresh lifetim object consid fresh otherwis consid stale ttl fresh lifetim minu age zero neg age object dierenc current time accord cach clock timestamp speci object date respons header suppos indic respons gener origin age header present age taken maximum impli age header fresh lifetim calcul proce follow first maxag direct present valu taken fresh lifetim otherwis expir header indic absolut expir time present fresh lifetim dierenc time speci expir header time speci date header zero dierenc neg thu ttl dierenc valu expir header current time speci cach clock otherwis explicit fresh lifetim provid origin server heurist use fresh lifetim assign fraction http11 mention 10 exampl time dierenc timestamp date header time speci lastmodifi header subject maximum allow valu usual 24 hour sinc http11 requir cach must attach warn heurist expir use object age exce 24 hour conclud overview point two qualit issu actual use fresh control relat refresh approach 33 analyz distribut dierent fresh control mechan object trace use show larg major cachabl object explicit direct object heurist calcul use determin fresh lifetim thu tradeo fresh coher control tune paramet valu url lter 31 refresh polici appli top heurist take given attempt reduc fresh miss without compromis coher anoth import issu suggest recent studi cach control direct respons header timestamp valu often set care ac curat practic may skew fresh calcul away origin intent 32 34 33 issu also orthogon approach sinc polici like cach take set face valu 4 use two 6 day nlanr cach trace 35 collect uc sd cach januari 20th till januari 25th 2000 nlanr cach run squid 11 log label request sever attribut request time servic time cach action taken respons code return client respons size data analysi consid http get request 200 304 respons code ok notmodifi return client classi request fhit fmiss cmissr cmissd nocach use squid log label follow content hit fhit fresh hit cach fresh cach copi squid label tcp hit tcp mem hit fmiss fresh miss cach stale cach copi valid squid label tcp refresh hit content miss cmissr cach stale cach copi issu im request got new copi modi respons squid label tcp refresh miss cmissd cach copi object squid label tcp miss nocach request arriv nocach request header squid label tcp client refresh miss tabl figur 2 show fraction request type request classi fmiss cmiss nocach involv commun origin server anoth cach fresh miss target refresh polici constitut 13 uc 19 sd request moreov evid fresh miss constitut 31 uc 43 sd content hit request classi fmiss fhit nlanr cach direct valid request fmiss cmissesr origin server 100 uc cach 993 sd cach also appar vast major 90 uc 95 sd valid request return notmodifi classi fmiss nlanr trace also record servic time request time http request receiv last byte respons written client socket note usual one round trip time rtt less client viewpoint figur 3 plot cumul distribut function cdf servic time request broken cach ac tion gap fresh miss fresh hit indic potenti benet term latenc elimin fmiss gap fresh miss content miss part due addit time requir transfer largers respons anoth explain factor content miss exhibit less local refer sens elaps time sinc preced request server like longer decreas local impli longer dn resolut server hostnam sinc requir dn record less like cach longer respons time http request sinc origin server like cold respect cach 1 similar servic time distribut nocach fresh miss suggest nocach request made popular cach content figur 4 plot cdf servic time fresh miss fresh hit broken respons code cach return client http respons code 200 indic content return wherea respons code 304 notmodifi indic client issu im get request copi valid cach respons code 304 typic smallers respons code 200 see fresh hit 304 respons client minim servic time wherea fresh hit 200 respons ect rtt studi 36 indic rst http request server time period like take longer subsequ one cach client addit process gap fresh miss 200 304 respons also similar ect addit commun cach client due larger transmit respons size 5 refresh polici refresh polici associ everi cach object renew credit nonneg integ cach copi expir accord respect ttl interv nonzero renew credit renew request sent respect authorit server renew credit decrement associ renew credit object govern particular polici polici consid may increment renew credit upon client request renew schedul implement via prioriti queue group togeth object closetogeth expir possibl eventtrigg process discuss two type renew request 1 condit fetch cach noti server last modic time entiti tag cach ver sion object request either valid current version new valid version support http10 ifmodifiedsinc get request 2 pure valid request test whether cach version object valid without request valid copi longer valid http10 perform issu ifmodifiedsinc head request http11 provid addit mechan eg rang request polici use pure valid request stop renew copi invalid even renew credit posit pure valid renew gener use less bandwidth condit fetch sinc object modi object header transmit hand condit fetch result fresh cach copi even object modi thu polici perform pure valid renew target fresh miss wherea polici allow condit fetch also address content miss cmissesr smallsiz object singl packet howev overhead pure valid similar condit fetch condit fetch would eectiv ultim type renew request determin polici perrequest perobject basi accord previou content length modic pattern data analysi section 4 show small fraction 510 im request result invalid content transmiss suggest addit overhead perform condit fetch pure valid typic amort 10 renew therefor moder size object total bandwidth usag similar choic renew action sake simplic evalu polici pure valid renew sinc likelihood modic low pure valid renew captur trace total req 200304 req fhit fmiss cmissesd cmissesr nocach uc 75m 63m 23 10 56 1 10 sd 56m 44m 19 15 56 3 7 figur 2 classic request uc sd traces01030507090 500 1000 1500 2000 2500 3000 3500 4000 fraction x millisecond uc cdf request servic time fhit nocach cmissesr cmissesd01030507090 500 1000 1500 2000 2500 3000 3500 4000 fraction x millisecond sd cdf request servic time fhit nocach cmissesr cmissesd figur 3 cdf servic time broken cach action potenti refresh provid good indic full potenti believ howev incorpor condit fetch polici deserv studi anoth design issu may requir explain chose consid predict polici renew prefetch longexpir object predict renew document prefetch typic eectiv activ trace perus basi futur request predict accord current request made user relat object refresh approach dier predictiverenew consid aggreg behavior across user object polici use minim bookkeep simpl implement requir web server support ultim may eectiv refresh polici coexist predict renew content prefetch believ basic dierenc techniqu call separ initi evalu one last import point would like make explicit polici design evalu cach forward request origin server exam ple toplevel cach hierarchi cach attach hierarchi direct renew request authorit sourc assur maximum fresh time respons cach congur forward request parent cach may also benet deploy refresh polici potenti gain howev limit sinc renew would often obtain age respons ie object alreadi cach time period higher level cach studi age eect perform cascad cach 37 38 proceed describ dierent polici illustr exampl provid figur 5 next section evalu compar perform use tracebas simul polici passiv passiv valid object valid result fresh miss ie request arriv stale cach copi way cach work today opti approxim optim omnisci oin polici 2 polici assum knowledg time subsequ request object whether object copi would still valid subsequ request current copi remain valid issu within c freshnesslifetim durat expir current copi renew credit set c otherwis renew perform recencyk renew credit reset k follow request object includ nocach request recencyk similarli cach replac polici lru exploit recenc properti request se quenc state futur request like issu recentlyrequest object recenc k variant recencyk reset renew credit k follow request object except nocach request increment renew credit j request would fresh miss passiv word add j renew credit specifi optim oin algorithm 26 fraction x millisecond uc cdf request servic time 304 fhit 200 fhit 200 fmisses01030507090 500 1000 1500 2000 2500 3000 3500 4000 fraction x millisecond sd cdf request servic time 304 fhit 200 fhit 200 fmiss figur 4 cdf servic time contenthit broken respons code client recency2 time request nocach request refresh miss hit m250167180overhead passiv figur 5 behavior dierent refresh polici exampl sequenc 9 request time line unit freshnesslifetim durat polici incur least two miss rst request coldstart miss 8th request nocach request header alway miss gure also summar number miss renew perform polici passiv exampl incur 7 miss perform renew thfreq05 incur 2 miss perform 13 renew polici opt1 ecient follow sens perform least renew among polici incur 4 miss eg recency1 freq1 0 exampl illustr coverag fraction miss elimin polici recencyi freqi increas overhead number extra request per elimin miss howev typic alway increas well exampl recency1 elimin 3 miss respect passiv perform 8 renew thu issu 84 renew miss passiv overhead 53 167 similarli recency2 elimin 4 miss issu 3 passiv thu overhead upon request issu fresh lifetimedur unit time previou request caus passiv polici contact origin server addit upon request except nocach request renew credit set less polici freqj pure exploit frequenc properti state object frequent request past like request soon replac polici exploit frequenc properti lfu polici freqj hybrid freqj recencym thfreqth keep renew object ratio wouldhav passiv fresh miss number freshnesslifetimedur sinc begin log drop threshold word upon request would fresh miss passiv increment renew credit would keep renew ratio drop threshold addit upon request except nocach request renew credit increas less polici exploit frequenc properti normal fresh lifetimedur also natur provid continu rang tradeo sinc th necessarili integ polici pure frequencybas wherea higher valu correspond hybrid recencym polici 6 experiment evalu conduct tracebas simul order evalu cach perform dierent refresh polici outlin methodolog proceed present discuss simul result 61 methodolog trace includ cach action taken request currentlyimpl passiv refresh order simul polici howev obtain respons header valu ttl valu request object unfortun data avail record trace therefor separ issu get request url trace shortli download process respons header extract cach direct valu relev header eld cachabl object object without nocach direct respons header appli squid object fresh model 11 http11 compliant describ section 3 calcul ttl use valu extract explicit fresh lifetim durat provid expir maxag header appli squid heurist use 10 time dierenc time speci date header time speci lastmodifi header subject maximum valu one day issu singl get sampl object repeat ttl calcul found cach control direct freshnesslifetim valu chang frequent indic estim ect reason well valu would obtain origin server time request log ran simul use origin sequenc request extract ttl valu put polici equal ground elimin eect boundari condit also simul passiv perform gure provid later correspond simul passiv rather one ect origin label given section 4 rst discard request label http get simul appli request url obtain 200 ok respons separatelyissu request note 302 respons http redirect cachabl henc request url obtain respons discard simul util log inform follow way log request consid url use along request time determin statu object simul cach result cach action ii origin cacheact label use identifi request arriv nocach header simul account request reset ttl freshnesslifetim durat even fresh copi present simul cach iii origin label also use heurist estim point object modi modic heurist consid variou record label request clearli success request classi label trace cmissr ie label tcp refresh miss trace see section content chang request label cmissesd explicit indic whether content chang use heurist base log size respons client order simul perform refresh polici also estim point interv request modic actual occur sinc refresh polici stop refresh server invalid object simul assum modic occur two consecut request therefor incur content miss later happen midpoint time interv two request modic happen like rst one occur earlier interv henc assumpt mean unproduct renew occur simul realiti thu simul polici would exhibit somewhat wors tradeo sinc major valid return notmodi howev assumpt could signic eect result sinc could issu get request url present trace reason time without advers aect ing environ select subset scale result factor sampl appli nonuniform sampl denser sampl frequent request url particular includ url request 12 time total fetch 224k distinct url reason nonuniform sampl zipflow relat request url mani request issu small set popular url origin log 5 million dierent url request thu sames sampl obtain uniform sampl url would yield lowercond estim nonuniform sampl use sampl bia factor scale frequenc group individu simul assum innit cach storag capac consist current industri trend actual trace use sinc object request twice 6 day period like discard replac polici use squid perform metric use simul count request constitut content hit content hit occur freshnesslifetim durat past previou simul server contact count fresh miss request occur within durat count fresh hit content hit exclud request explicit noncach object request nocach request header request content chang sinc inform request classifi rst request object appropri request object freshnesslifetimedur 0 count content hit consid fresh miss note renew perform object henc number fresh miss incur object reduc refresh polici 62 simul result simul baselin polici passiv object refresh result client request 48 content hit constitut fresh miss uc trace 53 fresh miss sd trace recal respect number accord label record trace provid section 4 31 43 gap mainli due simul shorter trace dierent boundari condit conserv heurist use identifi content hit factor aect polici similar manner order put passiv equal ground polici chose simul rather use label trace evalu perform dierent refresh polici tradeo overhead vs coverag coverag reduct freshnessmiss calcul fraction number fresh miss accord passiv elimin respect polici precis x denot number fresh miss passiv number fresh miss polici p coverag p fraction x yx calcul overhead polici p dierenc number valid request issu p number valid request issu passiv recal cach issu valid request fresh miss henc request overhead total number renew perform minu number fresh miss elimin convert fresh hit normal overhead divid total number fresh miss convert fresh hit obtain coverageoverhead tradeo type polici swept valu respect paramet exampl point curv recenc correspond run recency1 recency2 point freq obtain run freq1 note opt0 recency0 recenc 0 fact passiv 3 tradeo shown figur 6 perform recenc recenc polici almost ident henc omit recenc curv similar show request without nocach header like follow request nocach header one without nocach header type polici coverag peak 63 67 remain 3337 fresh miss mostli occur object freshnesslifetimedur 0 refresh eectiv opt polici elimin address fresh miss overhead 13 request per miss elimin bulk miss overhead 05 number bound potenti refresh polici also indic perform loss restrict refresh frame work 4 simul result opt recenc show local eect fresh miss elimin occur within small number freshnesslifetim durat previou request leftmost point curv recenc opt correspond recency1 opt1 show 30 fresh miss occur within one freshnesslifetimedur expir cach copi second point left correspond recency2 opt2 indic addit 15 fresh miss occur one two freshnesslifetim durat pass expir note observ fact small number fresh occur 10 freshnesslifetimedur pass expir due local also ect interact log durat 6 day common freshnesslifetimedur 24 hour 33 fact coverag recenc frequencybas polici peak place indic small fraction fresh miss incur infrequ request object sinc frequencybas polici perform renew rst request thu elimin miss incur second quest correspond peak coverag opt policytyp due threshold phenomenon fresh miss occur object fresh lifetimedur 0 occur within small number freshnesslifetimedur follow previou request frequencybas polici freqj 0 thfreqth signicantli outperform recencyk ect fact vast major fresh miss elimin occur popular url gap caus larg number cachabl url 3 remark polici abl achiev contin uou tradeo mix two consecut integr valu respect paramet exampl appli recency1 url recency2 other 4 recal refresh framework object must kept fresh continu till follow hit optim unrestrict polici valid object request incur overhead requestoverhead per elimin fmiss fraction fmiss elimin uc trace perform refresh polici opt recenc requestoverhead per elimin fmiss fraction fmiss elimin sd trace perform refresh polici opt recenc figur perform dierent refresh polici simul uc sd trace request recencyk polici perform k unproduct renew 5 request hybrid polici freq thfreq 0 perform consider wors pure frequencybas polici correspond henc result shown behavior surpris given recenc yield much wors tradeo overal result indic frequencybas object priorit eectiv recencybas priorit domin frequencybas polici also consist studi cach replac polici web content 8 7 sinc dierent url tend wide rang characterist popular properti captur better frequencybas polici interest contrast result relat studi refresh polici perform dn record contrast nd ing dn cach recenc frequencybas polici exhibit similar perform 26 explan hostnam level signicantli smaller fraction object resolv perform freq thfreq similar although thfreq normal frequenc freshnesslifetim durat perform somewhat better similar mostli explain fact larg major fresh lifetimedur length one day also shorter durat frequenc request correl durat polici thfreq provid spectrum tradeo better perform particularli lowoverhead rang thfreq howev may requir bookkeep freq particular tradeo obtain frequencybas polici show signi cant improv obtain fairli low overhead 10 fresh miss elimin overhead half valid request per elimin fresh miss 25 fresh miss elimin overhead singl request per elimin miss 50 elimin overhead two 65 fresh miss elimin overhead three 5 could less k sinc perform renew pass termin time log 7 conclus larg fraction 3050 cach hit constitut fresh miss cach copi fresh turn valid commun origin server valid perform prior send respons user signicantli extend cach servic time fore fresh miss imped cach abil speedup web access emerg challeng web content cach reduc number fresh miss proactiv maintain fresher content seem cach vendor alreadi implement adhoc refresh mechan propos refresh polici rel lowoverhead systemat solut refresh polici extend fresh lifetim select valid cach object upon expir sinc cach fresh increas request object like fresh therebi servic faster demonstr good refresh polici elimin 25 fresh miss overhead singl valid request per elimin miss two oin valid request replac one onlin request futur work propos way reduc renew overhead rst propos renew object locat host batch togeth thu decreas overhead share persist connect batch natur coloc object often share cachecontrol mechan subset object embed page relat page often request togeth second propos perform renew opeak hour common fresh lifetim durat 24 hour provid sucient schedul exibl eg perform renew due 10am est signicantli lessbusi time 7am est next step evalu eectiv refresh polici hope incorpor one polici popular cach server softwar squid result indic integr refresh would impos signic comput overhead would boost perform term userperceiv latenc acknowledg experi would possibl without collect time avail nlanr cach trace thank duan wessel answer question regard squid log bug 8 r tr scale perform distribut file system leas effici faulttoler mechan distribut file cach consist web cach coher remov polici network cach worldwid web document improv endtoend perform web use server volum proxi filter exploit regular web traffic pattern cach replac onlin file cach age cascad cach volum leas consist largescal system imagebas render control illumin evalu serverassist cach replac web proactiv cach dn record applicationlevel document cach internet maintain strong cach consist worldwid web ctr edith cohen haim kaplan proactiv cach dn record address perform bottleneck comput network intern journal comput telecommun network v41 n6 p707726 22 april timo koskela jukka heikkonen kimmo kaski web cach optim nonlinear model use object featur comput network intern journal comput telecommun network v43 n6 p805817 20 decemb