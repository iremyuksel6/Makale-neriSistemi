framework semant reason byzantin quorum system defin class share variabl call tsvariabl includ implement variou byzantin quorum system construct malkhi reiter develop number definit theorem enabl us reason variabl abstractli use tool reduc problem lamport atom semant variabl simpler problem regular semant discuss fact problem remain stubbornli difficult solv type byzantin quorum system variabl notabl mask quorum system variabl show solvabl tradit approach asynchron environ final variabl defin notion pseudoregular pseudoatom semant state briefli similar reduct hold concept b introduct byzantin quorum system mr98a promis approach problem ecient implement byzantin faulttoler data servic sever variat approach baz97 mrwr97 mrw97 mr98a basic concept data maintain simultan multipl site read write oper process subset call quorum site quorum dene way intersect two quorum contain enough server allow queri determin return accur uptod inform even presenc limit set arbitrarili faulti server furthermor subset server concern given oper system also remain avail spite limit server crash network partit final fact servic design toler outofd server eg part recent write quorum greatli simpli task recov failur long quorum server date other may brought back onlin without need recov recent state analyz semant share variabl implement quorum system quit chal leng heretofor analysi limit individu protocol framework reason semant quorum variabl famili exampl exist compel argument eect fulli serializ oper achiev type quorum system notabl dissemin quorum system mr98b remain open problem other eg mask quorum system mr98a argument tell us discrep exist degre individu solut gener one primari contribut paper address need present set denit theorem allow us reason class share variabl implement quorum system includ variou byzantin quorum system call variabl tsvariabl import role timestamp protocol 1 give adapt version lamport formal denit concept safe regular atom semant lam86 concept tradit use describ semant byzantin quorum system use necessarili somewhat inform lamport formal denit theorem base assumpt variabl write never concurr one anoth adapt depend assumpt appli directli variabl interest fulli calcul proof style far know rst paper appli calcul proof quorum system variabl use formal prove atom result mr98b gener import theorem tsvariabl writeback mechan use particular protocol fact reduc problem atom variabl semant tsvariabl simpler problem regular semant correct atom protocol mr98b fact view corollari result cryptograph framework dissemin quorum system san writeback enforc regular semant followup show problem atom semant fulli serializ oper straightforwardli solv type quorum system remain unsolv other specic show signic subclass tsvariabl tradit approach protocol design alway danger fail read queri abort retri incorrect asynchron environ fact mask quorum system mr98a atom semant prove stubbornli elus fall categori final propos brie discuss somewhat weaker notion pseudoregular pseudoatom semant system structur paper follow section 2 dene tsvariabl number relat concept theorem includ adapt version lamport semant categori section 3 use fact denit tsvariabl specic quorum system variabl simpli captur properti common variabl relev analysi theorem therefor also hold variabl type may share properti formal give fulli calcul proof regular readwrit protocol satis denit tsvariabl protocol use implement correspond atom readwrit protocol section 4 show import class possibl protocol tradit approach protocol design alway result danger unresolv queri asynchron system dene weaker notion pseudoregular pseudoatom semant implement spite queri conclud section 5 exampl pseudoregular protocol mask quorum system includ appendix preliminari 21 formal mask quorum system variabl tsvariabl order reason formal byzantin quorum system variabl class need abstract dene import featur variabl independ oper detail end section introduc concept tsvariabl begin dene gener concept timestamp variabl well number use function variabl denit 1 timestamp variabl variabl type whose valu read updat conjunct associ timestamp timestamp drawn unbound total order set let rw set read write oper timestamp variabl given readwrit protocol let r rw set read let w rw set write follow function denit hold r b repres set real set boolean respect valu op 2 rw op read valueop valu return read op write valueop valu written ts op 2 rw op read tsop timestamp valu return read op write tsop timestamp assign valu written readsfrom r 2 r w read result write w timestamp variabl dene equival readsfrom purpos next two function postul realvalu global clock eg age univers millisecond provid absolut timescal system event system discuss asynchron individu process access global clock valu function use reason purpos start start time oper global time end end time oper global time purpos function give us conveni shorthand reason possibl concurr oper without specic actual nondeterminist asynchron environ order server process request essenti op2 concurr op1 wherea concurr may exist thu need resolv propos serial op1 op2 simplic therefor treat latter express denit concurr hereaft 2 keep hypothet mean stipul start end function meet follow restrict 211 tsvariabl variabl consist type memori address specic oper may perform includ least read write 3 refer specic variabl protocol read write activ variabl describ term run protocol denit 2 run variabl v set oper perform v meet specic vs protocol call run rw complet read oper r 2 rw exist write oper rw readsfrom r w use separ term run consist oper perform variabl lifetim denit 3 histori variabl run consist oper perform variabl lifetim chapter continu use label rw repres variabl run subscript use distinguish run context otherwis clear project run rw onto read oper denot r correspond project onto write oper denot w although research use term run execut interchang work nd use follow exampl lam86 give distinct technic mean specic execut associ run preced relat oper run ie denit 4 execut variabl v pair hrw rw run v preced relat irr exiv partial order oper rw dene two specic type execut special import work denit 5 execut hrw said realtim consist denit 6 execut hrw said writeord satis follow 1 2 hw realtim consist 2 liter denit would two oper concurr exist two server process dierent order howev readili seen endop1 startop2 everi server process op1 henc concurr 3 concern readonli variabl context work word 1 writeord execut write oper total order 2 order consist partial order write oper real time denit 7 run rw timestamp variabl v relat ts dene 1 8op 2 rw8w ts w tsop tsw 2 8w 2 w8r ts r tsw tsr 3 8r r b ts easi see ts irr exiv antisymmetr transit therefor irr exiv partial order note oper ident timestamp necessarili order ts dene tsvariabl follow denit 8 tsvariabl timestamp variabl v histori rw v hrw ts writeord note denit 7 8 impli tsvariabl write uniqu identi timestamp thu given read one write timestamp therefor make follow observ provid simpli form denit readsfrom tsvariabl observ 1 read oper r write oper w complet tsvariabl run 22 formal data semant tsvariabl dene mean writeord execut safe regular atom denit safe regular base idea write variabl complet previou valu variabl read concept express lam86 term set write given read see 4 denit 9 writeord execut hrw let w order list write oper rw dene furthermor given read oper r let index last write preced r ie startrg say r see w 0 w express relationship predic form thu valu read see might legitim return read ie valu recent complet write w valu concurr write denit dicult use directli fortun fact hrw writeord impli write seen r fall within wellden rang write earlier last term write order preced r later last write concurr r 4 lam86 dene concept singlewrit regist whose write oper thu necessarili serial relax requir dene version see term serializ rather serial write thu denit appli variabl multipl writer observ 2 given read r let dene denit 9 let 5 readi give denit safe regular atom execut 221 safe execut inform term execut safe read see one write return valu write oper mean read concurr write return result recent write accord serial dene writeord formal continu use w denot th write order dene say denit writeord 222 regular execut writeord execut regular everi read return valu see ie result recent complet write concurr one formal denit 11 execut hrw regular writeord note regular execut necessarili safe tsvariabl denit use consequ timestamp given read least timestamp recent complet write formal ts regular calcul proof lemma given figur 1 consist show arbitrari write preced given read timestamp less equal read 5 note revers true possibl write fall within given rang without seen invis occur read r concurr w j figur 1 proof lemma 1 223 atom execut final dene atom execut execut behav though oper total order realtim consist way ie total order b behav though perform serial order c order consist partial order oper real time denit 12 execut hrw atom total order rw note second third bullet denit impli atom execut also regular revers necessarili true safe regular atom variabl protocol properti set possibl histori see denit variabl implement protocol denit 13 variabl protocol safe regular atom respect preced relat possibl histori rw consist protocol execut hrw safe regular atom protocol safe regular atom safe regular atom respect preced relat variabl safe regular atom protocol safe regular atom observ 3 denit 11 12 specic second bullet impli everi read regular atom execut read write thu possibl histori regular atom variabl complet run 3 reduc atom semant problem previou section develop tool reason tsvariabl class share variabl includ implement variou type benign byzantin quorum system demonstr power tool use prove writeback mechan mr98b appli dissemin quorum system use promot regular protocol atom one type tsvariabl specic show construct protocol tsvariabl atom given protocol regular tsvariabl v reg prove result atom accomplish mean follow step 1 add new oper protocol v reg dene oper v atom term expand regular protocol show result v atom tsvariabl 2 dene total order ts 0 oper v atom extend ts ie op ts op b op ts 0 3 use denit 13 prove v atom atom respect ts 0 31 dene atom protocol let v reg regular tsvariabl expand protocol v reg dene third oper addit read write writeback writeback oper similar write oper v reg except wherea write oper calcul timestamp writeback take timestamp argument thu writeback necessarili order ts stipul howev run rw exp expand protocol continu satisfi lemma 1 well follow addit properti 6 properti 1 read oper r write oper w writeback oper b rw exp dene propos atom variabl protocol v atom follow read reg write reg read write protocol v reg val ts valu timestamp respect read reg oper word write oper v atom consist singl write oper v reg read oper v atom consist read oper v reg follow writeback result valu timestamp timestamp read atom write atom oper ident timestamp underli read reg write reg oper write oper v atom consist exactli one write oper v reg follow v atom also tsvariabl clariti hereaft follow convent oper v atom repres boldfac oper v reg repres ital 6 mask quorum system dissemin quorum system lemma 1 properti 1 implement writewriteback perform null oper server whose current timestamp variabl higher writewriteback thu monoton timestamp enforc server 32 total order oper v atom prepar prove v atom atom specifi preced relat total order run rw atom v atom ts relat alreadi dene sucient order read oper share timestamp therefor propos dene extens ts 0 ts use follow addit function map oper run rw total order set gtf arbitrari function follow three properti uniqu 8op op b 2 rw gtf op exampl function map op 2 rw pair timeop id id uniqu realvalu oper identi purpos gtf function act supplement timestamp dene serial oper sequenti ensur order impos gtf compat partial order oper realtim uniqu ensur function act tiebreak oper timestamp read promot ensur read oper higher gtf write might aect 7 dene ts 0 follow given run rw atom v atom 8op op b 2 rw atom op ts 0 word ts 0 lexicograph order pair tsop gtf op therefor total order virtu uniqu properti gtf fact ts gtf total order codomain consequ denit follow lemma corollari allow us use denit 12 prove atom ts op b op ts 0 corollari 1 execut hrw atom ts 0 v atom writeord ts 0 ts r proof lemma corollari straightforward omit reason space 33 prove v atom atom remain goal prove hrw atom ts 0 atom run rw atom v atom thu prove v atom atom variabl theorem 1 possibl histori rw atom v atom execut hrw atom ts 0 atom alreadi shown ts 0 total order rw atom remain oblig prove 7 fact properti sucient allow us dene total order strictli term gtf howev gtf alon specifi behavior timestamp allow us reason directli behavior read via readsfrom function therefor use gtf indic figur 2 proof readsfromr w ts 0 ts 0 hrw ts 0 realtim consist proof appear figur 2 3 latter case oblig prove ts 0 prove separ four possibl case two write write follow read read follow write two read simplic use convent r w possibl subscript refer oper rw atom r w b denot correspond read write writeback oper expand regular protocol figur 3 thu reduc problem atom semant tsvariabl regular semant next section show latter problem readili solvabl type tsvariabl eg dissemin quorum system signic class tsvariabl includ unfortun mask quorum system regular semant achiev asynchron environ use type approach heretofor standard end section brie discuss regular atom semant may approxim variabl regular pseudoregular semant except eg baz97 byzantin quorum system protocol design asynchron system restrict typic client may send write request quorum server time use choic timestamp ie write alway enabl order schedul impos read write request read write request process server order receiv 8 accord convent adopt earlier ratom set read oper rwatom figur 3 proof hrw ts 0 realtim consist hereaft describ system characterist nonrestrict system although sever variat quorum system protocol current literatur share follow characterist 1 server maintain singl version variabl imag given time 2 read gener singl queri return non valu appropri dene voucher set server respond queri ident imag otherwis return valu timestamp context signal abort oper never written 3 process write request sucient high timestamp chang state variabl imag server process read request consist simpli return request data remaind discuss refer protocol classic quorum protocol specic smallest voucher set accept protocol size refer classic mset quorum protocol section show 1 classic mset quorum protocol nonrestrict system may return respons given queri read r return valu exist write w readsfromr w thu histori contain read regular cf observ 3 short theorem 2 1 classic mset protocol regular nonrestrict system prove theorem show certain possibl server respons read queri system unresolv 1 result read valu corollari theorem also show true even server maintain bound list variabl imag receiv 41 denit begin number use denit let p classic mset quorum protocol let r w oper p r read oper w recent complet determin timestamp write oper begin r let q r qw quorum r w respect perform let f q r set server return faulti respons read r denit 14 inform set r set q r qw n f note write concurr r server q r qw overwritten sinc w inform set r voucher set r case server inform set return result write r see denit 9 worst case server therefor observ observ 4 protocol p regular possibl set respons read inform set contain ident respons least one voucher set 42 nonregular argument smallest inform set let q quorum system classic mset quorum protocol p let mininf size smallest possibl inform set q 9 smallest inform set repres worstcas scenario success read suppos given histori rw p everi read oper concurr k write oper theorem 3 rw regular proof arbitrari read oper r let partit inform set 0 contain server return result recent complet write oper contain server return result th write concurr r nonrestrict system set may nonempti depend order concurr oper request receiv individu server prove portion theorem separ 9 everi quorum system base wellden set possibl failur scenario valu wellden dmininf k read r 2 r contain voucher set extend pigeonhol principl state least one member partit contain least averag number element partit suppos dmininf k r read oper inform set size mininf suppos r concurr exactli k write furthermor let r even partit ie partit everi set contain either ceil oor averag number element r contain voucher set r return impli rw regular sinc histori possibl system describ protocol regular2 sinc denit nonrestrict system allow arbitrari valu k lemma 3 classic mset protocol p regular nonrestrict system theorem 3 follow directli result thu 1 classic mset read protocol ie protocol requir agreement multipl server order determin correct result regular unrestrict system categori includ mask quorum system mr98a worth note ordinari quorum system dissemin quorum system classic mset protocol alreadi known regular appropri failur model benign byzantinelimitedbyauthenticateddata respect 421 nonregular classic protocol bound imag list dene classic mset protocol bound imag list enhanc mset protocol follow characterist 1 server maintain bound list imag receiv given variabl ie list last hsize imag written server 2 read return non valu receiv ident imag least b speci b 0 even server respond everi queri entir list hsize imag remain possibl read queri unresolv nonrestrict system ie lemma 4 1 classic mset quorum protocol bound imag list regular nonr strict system proof nonrestrict system given read oper may concurr unbound number write suppos read oper r concurr hsize write oper hsize size bound imag list size inform set r 1 server may receiv rst hsizei write request receiv request r imag list 1 contain imag rst hsize write imag list 2 contain imag next hsize write displac rst hsize list bound forth respons queri r therefor receiv hsize dierent variabl imag exactli one server therefor unabl resolv query2 43 ignor abort pseudoregular semant certain applic howev may abl toler occasion abort read applic worthwhil reason somewhat weaker version regular atom semant variabl refer pseudoregular respect pseudoatom semant dene concept term variabl pseudohistori follow denit 15 pseudohistori variabl run consist write variabl histori read return ie set nonabort oper dene new semant concept follow denit variabl protocol pseudoregular pseudoatom respect preced relat possibl pseudohistori rw consist protocol execut hrw regular atom protocol pseudoregular pseudoatom pseudoregular pseudoatom respect preced relat 431 reduc pseudoatom pseudoregular suppos pseudoregular protocol tsvariabl exampl protocol mask quorum system appear appendix paper initi sketch amprw00 possibl pseudohistori rw execut hrw ts satis denit 11 rw complet run therefor argument section 3 appli pseudohistori well writeback mechan demonstr thu use produc pseudoatom protocol pseudoregular one 5 conclus paper present set denit theorem allow us reason semant share variabl implement variou type quorum system includ oftenproblemat byzantin quorum system framework allow us develop theorem variabl call tsvariabl class without refer detail individu implement also use result tool prove regular protocol tsvariabl straightforwardli enhanc atom protocol subsidiari result show signic subclass tsvariabl includ mask quorum system tradit design approach produc regular protocol asynchron environ variabl introduc idea pseudoregular pseudoatom semant similar origin concept except allow occason abort oper acknowledg would like express sincer thank dahlia malkhi michael reiter numer thoughtprovok discuss jennif welch hyunyoung lee pete manolio phoeb weidmann help comment earlier draft paper r dynam byzantin quorum system synchron byzantin quorum system atom multiread regist interprocess commun quorum system byzantin quorum system secur scalabl replic phalanx optim byzantin quorum system probabilist quorum system extens uniti methodolog elus atom regist tr dynam byzantin quorum system secur scalabl replic phalanx ctr ittai abraham gregori chockler idit keidar dahlia malkhi waitfre regular storag byzantin compon inform process letter v101 n2 p6065 januari 2007