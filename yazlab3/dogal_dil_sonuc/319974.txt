requirementbas data cube schema design onlin analyt process olap requir effici process complex decis support queri larg databas well accept precomput data cube help reduc respons time queri dramat import design issu effici olap system therefor choic right data cube materi call problem data cube schema design problem paper show problem find optim data cube schema olap system limit memori nphard comput effici altern propos greedi approxim algorithm cmp variant algorithm cmp consist two phase first phase initi schema consist cube requir effici answer user queri form second phase cube initi schema select merg satisfi memori constraint show cmp effect prune search space optim schema lead highli effici algorithm report effici effect cmp via empir studi use tpcd benchmark result show data cube schema gener cmp enabl effici olap queri process b introduct wide accept data wareh tech nolog corpor build decis support system dss larg data warehous mani dsss onlin characterist term onlin analyt process olap system differ convent databas applic dss usual need analyz accumul inform often system need scan almost entir databas comput queri answer result poor respons time convent databas techniqu simpli fast enough today corpor decis process data cube technolog becom core compon mani olap system data cube precomput multidimension view data data warehous 5 advantag data cube system data cube built answer decis support queri retriev cube realtim olap system model threelevel architectur consist 1 queri client 2 data cube engin 3 data warehous server bottom level olap system data warehous built top dbm data warehous come sourc oper databas simplest case data warehous could dbm self warehous need support fast aggrega tion exampl mean differ index techniqu bitmap indic join indic 11 12 middl level olap system set data cube gener data warehous cube call base data cube base cube defin set attribut taken warehous schema contain aggreg select set tribut aggreg comput base cube set base data cube togeth defin data cube schema olap system top level olap system queri client client besid support dss queri allow user brows data cach data cube therefor queri could complic dss queri simpl slice dice request queri submit queri client check data cube schema direct cube level answer data cube otherwis queri pass warehous result comput sinc data cube store precomput result servic queri cube much faster warehous variou develop research studi made design three level olap sy tem mani commerci product also avail abl exampl queri client includ seagat info worksheet 13 microsoft pivott servic 10 current queri client product mainli provid brows report gener servic cach data gener unless answer alreadi cach complex dss queri submit client modul compil access data cube warehous warehous data cube level product like microsoft sql olap servic hyperion essbas olap server7 ibm db2 olap server 8 warehous level mani vendor enhanc dbm product improv perform data aggreg 6 data cube level research studi focu two issu 1 comput aggreg base cube efficiently1 2 data structur use repres cube debat relat olap rolap multidimension olap molap1 16 mention olap system would abl support realtim respons cube level intercept answer queri unfortun materi possibl cube possibl queri answer cube clearli impract due high storag mainten cost instead one care choos right combin cube queri respons time optim subject constraint system capac storag space call set materi base cube data cube schema olap system also call problem select data cube schema data cube schema design problem key design queryeffici olap system thu lie design good data cube schema particular two import question one need address basi shall design schema schema deriv claim data cube schema base sole databas schema warehous instead practic approach cube design problem base user queri quirement exampl tpcd benchmark 15 requir answer 17 dss queri specifi benchmark effici queri presum driven applic use data warehous often given user queri requir ie set frequent ask queri set system capac constraint eg storag limit goal deriv data cube schema optim queri respons time without violat system capac constraint see section 24 prove optim problem nphard find optim data cube schema thu comput expens altern propos effici greedi approxim algorithm cmp requirementbas data cube schema design problem algorithm consist two phase 1 defin initi schema first phase deriv initi set data cube call initi schema applic quirement studi assum requir captur set frequentlyask queri faq initi schema select faq answer directli effici tpcd exampl defin cube answer one 17 dss queri exampl 7th queri tpcd benchmark involv three tribut supp nation cust nation shipdat yr 2 schema optim second phase modifi initi schema queri respons time optim subject sy tem capac constraint data cube deriv initi schema may lot redund caus overlap attribut total size cube may exceed storag memori limit system mani cube would alway induc larg mainten cost data underli warehous chang therefor may costeffect merg cube cube merg may result fewer perhap larger cube term queri respons time queri process use merg cube gener slower use origin cube henc tradeoff queri perform cube mainten schema optim determin set data cube replac cube initi schema queri perform result cube optim constraint total size result cube within accept system limit 1 set data cube obtain optim process call optim schema olap system rest paper organ follow section 2 present formal definit schema optim problem section 3 introduc greedi algorithm cmp schema optim perform studi cmp present section 4 use data tpcd benchmark studi final conclud paper section 5 lack space detail omit reader refer 4 1 reason correl mainten cost total size cube schema inform optim 21 search space optim schema paper assum requir olap system captur set frequent queri use q denot initi schema data cube deriv queri second phase cube design process refin set q mainten cost storag cube set within capac system consid refin optim problem set possibl cube set search space simplifi problem assum databas data warehous repres star schema 2 attribut queri come field dimens fact tabl usual number dimens fact tabl larg howev may mani attribut one tabl exam ple tabl part includ attribut p partkey etc dimens fact multihierarch dimens shown figur 1 addit star schema pbrand pcontain ppartkey psize ptype figur 1 multihierarch structur part dimens tpcd attribut store directli fact tabl exampl attribut l shipdat l commitd l receiptd fact tabl lineitem tribut result number attribut dimen sion need consid data cube design much number dimens tabl tpcd 33 attribut need consid 9 notion composit lattic use integr multihierarch dimens lattic aggreg data cube assum g set attribut queri post subset use dimens attribut construct data cube composit lattic pa oe lattic data cube construct subset pa power set cube associ set root lattic l two differ cube c 1 c 2 2 l deriv relationship c 1 oe c 2 hold c 1 deriv c 2 aggreg exampl cube deriv c custom date lattic l search space optim problem mention n larg tpcd search space l optim problem enorm 22 schema optim given initi data cube schema q search space l mainten cost bound lim schema optim problem defin tabl 1 object find c ae l costq c minim constraint 8q 2 q 9c 2 c q oe c mc c lim tabl 1 schema optim problem object find cube set c cost answer frequent queri costq c smallest constraint state frequent queri q answer cube c c total mainten cost mc c cube set smaller system limit lim discuss variou measur cost mc shortli simplic assum frequent queri equal probabl sinc cube initi schema q deriv one distinct frequent queri use symbol q denot cube initi schema associ frequent queri sinc want make assumpt implement cube structur queri good measur costq c linear cost model suggest 9 model q oe c cost comput answer queri q use cube c linearli proport number data point c use sc denot number data point c queri q 2 q use fc q denot smallest cube c answer q formal fc q cube c q oe fc q 8x 2 c q oe x sfc q sx defin maintain data cube requir disk storag cpu comput without assum implement method two measur use estim mainten cost mc c cube set ie number cube c c2c sc ie total number data point cube estim total disk storag requir 23 relat work best knowledg paper first explor data cube schema design problem sever paper publish data cube implementa tion cube select algorithm propos 9 14 cube select algorithm assum one root base cube c 0 encompass attribut queri also assum queri associ root base cube c 0 therefor c 0 2 q differ schema optim problem select alway includ c 0 answer ie c 0 2 c howev gener dss tpcd anticip mani frequent queri involv attribut henc cube schema design problem gener cube select algorithm start base cube determin cube deduc implement queri aggreg base cube answer effici tackl differ problem cube schema design tri merg cube initi schema bottomup gener set cube provid optim queri perfor manc system capac constraint satisfi search space design problem gener much larger larg number attribut present initi schema short cube select algorithm cube implement cube schema design interest question whether possibl modifi select algorithm 9 solv schema design problem one solut appli select algorithm maxim cube q ie deduc cube q gen eral one maxim cube q order adopt select algorithm includ maxim cube answer set c initi member expand c appli select algorithm expans stop total size exce storag bound lim howev solut undesir problem first maxim cube alon alreadi exceed mainten bound cube select algorithm fail second maxim cube highli correl eg mani overlap attribut merg could benefici sometim even necessari select algorithm howev never merg cube exampl given lattic suppos cube abcd bcde maxim sabcd use select algo rithm abcd bcde select ever replac cube abcd decreas mainten cost without increas queri cost henc select algorithm alway applic cube schema design problem 24 complex optim problem schema optim problem comput difficult summar complex follow theorem proof theorem found 4 theorem 1 1 given initi schema q search space l bound lim problem find subset c ae l c contain root l everi q 2 q deriv c 2 c 2 given perform ratio r r 1 find algorithm schema optim problem defin tabl 1 whose perform bound r time optim perform nphard theorem 1 tell us optim problem difficult one theori imposs find even effici approxim algorithm give perform guarante next section discuss greedi approxim algorithm discuss heurist use prune vast search space look good solut effici effect algorithm studi section 4 3 algorithm cmp develop greedi algorithm call cmp cube merg prune outlin cmp shown figur 2 ffc da maximum return c figur 2 algorithm cmp iter loop line 2 6 algorithm cmp select two cube set cube remov c cube ad c cube set select cube q still answer new c algorithm termin mainten cost cube set longer exce limit lim select cube set govern evalu function ff evalu function defin reduct mainten cost larg increment queri cost small algorithm use follow ff function increaseinquerycost 2 new c numer formula 2 save mainten cost use mc 2 formula result rest paper unless state explicitli also valid denomin increment queri cost f c smallest ancestor c 31 properti evalu function ff cmp search space enorm subsect show properti evalu function use prune search space effect theorem 2 suppos l ff defin c set cube cmp enter iter suppos select base c maxim valu ff c one combin give maximum valu combin fewest cube must follow properti 1 jd 2 follow true smallest common ancestor b b accord theorem determin case ff attain maximum valu also contain smallest common ancestor remov cube significantli reduc search space furthermor item 2b theorem 2 make evalu mani combin unnecessari corollari 1 true corollari 1 tell us need consid contain cube deriv anoth cube corollari impli ff valu maximum develop procedur selectcub use result prune candid search space cmp 1 build direct acycl graph dag cube c edg deriv relationship oe among cube c 2 partit graph disjoint path partit dag travers graph maxim node ancestor toward bottom node descend visit node associ edg remov repeat procedur remain node node remov 3 node path derivedfrom relationship accord corollari 1 two node path pick togeth henc pick one node path practic number path larg prune significantli reduc number possibl candid henc possibl combin follow theorem 2 pathbas process deriv anoth prune techniqu reduct search space corollari 2 assum c partit p path let k1 k2 deltadeltadeltak p 9t sa k1 set cube ff attain maximum valu use corollari suggest organ se lectcub procedur start bottom path compos candid node select procedur reach candid combin satisfi condit corollari 2 yettobeevalu candid current combin lattic hierarchi ig nore illustr prune process exampl shown figur 3 cube set c partit 3 path contain 3 4 3 node respec tive select combin bottom node path b 11 b 21 b 31 suppos evalu combin sfc b 12 true accord corollari 2 remain combin includ b 12 need evalu prune combin g 9 combin 3 cube fb 3 eleven combin prune case 11 22 23 figur 3 exampl prune cmp input lsearch space ca set cube r size restrict outputdcub remov new cube ad procedur selectcubesinput l c partit c p total path path1 add pathi rbuf call procedur iter procrbuf re remov pathi rbuf return result re procedur iter procrbuf re rbufpath select path pathicurnodeth select cube ith path rbufa smallest common ancestor condid cube combin re buffer content result point restrict candid size start first path select yet f srbufa sfc pcurnod need iter rbufnopath r start p total f add path rbuf add pathi rbuf call procedur iter procrbuf re remov pathi rbuf figur 4 procedur selectcub rmp 32 rmp algorithm even though mani combin prune cmp search optim ff valu may still need consid larg number combin involv node multipl path reduc complex one option restrict number node candid combin remark theorem 2 still hold even size restrict call search algorithm rmp candid size larger certain constant r r 1 consid perform studi show rmp could good approxim unrestrict cmp obvious good depend valu r p number path c rmp becom cmp list procedur selectcub rmp figur 4 first step procedur selectcub c partit number path loop line 2 line 6 evalu possibl combin travers path via recurs procedur iter proc set cube remov cube ad attain maximum valu ff return line 7 sequenc node travers construct follow two iter loop ffl combin path construct loop line 2 line 6 loop line 22 line 26 insid recurs procedur figur 3 show exampl suppos size restrict r set 3 sequenc path combin consid selectcub fp 1 g ffl travers node path perform line 16 procedur iter proc call line 27 iter loop line 17 line 28 figur 3 first combin travers sequenc delta travers result corollari 2 use prune combin attain maximum valu evalu line 18 follow two condit check 33 relationship rmp 2mp although prune method introduc effect rmp complex still high r larg thu interest see 2mp perform compar gener rmp theorem 3 suppos c state rmpr enter iter identifi new set assum mainten cost function mc 2 possibl ds prune away either corollari 1 2 satisfi follow da pair select rmpr 2 2mp ident theorem 3 show suffici condit rmpr 2mp equival tri algorithm real data set result obtain 2mp close rmp even larg valu r restrict effici rmp algorithm small r thu viabl choic mani occas perform studi carri perform studi algorithm sun enterpris 4000 run solari 26 first goal studi good schema gener cmp 2mp second goal studi effici two algorithm prune effect use tpcd benchmark data studi databas gener scale factor 05 15 size databas 05 gb queri benchmark frequent queri model 41 good schema gener first experi compar costq c output c cmp 2mp result also compar random select algorithm la bele 2rand randomli merg pair cube iter mainten cost limit exceed use mc 1 c number cube c comput mainten cost simplicity1e072e073e074e075e0717 2rand figur 5 queri cost schema gener figur 5 show result greph show cmp 2mp significantli better random se lection particular cost limit small combin algorithm make wise pick experi queri cost cmp 2mp except curv cmp gap one point reduc schema 11 cube next reduct 3 cube select replac one cube henc size c becom 9 contrast step 2mp replac 2 cube anoth 42 effici cmp second goal studi effici cmp particular interest studi effect prune search space optim problem effect first prune method newli ad cube determin combin evid therefor consid two prune method base corollari 1 2 measur effect averag prune rate defin percentag prune combin number possibl combin 2 close two curv cmp 2mp due extrem low correl queri cube tpcd result shown figur 9 figur see averag prune rate higher 80 case prune rate becom smaller mainten cost limit decreas small limit cmp forc merg cube higher level lattic hierarchi figur 3 henc chanc prune becom smaller fact due design purpos benchmark correl among initi set cube tpcd quit low high prune rate experi show cmp effect even notsofavor situat mani gener applic expect frequent ask dss queri high corr lation prune rate cmp even better shown experiment2060100 prune figur averag prune rate cmp51525 respons timeesec figur 7 respons time cmp 2mp final compar effici cmp 2mp measur respons time figur 42 show 2mp least two order magnitud faster cmp consid also effect 2mp fig ure 5 result show 2mp effect effici approxim solut data cube schema design problem 5 discuss conclus basi 2phase schema design approach set cube extract queri requir valid approach observ vendor alreadi someth similar exampl microsoft sql olap server allow user option log queri submit fine tune set cube 10 log frequent queri identifi group similar type thu feasibl identifi cube initi schema frequent queri current gener practition design cube schema adhoc way like far optim problem becom seriou data cube requir built larg data warehous retail giant internet ecommerc shop databas contain larg number attribut formul second phase design problem optim problem develop effici greedi algorithm solv data cube schema defin immin problem follow queri process given dss queri submit queri client queri client modul need determin whether queri process data cube level warehous level queri answer cube one need determin cube use multipl solut exist one need determin best choic cube propos twophas approach deal design problem data cube system 1 initi schema deriv user queri requir 2 final schema deriv initi schema optim process greedi algorithm cmp propos optim effect prune search space optim solut variant cmp studi reduc search cost experi real data tpcd perform investig behavior cmp result observ perform studi confirm cmp effici algorithm r comput multidimension aggreg overview data wareh olap technolog httpwww ibm db2 olap server implement data cube effici microsoft sql olap servic pivott ser vice improv queri performac variant index materi view select multidimension dataset transact process perform council arraybas algorithm simultan multidimension aggreg tr multit join bitmap join indic implement data cube effici overview data wareh olap technolog improv queri perform variant index arraybas algorithm simultan multidimension aggreg data cube materi view select multidimension dataset aggregatequeri process data wareh environ comput multidimension aggreg ctr tapio niemi jyrki nummenmaa peter thanisch construct olap cube base queri proceed 4th acm intern workshop data wareh olap p915 novemb 0909 2001 atlanta georgia usa edward hung david w cheung ben kao optim data cube system design journal intellig inform system v23 n1 p1745 juli 2004