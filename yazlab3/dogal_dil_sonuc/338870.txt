time analysi data wraparound fill cach contribut paper twofold first automat toolbas approach describ bound worstcas data cach perform approach work fulli optim code perform analysi entir control flow program detect exploit spatial tempor local within data refer produc result typic within second result obtain run system repres program present indic time analysi data cach behavior usual result significantli tighter worstcas perform predict second method deal realist cach fill approach name wraparoundfil cach miss present extens pipelin analysi result indic worstcas time predict becom significantli tighter wraparoundfil analysi perform overal contribut paper comprehens report method result worstcas time analysi data cach wraparound cach approach taken uniqu provid consider step toward realist worstcas execut time predict contemporari architectur use schedul analysi hard realtim system b introduct realtim system reli assumpt worstcas execut time wcet hard realtim task known ensur deadlin task met otherwis safeti control system jeopard 18 3 static compil inform control flow configur idcach interfac user analyz time time predict addr info rel data decl virtual address inform cach simul categor idcach user time request address calcul sourc file depend machin inform figur 1 framework time predict analysi program segment correspond task provid analyt approach determin wcet contemporari architectur complex modern processor requir toolbas approach sinc ad hoc test method may exhibit worstcas behavior program paper present system tool perform time predict static analyz optim code without requir interact user work present address bound wcet data cach wraparoundfil mechan handl cach miss thu present approach includ common featur contemporari architectur static predict wcet overal work fill anoth gap realist wcet predict contemporari architectur use schedul analysi hard realtim system framework wcet predict use set tool depict figur 1 vpo optim compil 4 modifi emit controlflow inform data inform call structur function addit regular object code gener static cach simul use controlflow inform call structur conjunct cach configur produc instruct data categor describ cach behavior instruct data refer respect time analyz use categor controlflow inform perform path analysi program analysi includ evalu architectur characterist pipelin wraparoundfil cach miss descript cach behavior suppli static cach simul use time analyz predict tempor effect cach hit miss overlap tempor behavior pipelin time analyz produc wcet predict user select segment program entir program 2 relat work past year research area predict wcet program intensifi convent method static analysi extend unoptim program simpl cisc processor 23 20 9 22 optim program pipelin risc processor 30 17 11 uncach architectur instruct cach 2 15 13 data cach 24 14 16 relat work analyz data cach previou work wraparoundfil cach context wcet predict knowledg rawat 24 use graph color techniqu bound data cach perform howev live rang local scalar variabl within singl function analyz fairli uncommon refer sinc local scalar variabl alloc regist optim compil kim et al 14 recent publish work bound data cach perform calcul refer caus load store instruct referenc address chang dynam techniqu use version pigeonhol principl loop determin maximum number refer dynam loadstor instruct also determin maximum number distinct locat memori referenc instruct differ two valu number data cach hit loop given conflict refer techniqu effici detect tempor local within loop data refer within loop fit cach size data refer size cach line techniqu time detect spatial local ie line size greater size data refer element access contigu detect tempor local across differ loop nest fur thermor approach current deal compil optim alter correspond assembl instruct sourc code compil optim make calcul rang rel address significantli challeng et al 16 describ framework integr data cach integ linear program ilp approach time predict implement perform dataflow analysi find conflict block howev linear constraint describ rang address data refer current calcul hand also requir separ constraint everi element calcul refer caus scalabl problem larg array wcet result data cach report howev ilp approach facilit integr addit userprovid constraint analysi 3 data cach obtain tight wcet presenc data cach quit challeng unlik instruct cach address data refer chang execut program refer item within activ record could differ address depend sequenc call associ invoc function data refer index array dynam calcul vari time data refer occur pointer variabl languag like c may assign address differ variabl address dynam calcul heap initi may appear obtain reason bound worstcas data cach perform simpli feasibl howev problem far hope less sinc address mani data refer static calcul static global scalar data refer retain address throughout execut program runtim stack scalar data refer often static determin set address depend upon sequenc call associ invoc function pattern address associ mani calcul refer eg array index often resolv static predict wcet program data cach achiev automat analyz rang address data refer deriv rel virtual address rang categor data refer accord cach behavior data cach behavior integr pipelin analysi yield worstcas execut time predict program segment 31 calcul rel address vpo compil 4 attempt calcul rel address data refer associ load store instruct compil optim perform see figur 1 compil optim move instruct basic block outsid loop expans regist use address calcul becom difficult analysi describ similar data depend analysi perform vector parallel compil 5 6 7 21 28 29 howev data depend analysi typic perform highlevel represent analysi perform lowlevel represent code gener optim appli calcul rel address involv follow step 1 compil determin loop set induct variabl initi valu stride loopinvari regist 1 2 expans actual paramet inform perform order abl resolv possibl address paramet later 3 expans address use load store perform expans accomplish examin preced instruct repres regist transfer list rtl replac regist use sourc valu address sourc rtl set regist induct variabl associ loop expand loop invari valu expand proceed end prehead block loop expans address scalar refer runtim stack eg local variabl trivial expans refer static data eg global variabl often requir expand loopinvari regist sinc address construct instruct may move loop expans calcul address refer eg array index requir knowledg loop induct variabl approach expand address provid abil handl nonstandard induct variabl limit simpl induct variabl simpl loop updat head loop consid c sourc code rtl sparc assembl instruct figur 2 simpl initi function code initi goe element 1 51 array array b initi random integ note although delay slot actual fill compil fill compil code figur paper order simplifi exampl reader 2 7 add l2loai3 8 add l4lobi4 9 add i4204i0 r14svr1496 1 save sp96sp 2 sethi hibl4 5 sethi hi10200i2 st st o0l4 store aij store bij int bmaxmax int amaxmax defin max 50 int j i1 imax j1 jmax j l37 figur 2 exampl c function rtl sparc assembl function initi first memori address r20 instruct 22 store aij second memori address r20 instruct 23 store bij regist r20 induct regist inner loop instruct 19 27 thu expand initi valu stride maximum minimum number iter associ comput store earlier compil process 3 initi valu r20 consist first element access base address b plu 4 plu offset come comput row locat induct variabl outer loop r25 stride 4 minimum maximum number iter 50 initi valu stride number iter avail enough inform comput sequenc address access store bij know refer stride compil use index reduct avoid use anoth induct regist address comput aij sinc share loop control variabl b memori address r20 r21 aij includ address b r20 plu differ two array r21 seen follow sequenc expans simplif rememb regist r20 immedi expand sinc induct regist inner loop expans continu regist r21 follow note regist r25 expand either sinc induct variabl outer loop instruct 1331 1 load 22 2 r20r21r22 17 3 r20r21r25r28 4 r20r25r27r25r28 15 5 r20r25r27r25r20lo b 8 6 r20r25r18lo ar25r20lo b 7 7 r20r25hi alo ar25r20lo b 3 8 r20r25hi alo ar25hi blo b 2 effect expans simplifi follow step 9 r20r25 ar25 b elimin hi lo 10 r20r25 ar25 b remov unnecessari 11 remov distribut 12 remov negat term thu left induct regist r20 plu differ two array simplifi address express string written file contain data declar rel address inform address calcul attempt resolv string actual virtual address use initi valu r20 r25 b4 bs cancel r25 b4 b note give initi address row array rang rel address exampl depict algorithm shown figur 3 detail static determin address inform fulli optim code see 26 addressa r25r20 figur 3 algorithm rang rel address load figur 2 startup code program code segment static data runtim program stack initi stack figur 4 virtual address space suno 32 calcul virtual address calcul address rel begin global variabl activ record accomplish within compil sinc much data flow inform requir analysi also use compil optim howev calcul virtual address done compil sinc analysi call graph data declar across multipl file requir thu address calcul see figur 1 use rel address inform conjunct controlflow inform obtain virtual address figur 4 show gener organ virtual address space process execut suno startup code preced instruct associ compil program follow program code segment static data align page boundari runtim stack start high address grow toward low address part memori runtim stack static data heap depict figur sinc address heap could calcul static environ static data consist global variabl static variabl nonscalar constant eg string floatingpoint constant gener unix linker ld place static data order declar appear within assembl file also static data within one file preced static data anoth file specifi later list file link except rule depend upon data static initi addit pad variabl sometim occur instanc variabl declar int doubl sparc align word doubleword boundari respect addit first static global variabl declar sourc file compris program align doubleword boundari runtim stack data includ temporari local variabl alloc regist exampl temporari includ paramet beyond sixth word pass function memori use move valu integ floatingpoint regist sinc movement accomplish directli sparc address activ record function vari depend upon actual sequenc call associ activ virtual address activ record contain local variabl determin sum size activ record associ sequenc call along initi runtim stack address address calcul along static simul time analyz distinguish differ function instanc evalu instanc separ static data name activ record function associ virtual address rel address rang convert virtual address rang virtual address calcul far guarante virtual address actual physic address use access cach memori machin paper assum system page size integ multipl data cach size often case instanc microsparc 4kb page size 2kb data cach thu virtual correspond physic address would rel offset within page would map line within data cach 33 static simul produc data refer categor method static cach simul use static categor cach behavior data refer program specifi cach configur see figur 1 program controlflow graph construct includ control flow within function function instanc graph uniqu identifi function instanc sequenc call site requir invoc program controlflow graph analyz determin possibl data line data cach entri exit basic block within program 19 iter algorithm use static instruct cach simul 2 19 suffici static data cach simul problem calcul refer access rang possibl address point data access occur data line associ address may may brought cach depend upon mani iter loop perform point deal problem new state creat indic whether particular data line could potenti data cach due chang basic block instanc b input line input im pred p b input stateb output statep calc input stateb output statep p anoth loop input stateb calc output statep data linesremain loop output data refer b scalar refer output stateb data line output stateb data linesd conflict calc output stateb data line calc output stateb data linesconflict output stateb data linesd could conflict calc output stateb data linesd could access calc output stateb data linesd could conflict figur 5 algorithm calcul data cach state calcul refer immedi predecessor block differ loop transit predecessor block current block exit loop data line associ calcul refer loop guarante still cach union input cach state block iter algorithm figur 5 use calcul input output cach state basic block program control flow cach state vector produc use determin whether memori refer within bound virtual address rang associ data refer cach static cach simul need produc categor data refer program four worstcas categori cach behavior use past static instruct cach simul 2 follow 1 alway miss refer guarante cach 2 alway hit h refer guarante alway cach 3 first miss fm refer guarante cach first time access time loop enter guarante thereaft 4 first hit fh refer guarante cach first time access time loop enter guarante thereaft categor still use scalar data refer int a100100 int a100100 row order sum main column order sum int j sum aij sum aij row detect spatial local int j sum ai ai ref 1 ai bj ai ref 2 bi ref 3 ref 1 c 13 h h h h h h h h h h h h h 2 h h h h h due tempor local across loop ref 3 c 13 13 h h h h h h first execut inner loop h h h h h success execut b detect tempor local across within loop figur 6 exampl spatial tempor local obtain accuraci worstcas categor calcul data refer iter loop could determin exampl categor data refer loop 20 iter might follow detail inform time analyz could accur determin worstcas path iter loop howev consid loop 100000 iter approach would ineffici space stor ing categor time analyz loop iter separ author decid use new categor call calcul c would also indic maximum number data cach miss could occur loop level data refer nest previou data refer categor string would repres follow sinc one loop level order access cach state vector use detect cach hit within calcul refer due spatial local consid two code segment figur 6a sum element two dimension array two code segment equival except left code segment access array row order right code segment use column order ie statement revers assum scalar variabl j sum alloc regist also assum size directmap data cach 256 byte line contain 16 byte thu singl row array requir 400 byte fit cach static cach simul abl detect load array element left code segment one miss array element part data line accomplish inspect order array access detect conflict line access loop categor load data refer two segment given figur note case array happen align line boundari specif singl categor calcul refer accomplish two step loop level cach state calcul first number refer iter perform loop retriev next maximum number miss could occur refer loop determin instanc 25 miss occur innermost loop left code segment static cach simul determin load right code segment would result cach miss data cach behavior simpli view alway miss thu rang 10000 differ address referenc load collaps singl categor c 25 2500 calcul refer 25 miss innermost level 2500 miss outer level left code segment alway miss right code segment likewis cach hit calcul refer due tempor local across within loop also detect consid code segment figur 6b assum cach configur line 512 byte cach array b requir 400 byte total 200 fit cach also assum scalar variabl alloc regist access element array first loop categor h alway hit static simul sinc data line associ array cach state first loop exit show detect tempor local across loop first complet execut inner loop element b cach refer remain execut inner loop also categor hit thu categor c 13 13 given rel innermost loop 13 miss due bring b cach first complet execut inner loop also 13 miss rel outermost loop sinc b complet cach iter first thu tempor local also detect within loop current implement static data cach simul time alyz impos restrict first directmap data cach support obtain categor setassoci data cach accomplish manner similar describ work instruct cach 27 second recurs call allow sinc would complic gener uniqu function instanc third indirect call allow sinc explicit call graph must gener static 34 time analysi time analyz see figur 1 util pipelin path analysi estim wcet sequenc instruct repres path loop function pipelin inform instruct type obtain machinedepend data file inform specif instruct path obtain controlflow inform file instruct ad separ pipelin state inform time analyz use data cach categor determin whether mem data memori access stage treat cach hit miss worstcas loop analysi algorithm modifi appropri handl calcul data refer categor time analyz conserv assum miss current loop level calcul refer occur hit level addit time analyz unabl assum penalti miss overlap long run instruct sinc analyz may evalu miss exact iter occur thu calcul refer miss alway view hit within pipelin path analysi maximum number cycl associ data cach miss penalti ad total time path strategi permit effici loop analysi algorithm potenti small overestim data cach miss penalti could overlap stall worstcas loop analysi algorithm given figur 7 addit previous publish algorithm 11 handl calcul refer shown boldfac let n maximum number iter associ given loop loop termin number process iter reach n first miss first hit calcul refer encount miss hit miss respect loop iter minimum n 1 p r time p number path r number calcul refer load instruct loop algorithm select longest path loop iter 11 10 order demonstr correct algorithm one must show path given iter loop produc longer time calcul algorithm sinc pipelin effect path union remain shown cach effect treat properli categor treat ident repeat refer except first miss first hit calcul refer assum data refer categor correctli loop pipelin analysi correct remain shown first miss first hit calcul refer interpret appropri loop iter correct argument interpret first hit first miss given 2 total pipelin first miss encount first hit encount null find longest continu path first miss encount first miss miss path first hit encount first hit hit path first miss first hit encount path curr iter 1 subtract 1 remain miss calcul refer path concaten pipelin info union info path total cycl addit cycl requir union els calcul refer encount path miss minimum number remain miss calcul refer path nonzero curr iter min miss subtract min miss remain miss calc ref path concaten pipelin info union info path min miss time total cycl min miss addit cycl requir union break concaten pipelin info union pipelin info path n 1 curr iter time total cycl n 1 curr iter addit cycl requir union set exit path transit uniqu exit block find longest exit path set first miss encount first miss miss path first hit encount first hit hit path concaten pipelin info union info exit path set total cycl addit cycl requir exit union store inform exit block loop figur 7 worstcas loop analysi algorithm loop subtract one calcul refer miss count current loop longest path chosen iter whenev first miss first hit encount miss hit respect first miss first hit encount longest path path remain longest path long set calcul refer encount miss continu encount miss sinc cach behavior refer treat thu pipelin effect longest path effici replic number iter associ minimum number remain miss calcul refer nonzero within longest path loop first miss first hit calcul refer longest path encount hit miss hit respect union pipelin effect loop chang sinc cach behavior refer treat thu pipelin effect path effici replic one remain iter last iter loop treat separ sinc longest exit path may shorter longest continu path correct argument interpret calcul refer need show calcul refer treat miss appropri number time algorithm treat calcul refer miss specifi number calcul miss loop exhaust ifthen portion loop subtract one calcul refer miss count sinc singl iter analyz calcul refer miss given loop iter elseifthen portion loop subtract minimum miss remain calcul refer path number iter remain loop number iter analyz number miss subtract calcul refer sinc miss calcul refer evalu hit interpret calcul refer underestim actual number calcul miss given data refer categor correctli exampl given figur 8 illustr algorithm statement condit contriv forc worstcas path taken execut assum data cach line size 8 byte enough line hold three array cach figur also show iter element three array referenc whether refer hit miss two differ path taken loop iter shown integ pipelin diagram figur 8 note pipelin diagram reflect load array element found cach miss penalti calcul refer miss simpli ad total cycl path directli reflect pipelin inform sinc miss may occur exact iter assum time analyz tabl 1 show step time analyz use algorithm given figur 7 estim wcet loop exampl shown figur 8 longest path detect first step path contain refer ki ci pipelin time requir 20 cycl miss two calcul refer ki ci requir cycl note miss penalti assum requir 9 cycl sinc first miss time analyz determin minimum number remain miss two calcul refer 13 thu path replic addit 12 time overlap iter determin 4 cycl note 4 subtract first iter sinc overlap would calcul determin worstcas execut time path main function total time first 13 iter 446 longest path detect step 2 also path time refer ci hit 37 remain miss ki total time iter 14 50 925 cycl longest path detect step 3 path b 25 remain miss si result 550 addit cycl iter 51 75 step 3 worstcas loop analysi exit loop algorithm step char c100 short s100 int k100 int sum sum kici els sum si path b block 2 4 5 path block 23 5 path loop load si load ci load ki ld l0o1 instruct 1 11 instruct 12 15 block 4 instruct 23 28 instruct 29 block 5 block 6 data line 0 data line 1 data line 2 data line 3 data line 50 data line 51 data line 76 data line 77 k missmiss hit miss miss hit miss miss result access iter element array data line c ki c 50 h h h si c 25 h h h h h h h h h c 13 h h h h h 26 28 26 28 26 28 26 28 id cycl stage121213141515 22 2223 2323 28 28 26 28 pipelin diagram path b instruct 1215 2128 block 245 id cycl 19 232324252526272828 pipelin diagram path instruct 1220 2328 block 235 figur 8 exampl illustr worstcas loop analysi algorithm 4 calcul 384 cycl next 24 iter 7699 step 5 calcul last iter requir 16 cycl time analyz calcul last iter separ sinc longest exit path may shorter path loop total number cycl calcul time analyz exampl ident number obtain execut simul time analysi tree construct predict worstcas perform node tree repres either loop function function instanc graph function instanc uniqu identifi sequenc call result invoc node repres outer level function instanc treat loop iter worstcas time node calcul time immedi child node known tabl 1 time analysi step loop figur 8 start longest total step iter path cycl min miss iter addit cycl cycl instanc consid exampl shown figur 8 tabl 1 time analyz would calcul worstcas time loop use inform next calcul time path main contain loop block 1 loop block 6 construct process time analysi tree occur similar manner describ 2 11 35 result measur obtain code gener sparc architectur vpo optim compil 4 machinedepend inform contain pipelin characterist microsparc processor 25 directmap data cach contain 16 line 32 byte total 512 byte use microsparc use writethroughnoalloc data cach 25 static simul abl categor store data refer categor ignor time analyz sinc store alway access memori hit miss associ store data refer effect perform instruct fetch assum hit order isol effect data cach instruct cach tabl 2 show test program use assess time analyz effect bound worstcas data cach perform note program restrict specif class data refer includ dynam alloc heap two version use last five test program version size array use previou studi 2 11 b version program use smaller array would total fit 512 byte cach number byte report tabl total number byte variabl program note byte static data area other runtim stack amount data chang program de sinc encrypt algorithm base use larg static array preiniti valu tabl 3 depict dynam result execut test program hit ratio obtain data cach execut simul sort high data cach hit ratio due mani repeat refer array element observ cycl obtain use execut simul modifi 8 simul data cach pipelin affect count number cycl estim cycl obtain time analyz discuss tabl 2 test program data cach name byte descript emphasi de 1346 encrypt decrypt 64 bit matcnta 40060 count sum valu 100x100 int matrix matcntb 460 count sum valu 10x10 int matrix matmula 30044 multipli 2 50x50 matric 50x50 int matrix matmulb 344 multipli 2 5x5 matric 5x5 int matrix matsuma 40044 sum valu 100x100 int matrix matsumb 444 sum valu 10x10 int matrix sorta 2044 bubblesort 500 int array 444 bubblesort 100 integ array section 34 estim ratio quotient two valu naiv ratio calcul assum data cach refer miss divid cycl observ cycl time analyz abl tightli predict worstcas number cycl requir pipelin data cach test program fact five predict exact less onetenth one percent inner loop function within sort sort valu vari number iter depend upon counter outer loop number iter perform overrepres averag factor two inner loop strategi treat calcul refer miss hit pipelin ad maximum number cycl associ miss penalti total time path caus overestim statsa statsb program floatingpoint intens program test set often delay due longrun floatingpoint oper could overlap data cach miss penalti cycl matmula overestim tabl 3 dynam result data cach hit observ estim estob naiv name ratio cycl cycl ratio ratio de 7571 155340 191564 123 145 matcnta 7186 1143014 1143023 100 115 matcntb 7073 12189 12189 100 115 matmula 6281 7245830 7952807 110 124 matmulb 8940 11396 11396 100 133 matsuma 7186 1122944 1122953 100 115 matsumb 6998 11919 11919 100 115 sorta 9706 4768228 9826909 206 288 averag 8075 na na 124 155 10 wherea smaller data version matmulb exact matmul program repeat refer element three differ array refer would miss first time encount would cach smaller matmulb access sinc array fit entir cach array fit cach interfer howev fit cach static simul conserv assum possibl interfer must result cach miss therefor categor conserv overestim larger final de program sever refer element static initi array use index anoth array simpl method determin valu use index therefor must assum element array may access time data refer occur program forc conflict line delet cach state result categor conserv de program also overestim due data depend longer path deem feasibl time analyz could taken function due valu variabl despit rel small overestim detail result show certain restrict possibl tightli predict much data cach behavior mani program differ naiv estim ratio show benefit perform data cach analysi predict worstcas execut time benefit worstcas perform data cach signific benefit obtain instruct cach 2 11 instruct fetch occur instruct execut perform benefit writethroughnoalloc data cach occur data refer load instruct determin time analyz cach load instruct compris averag 1428 total execut instruct test program howev result show perform data cach analysi predict worstcas execut time still result substanti tighter predict fact program test set predict improv averag 30 perform overhead associ predict wcet data cach use method come primarili static cach simul time requir static simul increas linearli size data howev even larg array given test program time rather small averag time static simul produc data refer categor 11 program given tabl 3 289 second overhead time analyz averag 105 second 4 wraparoundfil instruct cach miss sever time tool exist address hitmiss behavior instruct cach modern instruct cach often employ variou sophist approach decreas miss rate reduc miss penalti 12 one approach reduc miss penalti instruct cach wraparound fill processor employ featur load cach line one word time start instruct tabl 4 order fill load word cach line first request word miss delay word within cach line caus cach miss word program line load cach associ instruct fetch word load motiv wraparound fill let cpu proceed instruct allow pipelin execut continu subsequ instruct load cach thu benefit necessari wait entir cach line load proceed execut fetch instruct howev featur complic time analysi sinc introduc dead cycl pipelin analysi cycl instruct load cach 25 wraparound fill use sever recent architectur includ alpha axp 21064 mip r10000 ibm 620 tabl 4 show word load cach microsparc processor 25 instruct cach line eight word henc eight instruct row tabl distinguish word w within cach line request entir line found cach leftmost column show word 07 miss becom first word respect program line load cach take seven cycl request instruct reach instruct cach eighth cycl word w even w 1 w odd get load cach pair word load cach dead cycl word written tabl 6 indic microsparc dead cycl ninth twelfth fifteenth cycl miss occur take seventeen cycl entir program line request memori complet load cach note microsparc addit requir entir program line must complet load cach differ program line access whether program line alreadi cach wraparoundfil analysi inform store path loop includ program line number cycl word loop first last program line load cach cycl call avail time time analyz calcul begin end avail time path particular loop loop analysi set begin end inform propag along worstcas path pipelin requir data hazard inform keep track word program line avail cach analog determin particular pipelin stage last occupi detect valu regist avail via hardwar forward avail time use carri wraparoundfil analysi path loop analysi detect delay associ dead cycl case delay overlap pipelin stall produc accur wcet predict 41 wraparoundfil delay within path analysi singl path instruct necessari know individu word cach line load appropri instruct time analyz process instruct categor miss automat determin instruct program line load cach accord order fill given machinedepend inform time analyz store program line number rel word number line everi instruct program analysi path time analyz updat inform program line arriv cach word line avail fetch without delay point time analyz finish examin path store inform associ first last program line referenc path includ cycl word line becom avail cach plu amount delay caus latenc fill cach line inform use path evalu larger context name first iter loop path function enter call anoth part program figur 9 show algorithm use determin number cycl associ instruct fetch analyz path cycl word becom avail last line fetch calcul miss order demonstr correct algorithm one must show requir number cycl calcul wraparoundfil delay instruct fetch three possibl case first case instruct fetch last line fetch mean instruct fetch must hit line 4 algorithm use arriv time associ word contain instruct determin extra cycl need stage second third case refer last line fetch instruct fetch could hit miss respect either case cycl stage instruct includ delay complet load last line calcul line 6 line 8 calcul addit cycl stage requir miss load request word line line 910 establish arriv time word line miss three case handl thu algorithm correct given arriv time current line preced first instruct path accur techniqu determin arriv time point path enter describ follow section matrix contain inform tabl 4 const int waf delayword per lineword per line indic word last line fetch becom avail int availableword per line const int max delay delay requir load last word line 1 curr word inst word num word per line 2 first cycl first vacanc stage 3 instruct last line fetch 4 cycl first cycl 5 els cycl previou line delay max0last word avail first cycl 7 refer miss 8 cycl waf delaycurr word numcurr word num previou line delay last word previou line delay 12 last line fetch line current instruct 13 cycl 1 figur 9 algorithm calcul waf delay within path 42 delay upon enter loop function path analysi time analyz encount loop function call path child determin first instruct child lie differ program line instruct execut immedi enter loop function first instruct child must delay fetch program line contain last instruct execut child still load cach two instruct lie program line necessari ensur instruct belong first program line child avail fetch often avail time correspond dead cycl delay alreadi calcul child likewis avail time could calcul child encount earlier current path ie situat path call two function share program line figur show small program contain loop ten iter compris instruct 59 first instruct loop instruct 5 memori instruct locat program line 0 instruct 04 begin program execut instruct 0 miss cach caus program line 0 contain instruct 07 load cach first iter loop time analyz detect instruct 5 need spend 1 cycl stage dead cycl associ instruct 5 even though program line 0 process still fetch cach first iter categor fmfm prog line000011135713 word number id cycl stage pipelin instruct inst 0 save sp104sp inst 1 mov g0o3 inst 2 add sp1ao0 inst 3 mov o0o4 inst 4 add o040o5 inst inst 7 cmp o4o5 inst 8 bl l16 inst 10 ret inst 9 add o31o3 inst 11 restor g0g0o0 inst 5 st o3o4 c sourc code int a10 return 0 figur 10 exampl program pipelin diagram first 2 loop iter 43 delay loop iter loop analysi algorithm import detect delay may result program line load cach late previou iter caus subsequ iter delay exampl consid program figur 10 instruct cach activ infer long variou instruct occupi stage time analysi begin static cach simul 19 determin instruct 8 first miss pipelin behavior first two iter loop given pipelin diagram figur 10 instruct cach activ often infer long variou instruct occupi stage first iter instruct 6 delay stage cycl 16 dead cycl occur program line load cach note instruct 6 delay would later victim structur hazard instruct 5 occupi mem stage cycl 1819 4 thu dead cycl delay overlap potenti pipelin stall later first iter instruct 8 miss must spend total 8 cycl stage program line 1 contain instruct 811 1215 exist take cycl 19 cycl 36 complet load time instruct 8 referenc program line finish load cycl 36 instruct 5 second iter fetch cycl 37 situat delay due jump new program line take place loop iter 44 result result evalu test program section 35 shown tabl 5 fifth column tabl give ratio estim cycl observ cycl time analyz execut wraparoundfil analysi enabl sixth column show similar ratio estim observ cycl time wraparoundfil analysi disabl mode time analyz assum constant penalti 17 cycl instruct cach miss maximum miss penalti instruct fetch would incur fetch delay actual attain maximum consecut miss case call function instruct locat delay slot call first instruct function miss case second miss incur 17 cycl penalti entir program line contain delay slot instruct must complet load first data cach access assum hit time analyz simul experi tabl 5 result test program hit observ estim ratio ratio without name ratio cycl cycl waf analysi waf analysi de 8616 154791 171929 111 138 matcnta 8186 2158038 2161172 100 112 matmula 9893 4544944 4547299 100 101 matsuma 9399 1131964 1132178 100 113 sorta 7606 14371854 30714661 214 252 averag 8758 na na 121 138 wcet program wraparoundfil analysi enabl significantli tighter wraparound fill consid de sorta overestim reason describ section 35 small overestim remain program primarili result time analyz conserv approach first misstofirst miss categor transit slight overestim also occur time analysi assum constant miss penalti 11 situat occur infrequ approach result small overestim overhead execut time analysi quit small even wraparoundfil analysi averag time requir produc wcet program tabl 5 127 second 5 futur work sever area time analysi investig hardwar featur write buffer branch target buffer could model time analysi best case time bound variou type cach hardwar featur may also investig eventu goal research integr time analysi instruct data cach obtain time predict complet machin actual machin measur use logic analyz could use gaug accuraci simul effect entir time analysi environ 6 conclus two gener contribut paper first approach bound worstcas data cach perform present use data flow analysi within compil determin bound rang rel address data refer address calcul convert rel rang virtual address rang examin order data declar call graph program categor data refer produc static simul time analyz use categor perform pipelin path analysi predict worstcas perform loop function program result far indic approach valid result significantli tighter worstcas perform predict second techniqu wcet predict wraparoundfil cach present process path instruct time analyz comput instruct entir program line load cach base instruct categor indic instruct fetch could result cach miss time analyz use inform determin much delay fetch instruct suffer due wraparound fill analyz larger program construct loop function instanc wraparoundfil inform associ path use detect delay beyond scope singl path result indic wcet bound significantli tighter time analyz conserv assum constant miss penalti paper contribut comprehens report method result worstcas time analysi data cach wraparound cach approach taken uniqu provid consider step toward realist worstcas execut time predict contemporari architectur use schedul analysi hard realtim system acknowledg author thank anonym refere comment help improv qualiti paper robert arnold provid time analysi platform research research articl base support part offic naval research contract number n00014941006 nation scienc foundat cooper agreement number hrd 9707076 note 1 basic loop induct variabl assign form v v sigma c v variabl regist c integ constant nonbas induct variabl also increment decrement constant valu loop iter get valu either directli indirectli basic induct variabl varieti form assign nonbas induct variabl allow loop invari valu chang execut loop discuss induct variabl loop invari valu identifi found elsewher 1 2 annul branch sparc actual access memori updat regist instruct delay slot branch taken simpl featur caus host complic load store annul delay slot howev approach correctli handl data refer 3 earlier comput expans initi valu string induct regist proce basic manner alreadi discuss except loop invari regist expand well 4 microsparc st instruct requir spend two cycl mem stage r bound worstcas instruct cach perform fix prioriti preemptiv schedul histor perspect portabl global optim linker program vienna fortran high perform fortran without templat extend hpf advanc data parallel applica tion design environ address architectur compil interact retarget techniqu predict execut time bound pipelin instruct cach perform integr time analysi pipelin instruct cach comput architectur quantit approach worst case time analysi risc processor r3000r3010 case studi effici worst case time analysi data cach effici microarchitectur model path analysi realtim softwar cach model realtim softwar beyond direct map instruct cach accur worst case time analysi risc processor schedul algorithm multiprogram hard realtim environ static cach simul applic predict program execut time analyz static dynam program path parallel program compil zeitanalys von echtzeitprogrammen calcul maximum execut time realtim program static analysi cach analysi realtim program integr sparc processor bound worstcas data cach perform time analysi data cach setassoci cach optim supercompil supercomput high perform compil parallel comput pipelin processor worst case execut time tr ctr wegen frank mueller comparison static analysi evolutionari test verif time constraint realtim system v21 n3 p241268 novemb 2001 wankang zhao william kreahl david whalley christoph heali frank mueller improv wcet appli worstcas path optim realtim system v34 n2 p129152 octob 2006 kiran seth aravindh anantaraman frank mueller eric rotenberg fast frequencyawar static time analysi acm transact embed comput system tec v5 n1 p200224 februari 2006 kaustubh patil kiran seth frank mueller composit static instruct cach simul acm sigplan notic v39 n7 juli 2004 yudong tan vincent mooney time analysi preemptiv multitask realtim system cach acm transact embed comput system tec v6 n1 februari 2007 wankang zhao david whalley christoph heali frank mueller improv wcet appli wc codeposit optim acm transact architectur code optim taco v2 n4 p335365 decemb 2005 aravindh anantaraman kiran seth kaustubh patil eric rotenberg frank mueller virtual simpl architectur visa exceed complex limit safe realtim system acm sigarch comput architectur news v31 n2 may