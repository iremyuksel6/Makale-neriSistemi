improv mcmillan unfold algorithm mcmillan recent propos new techniqu avoid state explos problem verif system model finitest petri net techniqu requir construct finit initi part unfold net mcmillan algorithm task may yield initi part larger necessari exponenti larger worst case present refin algorithm overcom problem b introduct semin paper 10 mcmillan propos new techniqu avoid state explos problem verif system model finitest petri net techniqu base concept net un fold well known partial order semant petri net introduc 12 later describ detail 4 name branch process unfold net anoth net usual infinit simpler structur mcmillan propos algorithm construct finit initi part unfold contain full inform reachabl state call initi part satisfi properti fact slightli stronger one finit complet prefix show use prefix deadlock detect unfold techniqu later appli verif prob lem 7 8 11 use check relev properti speed independ circuit 5 unfoldingbas model check algorithm simpl branch time logic propos although mcmillan algorithm simpl eleg sometim gen institut fr informatik technisch universitt munchen email fesparzaroemerginformatiktumuenchend partial support teilprojekt a3 sam sonderforschungsbereich 342 werkzeug und methoden fr die nutzung parallel rechnerarchitekturen institut fr mathematik universitt augsburg email waltervoglerinformatikuniaugsburgd j esparza romer w vogler erat prefix much larger necessari case minim complet prefix size petri net algorithm gener prefix size o2 n paper provid algorithm gener minim complet prefix certain sens defin prefix alway smaller larg prefix gener old algorithm paper organis follow section 2 contain basic definit petri net branch process section 3 show mcmil lan algorithm element whole famili algorithm construct finit complet prefix section 4 select element famili show gener minim prefix certain sens final section 5 present experiment result 2 basic definit 21 petri net tripl f net element call place element transit place transit gener call node identifi f characterist function set theta theta preset node x denot ffl x set fy 1g postset x denot x ffl set fy 1g mark net f map identifi mark multiset contain copi everi 2 4tupl net system f net 0 mark call initi mark sigma mark enabl transit enabl occur occurr lead new mark 0 denot defin everi place sequenc transit occurr sequenc exist mark 1 2 mn gamma mn mn mark reach occurr oe also denot 0 oe gamma reachabl mark exist occurr sequenc oe 0 oe gamma reachabl graph net system sigma label graph set reachabl mark sigma node relat gamma mark edg mark net nsafe everi place identifi 1safe mark set place net system sigma nsafe reachabl mark nsafe improv mcmillan unfold algorithm 3 paper consid net system satisfi follow two addit properti ffl number place transit finit everi transit nonempti preset nonempti postset 22 occurr net net let x 1 x 2 node x 1 x 2 conflict denot x 1 x 2 exist distinct transit 1 belong reflex transit closur f word x 1 x 2 conflict exist two path lead x 1 x 2 start place immedi diverg although later converg x 2 x selfconflict xx occurr net net ffl everi b 2 b j ffl bj 1 ffl f acycl ie irreflex transit closur f partial order ffl n finit preced ie everi x set element belong transit closur f finit ffl event e 2 e selfconflict element b e call condit event respect minn denot set minim element b e respect transit closur f irreflex transit closur f call causal relat denot symbol denot reflex transit closur f given two node xy 23 branch process branch process unfold net system contain inform concurr conflict introduc engelfriet 4 quickli review main definit result 4 two net homomorph n 1 n 2 1 map 4 homomorph defin net system instead net small technic differ without sever consequ 4 j esparza romer w vogler 1 net system two branch process ffl everi 2 1 restrict h ffl biject ffl word homomorph map preserv natur node environ transit branch process net system occurr net p homomorph n 0 n restrict p minn 0 biject minn 0 ii everi e 1 figur 1 show 1safe net system part two branch process part b c two branch process net system isomorph biject homomorph h n 1 n 2 intuit two isomorph branch process differ name condit event shown 4 net system uniqu maxim branch process isomorph call unfold system unfold 1safe system figur 1 infinit two branch process net system fi 0 prefix fi n 0 subnet n satisfi ffl condit belong n 0 input event n also belong n 0 improv mcmillan unfold algorithm 5 ffl event belong n 0 input output condit n also belong n 0 p 0 restrict p n 0 24 configur cut configur c occurr net set event satisfi follow two condit causal close condit occurr net coset element co relat maxim coset b 0 respect set inclus call cut finit configur cut tightli relat let c finit configur branch process p coset cutc defin cut particular given finit configur c set place pcutc reachabl mark denot markc mark system sigma repres branch process fi sigma fi contain finit configur c mark easi prove use result 1 4 everi mark repres branch process reachabl everi reachabl mark repres unfold net system 1safe system follow result later use section 4 proposit 21 two node branch process 1safe net system x 1 co x 2 given cut c branch process uniqu subnet n whose set node restrict p node n 0 defin pc multiset contain instanc place pb everi b 2 c follow result also use later proposit 22 fi branch process n 0 c cut fi c branch process n pc 22 6 j esparza romer w vogler 3 algorithm construct complet finit prefix 31 construct unfold give algorithm construct unfold net system first let us describ suitabl data structur represent branch process implement branch process net system sigma list node node either condit event condit pair e place sigma e input event event pair b transit sigma b set input condit notic flow relat label function branch process alreadi encod list node express notion causal relat configur cut term data structur left reader algorithm construct unfold start branch process condit correspond initi mark sigma event event ad one time togeth output condit need notion event ad given branch process definit 31 branch process net system sigma possibl extens fi pair b b coset condit fi transit sigma ffl fi contain event e satisfi pe fi denot set possibl extens fi 31 procedur 32 unfold algorithm input net system output unfold unf sigma begin pe pe unf pe 6 append unf event pe condit e everi output place pe pe unf endwhil improv mcmillan unfold algorithm 7 2 1safe net system unfold prefix procedur necessarili termin fact termin input system sigma infinit occurr sequenc eventu produc reachabl mark fair assumpt everi event ad pe eventu chosen extend unf correct proof follow easili definit result 4 construct finit complet prefix say branch process fi net system sigma complet everi reachabl mark exist configur c fi ffl mark ie repres fi ffl everi transit enabl exist configur cfeg 2 c e label unfold net system alway complet complet prefix contain much inform unfold sens construct unfold least fixpoint suitabl oper properti hold requir everi reachabl mark repres instanc net system figur 2a figur 2b unfold figur 2c show prefix unfold everi reachabl mark repres prefix lost inform indic 2 occur initi mark observ prefix complet sinc nsafe net system finit mani reachabl mark unfold contain least one complet finit prefix transform algorithm new one whose output prefix need preliminari notat definit given configur c denot c phi e fact c e configur c say extens c e suffix c obvious c ae c 0 suffix c c phi let c 1 c 2 two finit configur mark c 1 follow easili definit cutc isomorph 8 j esparza romer w vogler unfold sigma isomorph moreov isomorph c2 c1 cutc 1 cut c 2 isomorph induc map finit extens c 1 onto extens c1 e introduc three basic notion algorithm definit 33 partial order oe finit configur branch process adequ order ffl oe wellfound ffl oe refin ae ie c ffl oe preserv finit extens mean c 1 oe c 2 c1 edefinit 34 local configur local configur e event branch process set event e 0 e 0 e 2 34 definit 35 cutoff event let fi branch process let oe adequ partial order configur fi event e cutoff event respect oe fi contain local configur e 0 b eth new algorithm paramet adequ order oe ie everi differ adequ order lead differ algorithm algorithm 36 complet finit prefix algorithm input nsafe net system g output complet finit prefix fin unf begin fin pe pe cutoff 2 immedi prove e configur improv mcmillan unfold algorithm 9 pe 6 choos event pe e minim respect oe e append fin event e condit e everi output place pe pe e cutoff event fin cutoff cutoff feg endif els pe pe n feg endif endwhil endmcmillan algorithm 10 correspond order easi see oe adequ reason condit definit cutoff event intuit clear light algorithm sinc mark e 0 mark continu unf cute cute 0 isomorph loos speak reachabl mark find continu unf cute alreadi present continu cute 0 need former fin role condit b technic fact mcmillan algorithm appli ordinari small exampl condit b seem superflu follow strategi seem work event e ad fin alreadi contain local configur e 0 mark mark e cutoff event follow exampl also independ found k mcmillan show strategi incorrect consid 1safe net system figur 3 mark fs 12 g reachabl without condit b gener prefix figur 4 name event number indic order ad prefix event 8 10 cutoff event correspond mark fs 7 also mark correspond event 7 9 respect prefix complet fs 12 g repres observ fin contain event set cutoff could modifi algorithm remov event prefix obtain would still enjoy properti everi reachabl mark repres howev prefix would necessarili complet consid j esparza romer w vogler 3 1safe net system exampl net system figur 2a algorithm 36 gener branch process figur 2b one two event process maxim one respect oe cutoff event event remov obtain incomplet prefix prove correct algorithm 36 proposit 37 fin finit proof given event e fin defin depth e length longest chain event depth e denot de prove follow result 1 everi event e fin de number reachabl mark sigma sinc cut correspond reachabl mark everi chain event contain two event e oe refin ae cutoff event unf finit prefix algorithm gener e j gener e e j recogn cutoff event fin 2 everi event e fin set ffl e e ffl finit definit homomorph biject denot homomorph fin similarli ffl pe p ffl e result follow finit n improv mcmillan unfold algorithm 11 4 prefix net system figur 3 3 everi k 0 fin contain finit mani event e de k complet induct k base case set event depth k prove g 2 induct hypothesi k finit sinc ffl e k1 get properti ii definit branch process e k1 finit follow 1 3 fin contain finit mani event 2 contain finit mani condit 37 proposit 38 fin complet proof first prove everi reachabl mark sigma repres fin let arbitrari reachabl mark sigma exist configur c unf mark c configur fin contain cutoff event e set event e definit cutoff event exist local configur e 0 e 0 oe e mark e 0 consid configur c e e sinc oe preserv finit extens c 0 oe c morev markc 0 c 0 configur fin iter procedur j esparza romer w vogler find configur c 00 c 00 oe c 0 mark c 00 procedur iter infinit often oe well found therefor termin configur fin show fin complet prove everi reachabl mark exist configur c fi ffl everi transit enabl exist configur 2 c e label let arbitrari reachabl mark sigma sinc repres fin set configur c fin satisfi markc nonempti wellfounded set least minim element cm respect oe cm would contain cutoff event would find anoth configur c 0 satisfi contradict minim cm cm contain cutoff event let arbitrari transit enabl exist configur cm feg unf 2 cm e label assum cm feg configur fin sinc fin contain event set cutoff algorithm 36 also contain cutoff event e 0 e impli e 0 2 cm contradict cm contain cutoff event cm feg configur fin 38 4 adequ order 1safe case mention introduct mcmillan algorithm may ineffici case extrem exampl due kishinevski taubin famili system left figur 5 minim complet prefix size size system see dot line figur 5 branch process gener mcmillan algorithm size o2 n reason everi mark local configur e satisfi size therefor exist cutoff event respect mcmillan parametr present algorithm 36 suggest improv suffic find new adequ order oe r refin mcmillan order induc weaker notion cutoff event precis everi cutoff event respect oe also cutoff event respect oe r mayb way round therefor instanc algorithm 36 use new order gener least mani cutoff event mcmillan instanc mayb latter case algorithm 36 gener smaller prefix improv mcmillan unfold algorithm 13 sk sk sk sk sk copi sk minim complet prefix 5 petri net unfold order oe r particularli good addit total case whenev event e gener event e 0 mark e event gener accord total order oe r e mark cutoff event follow two properti ffl guard e cutoff event fin inner instruct algorithm 36 replac fin contain local configur ffl number event complet prefix cutoff event exceed number reachabl mark sequel let fix net system let arbitrari total order transit sigma extend partial order set event branch process follow set e event let e sequenc transit order accord contain transit often event e label say length e 1 lexicograph smaller e 2 note e 1 incompar respect iff particular incompar respect je defin oe r gener suffix configur branch process recal set event e suffix configur exist configur c c phi e definit 41 total order oe r two suffix configur branch process fi let mine 1 mine 2 denot set minim element respect causal relat say 14 j esparza romer w vogler notic definit would correct configur need configur even e one second condit definit could express foata normalform e 1 smaller e 2 respect cf eg 3 theorem 42 let fi branch process 1safe net system oe r adequ total order configur fi proof oe r partial order easi see induct jej oe r irreflex assum tripl equal appli induct otherwis appli induct e n mine also suffix configur r total configur assum c 1 c 2 two incompar configur ie prove induct jc 1 base case give c first prove minc 1 assum without loss gener contain event e 2 pe 1 ffl minc 2 subset minn condit differ label proposit 21 ffl e contradict condit ii definit branch process configur branch process cutminc 1 proposit 22 induct conclud c oe r wellfound sequenc c size c decreas infinit often also configur size improv mcmillan unfold algorithm 15 decreas infinit often respect sinc sequenc drawn finit set analog statement hold minc henc assum jc j c minc equal appli induct common size jc 0 infinit decreas sequenc impo sibl otherwis conclud case b would imposs induct oe r refin ae obviou oe r preserv finit extens intric part proof complic definit 41 come play take c 1 oe r c 2 mark show c 1 phi c2 c1 e assum appli induct af terward case c 1 c 2 easi henc assum c 1 particular jc show first e minim c2 c1 e minim c 0 eg let e minim c 0 ie transit pe enabl initi mark let 2 ffl pe condit ffl 1 label sinc condit would co relat slabel condit ffl e contradict proposit 21 thu c 1 contain event e 0 2 ffl pe 0 hold c 2 sinc therefor condit cutc 2 label ffl pe minim condit fi c2 revers implic hold analog sinc c 1 c 2 use hypothesi c knowledg posit e c 0 1 c2 c1 e c 0 proceed follow see done minc 1 e 2 minc 0 henc c 0 2 final minc 1 1 argu minc 1 configur branch process induct argument get c 0 also done case 42 close section remark minim prefix gener new algorithm ie algorithm 36 oe r adequ order figur 1b c minim complet prefix prefix j esparza romer w vogler gener new algorithm 1safe system figur 1a spectiv follow new algorithm alway comput minim complet prefix howev prefix comput algorithm minim anoth sens algorithm store reachabl mark correspond local configur purpos discuss call local mark featur make algorithm interest concurr system local mark small subset reachabl mark therefor storag unfold may requir much less memori storag state space order find prefix figur 1b complet also need know initi mark fs appear prefix nonloc mark store inform local mark prefix figur 1c minim well prefix gener new algorithm reason observ made local configur fin induc cutoff event correspond differ mark ing therefor prefix smaller fin lose inform reachabl mark 5 implement issu experiment result implement algorithm 36 carri context model checker describ 5 allow effici verifi formula express simpl branch time tempor logic storag petri net branch process develop effici univers data structur allow fast access singl node 14 data structur base underli incid matrix net place transit arc repres node doubli link list support fast insert delet singl node comput new element set pe involv combinatori problem find set condit b transit implement sever improv combinatori determin signific influenc perform algorithm interest reader refer 6 algorithm 36 simpl easili prove correct effici particular comput set pe possibl extens time new event ad fin clearli redund similarli mcmillan origin algorithm 10 implement use queue store set pe possibl extens new event fin extract head list event ad new possibl extens gener append tail simplest way organ list would sort event accord total order oe r howev ineffici involv improv mcmillan unfold algorithm 17 6 nbuffer origin net unfold time 1 result n buffer exampl 3 perform unneccessari comparison solut sort event accord size local configur 10 compar event respect oe r realli need implement new algorithm comput mcmillan two event e e 0 satisfi j precis case algorithm behav better alway identifi either e e 0 cutoff event word complet prefix comput mcmillan algorithm minim algorithm comput result time overhead run time new algorithm jbj set condit unfold denot maxim size preset transit origin net notic measur size input domin factor time complex comput possibl extens space requir linear size unfold store fix amount inform per event final present experiment result three scalabl exam ple compar mcmillan algorithm new algorithm implement use univers data structur improv combinatori determin mention first exampl model concurr nbuffer see figur 5 net 2n place buffer capac number reachabl mark 2 n fin size 2 contain one singl cutoff event see tabl 1 exampl complet prefix comput mcmillan algorithm minim new algorithm comput prefix without time overhead expect second exampl figur 5 model slot ring protocol taken 13 size prefix produc new algorithm grow j esparza romer w vogler givefreeslot1 p11 givefreeslot2 p12 free2 used2 goon2 owner2 used1 other1 goon1 other2 7 slot ring protocol 2 origin net mcmillan algorithm new algorithm 9 90 90 38 2 result slot ring protocol exampl slowli case mcmillan algorithm output alreadi one order magnitud smaller slow growth size caus even dramat reduct run time origin net mcmillan algorithm new algorithm 43 94 44 8 002 52 23 4 000 9 71 53 7423 5686 2834 512 2290 3 result milner cyclic tabl 3 give time exampl taken 2 model milner cyclic schedul n task size unfold produc mcmillan algorithm grow exponenti number task get linear size use new one 3 time measur sparcstat 20 48 mb main memori 4 time could calcul interrupt comput 12 hour improv mcmillan unfold algorithm 19 6 conclus present algorithm comput complet finit prefix unfold use refin mcmillan basic notion cutoff event prefix construct algorithm contain noncutoff event n number reachabl mark net therefor guarante prefix never larger reachabl graph hold algorithm 10 recent kondratyev et al independ found anoth partial order event permit obtain reduc unfold 9 techniqu work bound net howev partial order total upper bound size unfold deriv acknowledg thank michael kishinevski alexand taubin alex yakovlev draw attent problem burkhard grave detect mistak anonym refere help comment r nonsequenti process petri net view evalu deadlock detect method combinator trace branch process petri net model check use net unfold improv mcmillan unfold algorithm concurr hardwar theori practic selftim design verif speedindepend circuit stg unfold analysi petri net order relat techniqu state space search base unfold trace theoret verif asynchron circuit use unfold petri net petri net analysi use boolean manipul implement composit partial order semant petri box tr combinator trace branch process petri net execut new partialord semant petri net model check use net unfold techniqu state space search base unfold improv mcmillan unfold algorithm use unfold avoid state explos problem verif asynchron circuit trace theoret verif asynchron circuit use unfold petri net analysi use boolean manipul calcul place capac petri net use unfold ctr alessandro giua xiaolan xie control safe ordinari petri net use unfold discret event dynam system v15 n4 p349373 decemb 2005 victor khomenko maciej koutni verif bound petri net use integ program formal method system design v30 n2 p143176 april 2007 victor khomenko maciej koutni alex yakovlev logic synthesi asynchron circuit base stg unfold increment sat fundamenta informatica v70 n1 p4973 march 2006 victor khomenko maciej koutni alex yakovlev logic synthesi asynchron circuit base stg unfold increment sat fundamenta informatica v70 n12 p4973 april 2006 victor khomenko maciej koutni alex yakovlev detect state encod conflict stg unfold use sat fundamenta informatica v62 n2 p221241 april 2004 fabr trelli process compact represent run concurr system discret event dynam system v17 n3 p267306 septemb 2007 stefan haar probabilist cluster unfold fundamenta informatica v53 n34 p281314 decemb 2002 stefan haar probabilist cluster unfold fundamenta informatica v53 n34 p281314 august 2002