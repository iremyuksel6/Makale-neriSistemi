characterist origin internet flow rate paper consid distribut rate flow transmit data caus rate first use packet level trace sever internet link summari flow statist isp backbon examin internet flow rate relationship rate flow characterist size durat find other distribut flow rate skew highli skew distribut flow size also find larg flow size rate highli correl second attempt determin caus rate flow transmit data develop tool trat analyz packetlevel tcp dynam trace frequent caus appear network congest receiv window limit b introduct research investig mani aspect internet trac includ characterist aggreg trac 8 16 size file transfer trac particular applic 4 rout stabil 7 17 name one area receiv compar littl attent rate applic flow transmit data inter net rate aect number fac tor includ exampl applic limit rate data gener bottleneck link bandwidth network congest total amount data applic permiss make digit hard copi part work person classroom use grant without fee provid copi made distribut profit commerci advantag copi bear notic full citat first page copi otherwis republish post server redistribut list requir prior specif permiss andor fee sigcomm02 august 1923 2002 pittsburgh pennsylvania usa transmit whether applic use congest control host buer limit internet link may well contain trac aggreg mani flow limit dierent factor elsewher network factor well understood isol littl knowledg preval eect current internet particular dont good understand rate typic achiev flow awar domin limit factor better understand natur origin flow rate internet import sever reason first understand extent applic perform would improv increas transmiss rate must first know limit transmiss rate flow limit network congest need drastic differ attent flow limit host buer size fur ther mani router algorithm control perflow bandwidth algorithm propos perform scalabl algorithm depend natur flow rate seen router 9 10 14 thu know rate may inform design algorithm final knowledg rate caus may lead better model internet trac model could use gener simul workload studi varieti network problem paper use data packet trace summari flow level statist collect backbon router access link studi characterist origin flow rate internet specif examin distribut flow rate seen internet link investig relationship flow rate characterist flow size durat given macroscop statist attempt understand caus behind flow rate develop tool call trat analyz trace tcp connect infer caus among sever possibl limit transmiss rate flow among signific find follow first confirm observ previous distribut flow rate skew highli skew flow size second find somewhat surprisingli flow rate strongli correl flow size strong evid user behavior evidenc amount data transfer intrins determin rather function speed file load final use analysi tool sever packet trace find domin rate limit factor appear congest receiv window limit trace date length packet sampl bidirect access1a jan 16 2001 2 hour 22 million ye access1c jan 3 2002 1 hour peering1 jan 24 2001 45 minut 34 million regional1a jan 2 2002 1 hour 12 million 1 256 regional1b jan 3 2002 2 hour 23 million 1 256 regional2 jan 3 2002 2 hour 5 million 1 256 tabl 1 characterist 8 packet trace examin distribut flow rate among flow causal class ie flow whose rate limit factor believ studi first kind examin caus internet flow rate relat caus flow characterist mean last word area paper rais question leav mani issu unaddress howev valu work new tool allow investig problem initi look answer provid also address flow rate somewhat dier ent angl paper first studi internet flow rate preliminari look internet flow rate small number packet trace found distribut rate skew highli skew flow size distribut 14 result consist observ 10 small number flow account signific number total byte recent work sarvotham et al 20 found singl high rate flow usual account bursti aggreg trac 2 author look distribut throughput across connect host web server find rate often consist lognorm distribut paper made import observ paper aim go beyond previou work look flow rate make aggreg trac attempt understand caus rest paper organ follow next section describ data set methodolog use studi section 3 present variou statist concern flow rate relat measur describ rate analyz tool section 4 describ eort valid perform section 5 present result appli packet trace section 6 present conclus section 7 2 dataset methodolog use data two sourc studi first set data consist 8 packet trace collect 14 month period trace collect high speed access link connect two site internet peer link two tier 1 provid two site backbon network latter 3 trace sampl pseudorandomli use hash packet header field rate 1256 sampl perflow basi packet sampl flow captur packet monitor access link saw trac go monitor site internet direct connect includ trace trace asymmetr rout often one direct connect visibl finit durat trace 30 minut 2 hour introduc bia largest longliv flow howev eect truncat flow rate statist interest signific characterist trace summar tabl 1 supplement packet level trace summari flow level statist 19 backbon router tier 1 provid data collect 24 hour 19 router 4 day juli 2000 novemb 2001 yield 76 set data data collect concurr router backbon provid singl flow present one dataset know often occur howev router repres rel small fraction provid router expect dataset contain rel uniqu set flow record dataset contain ip address endpoint port number higher layer protocol start time end time flow total number packet total number byte sinc dataset lack packet level detail use trace analysi section 4 howev provid use supplement result section 3 greatli broaden scope data beyond limit number packet trace 4 day summari statist repres 4 6 billion packet 15 25 terabyt data flow defin either sourc destin address address port number protocol appropri definit depend part one studi instanc studi router definit perflow process former definit may appropri examin characterist individu transport layer connect latter prefer result report paper use 5tupl ip address port number protocol number also gener result defin flow sourc destin ip address result qualit dierent also result present use second timeout decid idl flow termi nate repeat test 15 second timeout qualit aect result analysi follow report basic perflow statist includ flow size durat rate size mere aggreg number byte transfer flow includ header durat time elaps first last packet flow flow rate also straightforward size divid durat except determin flow rate short flow cumul fraction flow rate bitssec peering1 regional1a regional1b regional2 figur 1 complementari distribut flow cumul fraction flow size byte peering1 regional1a regional1b regional2 figur 2 complementari distribut flow cumul fraction flow durat sec peering1 regional1a regional1b regional2 figur 3 complementari distribut flow dura tion problemat particular rate welldefin singl packet flow whose durat definit zero similarli flow short nonzero durat also present problem seem reason say 2packet flow send packet backtoback averag rate equal line rate gener sinc interest rate applic transmit data calcul rate ignor flow durat less 100 msec sinc time flow packet may determin much queue delay insid network actual transmiss time sourc 3 characterist section examin characterist internet flow begin look distribut rate size durat turn question relationship among throughout start data packet trace supplement summari flow data 31 rate distribut figur 1 plot complementari distribut flow rate flow last longer 100 msec 8 packet trace distribut show averag rate vari sever order magnitud flow rel slow averag rate less 10kbp howev fastest flow trace transmit rate 1mbp trace top speed 10mbp comparison also show complementari distribut flow size durat figur 2 3 respect strike differ longer tail evid distribut flow size packet trace one possibl explan dierenc file size potenti unbound flow rate constrain link bandwidth previou studi rate distribut web server suggest rate distribut well describ lognorm distribut 2 test hypothesi use quantilequantil plot qq plot 3 compar flow rate distribut analyt model qq plot determin whether data set particular theoret distribut plot quantil data set quantil theoret distribut data come popul given theoret distri bution result scatter plot approxim straight line qq plot figur 4 5 compar log rate distribut normal distribut two trace access1c regional2 fit two visual good refer 2 assess goodnessoffit use shapirowilk normal test 5 access1c figur 4 reject null hypothesi log rate come normal distribut 25 signific level regional2 figur 5 reject normal level signific suggest fit normal distribut inde good appli shapirowilk test packet trace flow summari data find 60 data set reject normal 5 signific level result give evid flow rate often describ lognorm distribut next question address import fast flow particular much total byte transfer account fastest flow note skew rate distribut need impli fast flow account larg fraction byte depend size fast flow figur 6 plot fraction byte account given percentag fastest flow 8 packet trace see gener 10 fastest flow account 30 90 byte tran fer 20 fast flow account 55 95 indic flow fast fast flow account signific fraction trac figur 7 show result summari flow data lograt 22 figur 4 qq plot access1c trace lograt 22 figur 5 qq plot regional2 trace01030507090 fraction byte fraction fast flow 100 msec peering1 regional1a regional1b regional2 figur fraction byte fastest flows01030507090 fraction byte fraction dataset top 20 fast flow top 10 fast flow figur 7 distribut fraction byte 10 20 fastest flow summari flow data figur plot distribut percentag byte account 10 20 fastest flow across 76 set data skew distribut exhibit trace evid well exampl 80 dataset fastest 10 flow account least 50 byte transfer similarli fastest 20 flow account 65 byte 80 dataset comparison fraction byte largest flow shown even greater character flow along two dimens big small fast slow chose 100 kbyte cuto size dimens 10 kbytesec rate dimens threshold arbitrari provid way character flow twobytwo taxonomi tabl 2 show fraction flow byte 4 categori packet trace flow small slow largest group trace account 44 63 flow howev account rel small fraction total byte 10 less also signific number flow smallfast categori 30 40 repres modest fraction total byte less 10 one trace hand small number flow big fast gener less 10 flow account bulk byte transferredat least 60 trace 80 mani bigslow categori spars popul flow account less 10 byte data 76 set summari flow statist shown gener consist packet trace result one question internet dynam degre trac domin dierent way small flow term number flow littl doubt vast major inde small 84 flow trace 90 meet arbitrari definit small howev conclud internet domin small flow futur design gear toward deal rememb larg share byte big fast flow 6 8 trace examin flow compris 80 byte thu design mechan control congest otherwis deal trac arriv router big fast flow import sometim domin factor 32 correl next examin relationship flow characterist interest tabl 3 show 3 pair correl durat rate size rate durat sizefor 8 packet trace comput correl log data larg rang uneven distribu tion restrict correl flow durat longer 5 second result flow definit similar correl fairli consist across trace show neg correl durat rate smallslow smallfast bigslow bigfast trace flow byte flow byte flow byte flow byte tabl 2 fraction flow byte smallslow smallfast bigslow bigfast flow trace logdlogr logslogr logdlog peering1 0319 0847 0235 regional1a 0453 0842 0100 regional1b 0432 0835 0136 regional2 0209 0877 0287 tabl 3 correl size rate durat 8 packet trace slight posit correl size durat strong correl size rate correl rate size also evid subset flow flow longer 1 second correl rang 65 77 flow last longer second correl rang 90 95 figur 8 show cdf 3 correl taken across dataset packet trace summari flow level statist figur show gener trend exhibit packet trace also evid summari flow data examin strike result correl size rate user first decid much data want transfer eg size file independ network condit sent network would littl correl size rate 1 strong correl size durat strongli neg correl rate durat see neg correl rate durat fairli weak correl size durat weak correl size rate strong thu user appear choos size transfer base strongli avail bandwidth adjust user behavior expect surpris extent correl size rate could caus correl rate size order assess impact slowstart correl observ elimin first 1 second flow recomput correl flow last longer 5 second result correl size rate 8 trace rang 87 92 elimin slowstart signific caus correlation02061 cumul fraction correl coeffici corrlogdlogr corrlogslogr figur 8 cdf correl size rate durat across dataset 4 tcp rate analysi tool previou section look flow rate relationship flow characterist turn attent understand origin rate flow observ restrict attent tcp flow two reason first tcp use trac internet 21 second congest flow control mechan tcp give us opportun understand explain reason behind result transmiss rate section describ tool built call trat tcp rate analysi tool examin tcplevel dynam packet trace attempt determin factor limit flow transmiss rate trat leverag principl underli tcp partic ular use knowledg tcp determin number packet flight make rate limit determin base dynam success flight howev becom evid discuss principl alon sucient accomplish goal necess trat make use mani heurist experi found use describ trat work first review requir motiv design includ rang behavior need identifi well environ want use rate tcp connect transmit data determin sever factor character possibl rate limit factor follow opportun limit applic limit amount data send never leav slowstart place upper bound fast transmit data congest limit sender congest window adjust accord tcp congest control algorithm respons detect packet loss transport limit sender congest avoid anc doesnt experi loss receiv window limit send rate limit receiv maximum advertis window sender window limit send rate constrain buer space sender limit amount unacknowledg data outstand time bandwidth limit sender fulli util limit bandwidth bottleneck link sender may experi loss case howev dierent congest limit sender compet flow bottleneck link exampl would connect constrain access modem applic limit applic produc data fast enough limit either transport layer network bandwidth follow requir design trat first requir entir tcp connect even begin observ prevent bia longliv flow trace limit durat sec ond would like tool work trace record arbitrari place network thu analyz may see one side connect need work even captur near either sender receiv fi nalli work larg trace tool must work stream fashion avoid read entir trace memori trat work group packet flight determin rate limit factor base behavior group adjac flight entail three main compo nent estim maximum segment size mss connect ii estim round trip time iii analyz limit rate achiev connect describ compon detail mention trat work either data stream acknowledg stream follow identifi case algorithm necess dierent data acknowledg stream 41 mss estim analysi requir estim mss connect trace contain data packet set mss largest packet size observ trace contain acknowledg estim mss subtl sinc need 1to1 correspond data acknowledg packet case estim mss look frequent common divisor similar greatest common divisor howev appli heurist avoid look divisor number byte acknowledg multipl mss 42 round trip time estim section present gener algorithm estim rtt base packetlevel tcp trace rtt estim primari goal rather necessari compon rate analyz ultim judg algorithm accur estim rtt though care whether good enough allow rate analyz make correct decis three basic step rtt estim algo rithm first gener set candid rtt candid rtt assess good estim actual rtt group packet flight base candid rtt determin consist behavior group consecut flight identifi tcp behavior choos candid rtt consist tcp expand step gener 27 candid 3 sec cover rang round trip time would normal expect anywher beyond local network assum stream packet p arriv time interarriv interv p candid rtt group packet flight follow given first packet p0 flight determin first packet next flight examin p packet arriv time t0 fac factor accommod variat round time identifi packet p1 largest interarriv time interv also examin p2 first packet arriv t0 fac rtt p2 2p1 choos p2 first packet next flight otherwis choos p1 obviou tradeo choic fac need fac larg enough cover variat rtt howev set fac larg introduc much nois therebi reduc accuraci algorithm current set fac 17 empir optim among 11 12 20 set flight f 0 identifi candid rtt evalu attempt match behavior tcp specif see whether behavior success flight consist slowstart congest avoid respons loss elabor identifi three behavior test packet loss trace contain data packet infer packet loss look retransmiss let seqb largest sequenc number seen flight f conclud f packet loss recoveri prior flight experienc loss see least one data packet f upper sequenc number less equal seqb acknowledg stream infer packet loss look duplic acknowledg like tcp report packet loss whenev see three duplic acknowledg addit flight 4 acknowledg packet report packet loss whenev see singl duplic latter help detect loss congest window small often lead timeout significantli alter time characterist test robust packet reorder long span flight boundari caus 3 duplic acknowledg test congest avoid given flight f defin flight size sf term number mss packet contain mss seq f largest sequenc number seen f f largest sequenc number seen next flight defin flight durat df lag arriv first packet f first packet subsequ flight test whether four consecut flight 2 f consist congest avoid requir determin whether flight size sf exhibit addit increas pattern test trivial receiv acknowledg everi packet case need test whether 2 test consider complex delay ac knowledg case size success flight need increas 1 everi packet acknowledg sender congest window increas 1 averag everi second flight flight size equal sender window minu unacknowledg packet size success flight may decreas acknowledg last packet prior flight delay henc sequenc flight size like follow common z z algorithm consid flight f consist congest avoid follow three condit met 1 2 sf predict predict predict number segment flight f 2 flight size small overal nondecreas pattern specif appli follow three test sf 3 flight durat dierent specif ical first condit captur addit increas pattern without delay acknowledg second third condit saniti check test slowstart case congest avoid tcp dynam dier substanti slowstart without delay acknowledg appli dierent test two case classifi behavior consist slowstart either test pass captur slowstart behavior without delay acknowl edgment need test whether sf 2 follow test captur slowstart dynam delay acknowledg use consid flight f 2 discuss delay acknowledg dicat confirm experi four consecut flight smallest number case allow us identifi behavior correctli consist slowstart behavior follow two condit met 1 3 sf predict predict predict number segment flight f ackf i1 estim number nondupl acknowledg packet flight f i1 acknowledg stream count directli data stream estim ackf i1 sf i1 2 2 flight size small overal nondecreas pattern specif appli follow test sf sf i1 first condit captur behavior slowstart without delay acknowledg second third saniti check analyz tcp dynam describ identifi slowstart congest avoid detect loss present algorithm assess good set flight f gener candid rtt let c index current flight examin let state current flight one ca ss un congest avoid slowstart unknown respect initi given flight fc determin state examin fc fc1 fc2 fc3 appli follow state transit loss least one 4 flight transit un 4 flight show addit increas behavior describ remain state ca similarli also remain state ca even dont recogn behavior tcp leav ca packet loss loss least one 4 flight transit un 4 flight consist multipl increas remain ss otherwis transit un note leav state ss packet loss flight understand loss least one flight remain un four flight consist multipl increas behavior transit ss four flight consist addit creas transit ca otherwis remain un analyz set flight sum number packet flight either ca ss assign number score candid rtt select candid highest score made sever refin algorithm describ briefli mention describ first test slowstart congest avoid behavior initi test set flight fail see whether split flight two flight coalesc two adjac flight yield set flight match behavior question adjust flight boundari second accommod variat rtt continu updat rtt estim use exponenti weight move averag durat success flight third case sever candid rtt yield similar score enhanc algorithm disambigu candid elimin larg small rtt also allow us reduc number candid rtt examin 43 rate limit analysi use chosen rtt appli rate limit analysi determin factor limit flow transmiss rate sinc condit chang lifetim flow continu monitor behavior success flight period check number packet seen flow everi time see 256 packet packet seen 15 second interv make rate limit determin describ specif test appli determin rate limit factor bandwidth limit flow consid bandwidth limit satisfi either follow two test first repeatedli achiev amount data flight prior loss specif case least 3 flight retransmiss ii maximum minimum flight size loss occur dier mss second test classifi flow bandwidth limit sustain link bandwidth bottleneck link rather attempt estim link bandwidth look flow packet nearli equallyspac specif ical flow consid bandwidth limit hi 2t lo lo 5 th percentil interpacket time 3 hi p th percentil set flight packet p must function flight size wise risk classifi sender receiv window limit flow larg flight size bandwidth limit congest limit flow consid congest limit experienc loss satisfi first test bandwidth limit receiv window limit determin flow receiv window limit trace contain acknowledg sinc indic receiv advertis window determin flow receiv window limit find 3 consecut flight f flight size mss awndmax 3 mss awndmax largest receiv advertis window size dier 3 fact delay acknowledg caus would otherwis evenli space packet transmit burst 2 use interpacket time directli calcul data packet instead use interarriv distribut p directli use enc 3 mss heurist accommod variat due delay acknowledg assum mss need divid advertis window evenli sender window limit let sf med sf 80 median 80 th percentil flight size flow consid sender window limit follow three condit met first flow receiv window limit congest limit bandwidth limit second med 3 final four consecut flight flight size sf opportun limit flow deem opportun limit total number byte transfer less mss never exit slowstart limit 13 need dicult recogn slowstart behavior fewer 13 packet applic limit flow applic limit packet smaller mss transmit follow lull greater rtt follow addit data transport limit flow transport limit sender enter congest avoid experi loss flight size continu grow trat abl identifi unambigu rate limit behavior case therefor tool report two addit condit host window limit connect determin limit either sender window receiv window tool determin acknowledg present flow pass sender window limit test classifi host window limit unknown limit tool unabl match connect specifi behavior 5 valid use trat analyz rate limit factor tcp flow packet trace first valid measur data well simul specifi calli compar trat round trip time estim estim provid tcpanali 15 npd n2 18 dataset 4 accur rtt estim fundament compon tool sinc make ratelimit determin case possibl without abl group packet flight valid rtt estim need determin whether rate analyz return right answer valid result actual network trac problemat problem intend solv tool thu valid trat packet trace produc network simul control network experi could determin specif factor limit flow transmiss rate 51 rtt valid npd n2 dataset contain packet trace 18 000 connect use 17 248 packet captur end connect dataset contain data acknowledg packet record sender receiv ran tcpanali data 4 tcpanali requir trace direct connect therefor use valid tool use 2way trace address rtt estim problem singl direct connect avail cumul fraction accur within factor x databas sendersid estim databas receiversid estim ackbas sendersid estim ackbas receiversid estim estim figur 9 rtt valid npd n2 data record connect median rtt estim produc use median compar perform rtt estim trat even though npd data includ direct connect test rtt estim use singl direct time sinc algorithm design work case henc consid separ case tool see data packet sender acknowledg packet sender data packet receiv acknowledg packet receiv rtt estim comput trat measur accuraci compar valu produc tcpanali result rtt valid shown figur 9 plot cdf ratio two valu 4 case figur show access data packet either sender receiv 90 trace estim rtt accur within factor 115 95 trace estim rtt accur within factor 13 accuraci rtt estim base acknowledg stream still encourag good data stream analysi particular ackbas analysi receiv 90 estim accur within factor 13 95 trace accur within factor 16 use sendersid acknowledg stream estim accur within factor 16 90 time suspect delay acknowledg may part respons estim use acknowledg stream reduc number packet observ per rtt perturb time packet may make job rtt estim dicult specul sender side perform acknowledg also suer acknowledg sender travers extra queue therefor subject addit variat network delay experi previou studi use round trip time initi tcp synack handshak estim perconnect round trip time 6 11 also compar valu median valu produc tcpanali shown figur estim significantli wors other gener synack handshak tend underestim actual round trip time overal result produc tool encourag ing show rtt estim work reason well case real question howev rate analyz work error rtt estim small enough allow tool properli determin rate limit factor error prevent accur analysi turn question valid rate limit factor 52 rate limit valid valid rate limit result trat use simul experi control testb simul use ns simul 13 control simul network endpoint paramet creat tcp connect exhibit variou rate limit behav ior exampl congest limit behavior simul use sever infinit sourc ftp connect travers share bottleneck link applic limit behavior simul use longliv telnet session simul includ approxim 400 connect 340000 pack et trat correctli identifi proper rate limit behavior 99 connect simul provid posit result perform trat suer sever weak ness first abl valid rate limit behavior trat design identifi particular tcp implement ns includ advertis window tcp packet prevent experi exhibit receiv window limit behavior sec ond simul vari relev paramet explor paramet space systemat way left us littl knowledg limit tool final simul abstract away mani detail actual oper system protocol perform leav question tool would perform real system valid perform trat conduct experi testb consist pc run freebsd 43 oper system experi two pc act router connect bottleneck link router also connect high speed lan host lan sent receiv trac across bottleneck link use dummynet 19 facil freebsd kernel emul dierent bandwidth propag delay buer size bottleneck link devis seri experi intend elicit variou rate limit behavior captur packet trace tcp connect experi use tcpdump analyz trace use trat valid result report trat expect behavior unless otherwis note bandwidth propag delay buer size emul link 15 mbp 25 msec kbyte respect use mtu 540 byte interfac allow us explor wider rang window size term packet would aord larger mtu rate limit behavior captur tcp connect unload load link order produc background load gener burst udp traffic exponenti distribut interv burst size vari 1 4 packet across experi averag interburst interv gener 10 20 30 40 load link intend model realist trac rather intent perturb time tcp packet assess eect perturb abil trat identifi correctli rate limit behavior question experi repeat without delay ac knowledg tcp packet captur endpoint connect test trat use singl direct connect time either data acknowledg emul challeng scenario observ one direct connect thu connect made four independ assess use data packet sourc data packet destina tion acknowledg packet sourc acknowledg packet destin behavior vari paramet order assess well trat work rang condit explor relev paramet space mean exhaust extens experi conduct give us confid oper tool vast major case trat correctli identifi domin rate limit factor given con nection major period determin made trat correct mani connect period determin correct follow summar experi result focus case interest problemat 5 receiv window limit experi maximum advertis receiv window vari adjust receiv socket buer connect sender window larger bandwidth delay product link henc impact sender window paramet bottleneck link window size packet satur link test window size 2 20 packet background load even link satur sucient buer prevent packet loss background load test window size 10 packet avoid loss due congest 5 mbyte file transfer connect trat success identifi connect receiv window limit use acknowledg stream host window limit use data stream case use data stream correctli identifi window size 2 packet receiv window limit possibl disambigu case bandwidth limit connect captur upstream bottleneck link delay acknowledg present case trace show period transmiss burst 2 packet follow idl period would expect receiv window limit result flight size 2 packet concern failur mode trat abl identifi wide rang window size receiv window limit host window limit use data packet number packet flight approach satur point link consequ time success flight approach interpacket time identifi flight boundari becom dicult tool access data stream correctli identifi window limit link util approach 8090 link bandwidth beyond identifi connect bandwidth limit access acknowledg stream tool correctli identifi behavior receiv window limit link fulli satur appli background trac link domin caus identifi connect still receiv 5 detail inform result avail httpwwwresearchattcomprojectstrat window limit acknowledg host window limit data packet howev connect trat sometim identifi minor period determin transport limit access data packet access acknowledg packet virtual period determin receiv window limit thu advertis window inform avail acknowledg made trat job easier sender window limit experi ident previou one except case sender maximum window adjust receiv window larger bandwidth delay product bottleneck link result similar receiv window limit experi tool unabl identifi flight size 2 packet sender window limit practic common occurr rat abl identifi window size larg 8090 link bandwidth sender window limit beyond troubl dierenti behavior bandwidth limit final background load appli link tool still correctli identifi common rate limit factor connect though sometim confus behavior transport limit transport limit test transport limit behavior connect congest avoid experienc loss set bottleneck link bandwidth mbp oneway propag delay 40 msec allow window size 180 packet recal use 540 byte mtu addit set initi valu ssthresh 2000 byte connect transit slowstart congest avoid quickli background trac connect transfer 4 mbyte file without delay acknowledg window size reach 140 packet util 75 link connect termin test behavior presenc background load connect transfer 25 mbyte file achiev maximum window size approxim 100 packet without delay ac knowledg smaller file size chosen prevent packet loss experi experi repeat 10 time set paramet trat success identifi transport limit domin rate limit caus connect made error period determin error becom preval burst size background trac increas whenev trat unabl determin correct rate limit behavior estim rtt incorrect howev correct rtt estim alway necessari case tool robust enough overcom error rtt estim still determin proper rate limit behavior assess transport limit behavior trat success use data packet acknowledg packet particularli delay acknowledg use contrast receiv window limit case acknowledg packet provid addit inform acknowledg half packet trat less inform work bandwidth limit experi 10 mbyte file transfer across bottleneck link compet trac router buer larg enough avoid packet loss sender receiv window larg enough allow connect satur link test bottleneck link bandwidth 500 kbp 15 mbp 10 mbp without delay acknowledg experi repeat 10 time vast major case trat properli identifi rate limit behavior two point make result first rtt estim produc tool often incorrect connect fulli satur bottleneck link compet trac link result packet trace consist stream evenli space packet therefor littl time inform accur estim rtt nonetheless test bandwidth limit behavior depend primarili distribut interpacket time proper estim flight size tool still function properli second observ experi connect exclus bandwidth limit rather start congest avoid ssthresh set 2000 byte open congest window eventu satur link tool identifi connect initi transport limit bandwidth limit bottleneck link satur visual inspect trace reveal tool made transit appropri time instanc tool unabl make rate limit determin singl interv connect transit state deem rate limit behavior unknown congest limit congest limit behavior test transfer 5 mbyte file across bottleneck link random packet loss induc dummynet test repeat 2 5 loss link singl direct direct experi repeat test without delay acknowledg repeat 5 transfer con figur 6 nearli case trat identifi connect congest limit across loss rate acknowledg strategi direction loss small number period assess connect deem transport limit howev connect experi loss interv congest avoid mode appropri deem transport limit visual inspect sampl instanc show inde case opportun limit experi vari amount data transfer connect 1 100 packet connect size link paramet sourc never left slowstart howev larger connect size congest window larg enough satur link henc sourc remain slowstart alway obviou examin packet trace first review result without delay acknowledg 6 also perform obviou experi multipl tcp connect start simultan loss induc compet tcp howev appar bug version tcp use sometim prevent connect ever open congest window experienc packet loss valid result dicult sinc tcp connect experienc rang rate limit factor congest host window transport nonetheless visual inspect result also indic tool properli identifi case congest ment use trace data packet sourc trat correctli identifi connect opportun lim ite 3 trace trat identifi 83 88 connect opportun limit failur occur connect size greater 80 pack et occur 40 packet none occur connect size less 40 packet fail trat deem connect either transport bandwidth limit case particularli trou bling window size larger would expect see regular actual trace delay ac knowledg trat reach right conclus 399 400 case fail singl connect size acknowledg receiv applic limit character identifi applic limit trac perhap challeng behavior studi test trat use applic limit trac base heurist packet size interpacket gap howev certainli scenario caus tool fail exampl applic send constant bit rate trac msssize packet like identifi bandwidth limit fur ther sinc trac definit limit applic tool need recogn potenti wider rang behavior limit factor understand rang applic limit trac internet remain subject futur studi eort valid current test applic limit trac trat applic gener applic data unit adu interv separ random idl time chosen exponenti distribut test connect averag idl time 1 2 3 10 20 30 50 100 msec furthermor rather gener msssize adu experi chose size adu uniform distribut 333 500 byte latter mss experi result applic layer data gener rate would 33 mbp 1 msec averag idl time kbp 100 msec idl time without network limit case 15 mbp bottleneck bandwidth highest rate would certainli run network limit sinc use msssize packet result network layer trac depend whether tcp nagl algorithm 12 coalesc smaller adu msssize packet employ henc addit repeat experi without delay acknowledg also repeat experi without nagl algorithm turn assess result experi dicult given use stochast data gener process one know priori random process interact transport layer could know result network trac would look like without detail packetbypacket examin best make qualit character result nagl algorithm turn trat character two fastest data gener rate 33 mbp 165 mbp combin congest bandwidth limit one would expect given bottleneck link bandwidth lowest data rate 33 kbp 66 kbp trat deem trac applic limit consist intuit 110 kbp 11 mbp trac character vari 0access1a access1b access1c access2 peering1 regional1a regional1b regional2 percentag byte congest hostsndrrcvr opportun applic transport unknown figur 10 fraction byte rate limit factor1030507090 percentag flow congest hostsndrrcvr opportun applic transport unknown figur 11 fraction flow rate limit factor ousli transport host window applic unknown limit nagl algorithm disabl fastest gener rate character congest bandwidth limit lower rate 11 mbp 33 kbp trat deem connect exclus applic limit use data stream combin applic transport limit use acknowledg stream thu applic limit behavior easier discern nagl algorithm turn 6 result result appli trat 8 packet trace shown figur 10 trace plot show percentag byte limit factor 4 trace taken access link abl dierenti sender receiv limit flow sinc see data acknowledg packet connect peer region trace hand often see one direct connect therefor alway abl dierenti two caus aggreg 3 categori identifi tratsend receiv host window limitedinto singl categori label hostsndrrcvr limit graph shown figur 10 common rate limit factor congest account 22 43 byte trace either first second frequent caus trace aggreg categori includ sender receiv host window limit second common caus rate limit account 8 48 byte across trace abl make distinct sender receiv window limit flow ie trace captur acknowledg stream receiv window limit much preval caus sender window limit ratio 21 101 causesopportun cumul fraction flow rate bytesec opportun limit applic limit congest limit transport limit receiv limit figur 12 rate distribut rate limit fac tor access1b trace02061 cumul fraction flow size byte opportun limit applic limit congest limit transport limit receiv limit figur 13 size distribut rate limit fac tor access1b trace02061 cumul fraction flow durat sec opportun limit applic limit congest limit transport limit receiv limit figur 14 durat distribut rate limit trace limit applic limit transport limitedusu account less 20 byte bandwidth limit flow account less 2 byte trace shown plot trace unknown categori account small percentag byte examin 2 trace rate limit caus 5 byte unknown identifi 3 factor prevent tool make rate limit determin first trat accur estim round trip order 3 msec less therefor determin rate limit factor connect second trace miss packet middl connect may result either loss packet filter multipath rout estim round trip time rate limit caus becom dicult final multipl web transfer across persist tcp connect also present problem one http transfer use congest window remain end previou transfer moder size file may opportun limit larger 13 packet never enter slowstart may enough flight initi flight size larg trat make rate limit determin surprisingli look rate limit factor flow rather byte result dierent recal continu updat reason flow limit singl flow may multipl limit factor throughout lifetim exampl may congest limit one interv congest dissip becom window limit case flow experienc multipl caus classifi factor often limit transmiss rate figur 11 show percentag flow constrain rate limit factor 8 trace common perflow factor opportun applic limit collect account 90 flow 8 trace opportun limit account 60 applic limit account 11 34 caus account 4 flow trace result consist result report section 3 name flow small slow small flow like opportun limit dont enough packet test buer network limit slow flow like applic limit send fast enough test buer network limit gener trend evid compar trace taken access link taken peer region link former tend higher percentag byte window limit access link high speed link connect site internet support popul good connect internet link like see gener cross section internet user wellconnect other sinc window limit reach bandwidth delay product exce buer resourc wellconnect user like reach limit dierenc two kind trace evid figur 1 graph show distribut rate longer tail access link region peer link next ask whether dierent rate limit factor associ dierent perform user figur 12 plot cdf rate rate limit factor access1b trace graph show distinct dierenc subgroup overal receiv limit transport limit flow largest averag rate follow congest limit applic limit opportun limit trend exhibit across 7 trace figur 13 14 plot distribut size durat rate limit factor access1b trace receiv limit flow largest size distribut follow transport congest lim ite durat distribut congest limit flow longest durat consist observ flow experienc congest take longer transmit data flow experienc congest 7 conclus rate flow transmit data import wellunderstood phenomenon rate flow major impact user experi rate flow travers internet signific eect network control algorithm two goal paper first want better understand characterist flow rate internet use packet trace summari flow statist examin rate flow relationship flow rate flow char acterist found fast flow respons byte transmit internet understand behavior import also found strong correl flow rate size suggest interact bandwidth avail user user bandwidth second goal provid explan reason flow transmit rate ambiti goal mean complet answer question seen set internet packet trace reason flow limit transmiss rate look dierenc among differ categori flow believ main contribut howev open area investig lead valuabl futur research tool develop studi rate limit behavior provid level analysi tcp connect answer previous unanswer que tion thu tool applic beyond set result obtain thu far acknowledg would like thank rui zhang work us flow character help launch project would also like express thank anonym review mani help comment paper 8 r web server view transport layer analyz stabil widearea network perform graphic method data analysi selfsimilar world wide web trac evid possibl caus goodnessoffit techniqu passiv estim tcp roundtrip time internet rout instabl selfsimilar natur ethernet trac extend version dynam random earli detect control highbandwidth flow congest router analysi internet delay time congest control iptcp internetwork approxim fair dierenti drop autom packet trace analysi tcp implement widearea trac failur poisson model endtoend rout behavior internet endtoend internet packet dynam dummynet simpl approach evalu network protocol connectionlevel analysi model network trac wide area internet trac pattern characterist tr area traffic dummynet autom packet trace analysi tcp implement endtoend rout behavior internet selfsimilar world wide web traffic internet rout instabl endtoend internet packet dynam connectionlevel analysi model network traffic web server view transport layer passiv estim tcp roundtrip time control highbandwidth flow congest router ctr jrg wallerich holger dreger anja feldmann balachand krishnamurthi walter willing methodolog studi persist aspect internet flow acm sigcomm comput commun review v35 n2 april 2005 david watson g robert malan farnam jahanian extens probe architectur network protocol perform measur softwarepractic experi v34 n1 p4767 januari 2004 amogh dhamdher constantin dovroli open issu router buffer size acm sigcomm comput commun review v36 n1 januari 2006 mingzhong gong jian ding wei studi dynam timeout strategi base flow rate metric highspe network proceed 1st intern confer scalabl inform system p5e may 30june 01 2006 hong kong shriram sarvotham rudolf riedi richard baraniuk network user driven alphabeta onoff sourc model network traffic comput network intern journal comput telecommun network v48 n3 p335350 21 june 2005 jame hall andrew moor ian pratt ian lesli multiprotocol visual tool demonstr proceed acm sigcomm workshop model method tool reproduc network research august 2527 2003 karlsruh germani matthew roughan fundament bound accuraci network perform measur acm sigmetr perform evalu review v33 n1 june 2005 kortebi l muscariello oueslati j robert evalu number activ flow schedul realiz fair statist bandwidth share acm sigmetr perform evalu review v33 n1 june 2005 tatsuya mori masato uchida ryoichi kawahara jianp pan shigeki goto identifi eleph flow period sampl packet proceed 4th acm sigcomm confer internet measur octob 2527 2004 taormina sicili itali luka kencl christian schwarzer trafficadapt packet filter denial servic attack proceed 2006 intern symposium world wireless mobil multimedia network p485489 june 2629 2006 siekkinen g urvoykel e w biersack ennajjari root caus analysi longliv tcp connect proceed 2005 acm confer emerg network experi technolog octob 2427 2005 toulous franc guohan lu xing li correspond tcp acknowledg packet data packet proceed 3rd acm sigcomm confer internet measur octob 2729 2003 miami beach fl usa arifl gustavo de veciana brian l evan factor analyt approach infer congest share base flow level measur ieeeacm transact network ton v15 n1 p6779 februari 2007 abdesselem kortebi luca muscariello sara oueslati jame robert minim overhead implement flowawar network proceed 2005 symposium architectur network commun system octob 2628 2005 princeton nj usa salvator gaglio luca gatani giusepp alfonso urso logic architectur activ network manag journal network system manag v14 n1 p127146 march 2006 allen b downey tcp selfclock bandwidth share comput network intern journal comput telecommun network v51 n13 p38443863 septemb 2007 dongjin lee nevil brownle passiv measur oneway twoway flow lifetim acm sigcomm comput commun review v37 n3 juli 2007 daniel zaragoza carlo belo experiment valid onoff packetlevel model ip traffic comput commun v30 n5 p975989 march 2007 mahajan maya rodrig david wetheral john zahorjan analyz maclevel behavior wireless network wild acm sigcomm comput commun review v36 n4 octob 2006 mariyam mirza joel sommer paul barford xiaojin zhu machin learn approach tcp throughput predict acm sigmetr perform evalu review v35 n1 june 2007 stergio v anastasiadi rajiv g wickremesingh jeffrey chase circu opportunist block reorder scalabl content server proceed 3rd usenix confer file storag technolog march 3131 2004 san francisco ca rob sherwood neil spring tour internet tcp sidecar proceed 6th acm sigcomm internet measur octob 2527 2006 rio de janeriro brazil kunchan lan john heidemann measur studi correl internet flow characterist comput network intern journal comput telecommun network v50 n1 p4662 januari 2006 srikanth kandula dina katabi shantanu sinha arthur berger dynam load balanc without packet reorder acm sigcomm comput commun review v37 n2 april 2007 aditya akella srinivasan seshan ane shaikh empir evalu widearea internet bottleneck proceed 3rd acm sigcomm confer internet measur octob 2729 2003 miami beach fl usa jayanthkumar kannan jaeyeon jung vern paxson emr koksal semiautom discoveri applic session structur proceed 6th acm sigcomm internet measur octob 2527 2006 rio de janeriro brazil atul adya paramvir bahl ranveer chandra lili qiu architectur techniqu diagnos fault ieee 80211 infrastructur network proceed 10th annual intern confer mobil comput network septemb 26octob 01 2004 philadelphia pa usa luka kencl jeanyv le boudec adapt load share network processor ieeeacm transact network ton v16 n2 p293306 april 2008 kashi venkatesh vishwanath amin vahdat realist respons network traffic gener acm sigcomm comput commun review v36 n4 octob 2006 eddi kohler mark handley salli floyd design dccp congest control without reliabl acm sigcomm comput commun review v36 n4 octob 2006 mahajan neil spring david wetheral thoma anderson userlevel internet path diagnosi proceed nineteenth acm symposium oper system principl octob 1922 2003 bolton land ny usa