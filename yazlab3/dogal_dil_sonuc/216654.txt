languag construct transform hard realtim system practic time critic portion hard realtim system still implement lowlevel program languag manual tune meet time requir without realtim languag support appropri way specifi time constraint gener hard realtim system high precis time analysi transpar user user ever suffer complex code analysi particularli system requir fast turnaround responsesin paper propos novel languag construct ad imper program languag extend languag provid user way specifi rel time constraint arbitrari oper instructionlevel compil techniqu uniqu transform propos languag also present part chart compil hard realtim system gener valid instruct sequenc target execut model b introduct view realtim system realtim system consist control subsystem control entiti control subsystem set comput system control entiti broad rang system mechan behavior devic simpl blender complex robot 19 typic control subsystem execut control program receiv input environ andor send command control entiti appropri realtim system function correctli control program must logic correct control subsystem must execut program without time fault either failur perform action appropri time flaw control program logic yield catastroph consequ hard realtim system thu meet time constraint extrem import system base control program schedul realtim system divid two categori dynam static execut order control task dynam system determin onthefli runtim schedul examin current statu system often schedul part oper system even though dynam system flexibl suffer schedul overhead unpredict risk contrast static system schedul compil time base analysi program time con straint resourc use predict 16 static system schedul execut order compil time base predict behavior control entiti time properti control subsi tem thu static system guarante properli schedul code function without time failur howev despit fact guarante time execut make static system attract hard realtim environ highprecis static system receiv littl attent due 1 unpredict machin behavior generalpurpos processor often implement instruct execut time depend operand valu pipelin conflict memori hierarchi use eg cach miss dynam ram refresh virtual memori page fault variabl degrad accuraci requir time analysi 2 schedul complex instructionlevel time analysi code reorgan npcomplet problem 6 thu static schedul focus coarsegrain task reduc problem size 3 lack program support program languag support mechan express fulli gener realtim constraint first problem easili solv avoid care design comput hardwar exampl tms320c40 highperform dsp complet static time properti provid interrupt disabl local memori implement sram 10 even interact multipl processor made static time properti exampl paper purdu adapt parallel execut rapid synchron provid finegrain commun synchron precis static time properti 5 although work need believ techniqu present 3 form basic foundat appropri static schedul algorithm thu second problem partial solv practic solut like found soon leav problem provid appropri program model languag part problem specifi finegrain time constraint context highlevel program languag seem paradox assembl languag hand code resolv finegrain time constraint answer program difficult write maintain autom schedul almost imposs 11 equal futil directli use exist highlevel realtim program languag ada 2 edison 9 program languag extend gener purpos languag like rteuclid 12 flex 15 mpl 17 tcel 7 provid mechan specifi time constraint languag construct finer granular entir task languag also suffer use program model repres time constraint relationship task pair lexicograph adjac sourc program adjac constraint artifici insuffici expr sive time relationship arbitrari poten tialli parallel oper express relationship map lexicograph adjac posit program section 2 paper propos novel languag construct ad imper program languag extend languag provid user way specifi rel time constraint arbitrari action level individu struction aid reader understand time constraint extract process section 3 provid brief summari relev compil technolog section 4 summar contribut paper suggest futur direct research realtim languag motiv design new languag construct consid inform annot control program fragment shown figur 1 although exampl remark simpl embodi time constraint could easili found real applic none exist program languag capabl express form would facilit static time analysi schedul valu sensor 1 must execut later 1 3 must execut least 1 5 valu sensor 2 must execut later 1 1 input figur 1 exampl realtim code segment 21 time constraint model realtim languag propos paper implement graphic model denot direct graph g consist set node gamma set edg theta node edg associ instruct realtim constraint respect graphic model call direct time graph dtg distinguish convent direct graph sever aspect importantli edg dtg necessarili indic preced depend relat repres direct tempor relat two control action instruct gamma classifi extern view instructionevi intern view instruc tionivi base effect instruct 1 effect ivi limit intern compu tation evi chang statu control environ exampl variabl defin volatil c languag 20 command control robot use rccl 13 evi execut must meet time constraint specifi evi may depend valu comput ivi depend also impli rel time constraint execut order must preserv direct edg theta associ multipl tribut sourc object fl sink object fl e relat concept common similar view taken compil design code optim 4 realtim compil develop improv schedul 7 oper j offset ffi constraint k defin type relationship repres edg specifi j concurr exclusive6 inde tempor relat fl fl e edg type express time valu ffi must happen latest ffi ffl constraint must happen earliest ffi ffl concurr constraint must happen exactli ffi must happen ffi edg repres direct tempor relat sourc instruct fl sink instruct fl e follow simpl rule fl fl e appear respect rh lh constraint fl fl e arbitrari pair instruc tion moreov method suffici specifi constraint among n instruct use less nn 12 constraint model constraint among multipl instruct specifi constraint model even constraint satisfi sequenti schedul ie constraint impli parallel execut signific simpl order preced constraint repres without introduc addit type preced constraint form x use ys result encod constraint x happen earliest 0 henc time constraint preced constraint express use syntax 22 realtim languag featur singl import aspect program system easili system use creat maintain work program although rel eas program variou languag larg matter religi debat clear familiar languag construct program tool effect complet new program develop style must adopt realtim languag look feel like popular convent languag eg c likewis familiar syntax borrow express time constraint critic time aspect code directli observ easi modifi time constraint involv two oper abl express directli without adjust portion code part abil treat constraint independ depend abil combin multipl constraint affect oper although work realtim system suggest constraint alway combin requir constraint met sometim necessari 8 combin constraint requir one constraint met concept ore constraint quit new realtim commun suppos event 1 execut either 2 3 shown figur 2 mathemat express show possibl rang 1 could differ constraint base tempor valu 2 3 despit use necess construct ore constraint conspicu absent realtim program languag perhap schedul made complex support type constraint combin time axi time axi figur 2 exampl ore constraint suggest critic time constraint express finest possibl grain level finer grain yield freedom compil schedul yield highest probabl time constraint met cours freedom schedul also impli larger search space schedul user need awar addit complex compil concept cyclic task program structur uniqu realtim system commonli use obviou way obtain effect use construct subtl method destroy maintain thu suggest cyclic structur directli repres lan guag make easi recogn programm compil fact languag allow multipl arbitrari cyclic task specifi without concern differ length cycl convert singl coher schedul 23 parent languag thu far none exist realtim languag provid featur mention realtim languag easi program base finegrain task andor design express rel constraint among arbitrari control oper thu propos extens imper languag facilit featur even though imper languag extend featur develop novel languag construct onto subset c languag c use embed realtim system conjunct assembl macro time critic portion parent languag propos includ express use arithmet relat oper state ment statement time neither alias float point comput support 24 propos languag construct order specifi constraint top parent languag introduc sever new construct time block tempor express cyclic block time block defin code segment manipul unit purpos constraint specif time express specifi rel constraint term time block cyclic block defin code sequenc run indefinit program ter minat program may contain one cyclic block illustr construct consid exampl control program shown figur 3 program written read data memori locat updat devic write command memori locat dispatch devic desir time 241 time block time block userdefin variabl sequenc statement could view task tradit realtim system contain either volatil variabl evi statement consist least one evi time block contain evi tempor express associ tempor variabl ignor impli constraint automat time variabl identifi time block appear follow evi bodi block shown syntax tvar variabl tvar user defin name block variabl regular variabl evi 2 notat statement denot one statement 2 volatil variabl translat one instruct lowlevel languag 1 main 2 f 3 volatil char action1 action2 action3 4 volatil int sense1 sense2 sense3 5 char command1 command2 int abcd 7 8 9 cycl tp15 f 10 read data store sensor 13 specifi time read 14 tv1 action base data read 19 els 21 specifi time action 25 time constraint loop 27 28 34 tv8 tv6 10 37 cycl tp210 f 38 int c 43 tp2 start tp1 44 45 exit0 figur 3 program new construct compos time block exampl line 12 figur 3 defin tempor variabl tv2 tv3 associ variabl sensor2 statement b 4 case tv2 nest block tv3 time block properti regular block lexic scope variabl declar allow begin block also time block nest unless inter leav interleav time block disallow increas complex destroy structur languag featur 242 cyclic block cyclic block special case time block sens block execut repeatedli program termin thu compil treat block differ block analysi well schedul cyclic block identifi tempor variabl tvar period ffi defin cycl tvarffi f statement g cycl keyword indic follow block enclos f g cyclic block tvar tempor variabl name block ffi specifi time requir cyclic block must complet within statement time block loop overhead must complet within ffi time constraint associ cyclic block may express tempor express describ later exampl program figur 3 consist two cyclic block tp1 line 9 35 tp2 line 37 42 tempor relat cyclic block specifi line 44 tempor express line 44 impli first action tp2 execut later 2 time unit last action tp1 243 tempor express tempor express classifi either tempor assign tempor relat tempor assign way defin anoth tempor variabl tempor distanc exist tempor vari abl tempor relat use express relationship tempor variabl syntax tvar name tempor vari abl etvar extend tempor variabl indic start time complet time use prefix dot postfixeddot respect figur 3 tv1 line 14 indic complet time tv1 tv3 line 15 indic start time tv3 also j one tempor relat oper defin previou section ffi offset time unit small clock cycl also tempor relat indic zero tempor relat specifi ore constraint seen syntax tempor signment comput upon tempor variabl allow exampl tempor assign impli start time tv3 must happen earlier 14 time unit start time tv3 equival tv3 7 figur 3 illustr one uniqu tempor express time constraint involv iter block appear iter loop consid ere necessari specifi time constraint instanc differ iter introduc array tempor variabl resolv problem see line 31 figur 3 distanc instanc express index array exampl line 31 say loop execut within unit tempor express requir first action 1th iter start earlier 25 time unit last action ith iter point formal defin etar tvar tempor variabl fig option express denot ith instanc iter 244 illeg express line 17 20 figur 3 defin tempor variabl tv4 tv5 line 22 23 show correspond tempor express tempor assign tempor relat say action claus perform later 14 time unit tv2 complet thu time constraint taken account b hold howev tempor express pair instruct one claus els claus illeg imposs run branch execut anoth illeg express statement whose pair instruct necessarili includ statement unpredict time properti statement instruct whose time predict break statement loop unpredict number iter unpredict instruct involv interrupt exampl execut tv6 line 26 32 repeat long hold henc rang b non determinist tempor express line 34 illeg express tempor express specifi time conflict action also classifi illeg express consid two express line 14 15 modifi line 14 solut impli code valid schedul thu two tempor express illeg illeg express found thorough semant analysi 3 compil techniqu section briefli explain compil techniqu uniqu process languag transform particularli compil organ data structur intermedi represent cyclic block schedul focus either much differ convent compil techniqu 1 4 novel concept compil 31 compil organ see figur 4 chart consist four softwar modul syntax analysi semant analysi code schedul code gener modul modul design implement independ softwar individu replac enhanc ment exampl schedul algorithm develop 3 replac better one without affect modul except minim modif interfac implement modul written c languag support pcct purdu compil construct tool set analysi code schedul analysi code gener intermedi represent frontend phase backend phase program system data target code figur 4 compil architectur propos languag syntax analysi modul perform build intermedi represent sourc program intermedi represent chart uniqu describ section 32 time constraint specif cyclic block function semant analysi modul verifi program context languag semant includ follow ffl time block contain least one evi ffl tempor express semant legal ffl compliant parent languag object code schedul modul reorgan instruct sequenc meet time constraint well logic correct modul code gener modul entir system depend time properti hardwar compon instruct set either hardwir compil read system file shown figur 4 input schedul modul tupl whose time characterist close object code execut time tupl preserv code gener time 32 intermedi represent addit tradit role lexic analyz parser syntax analysi modul extract constraint inform time block program build intermedi represent depict figur 5 data structur intermedi represent consist two tabl three tree tabl consist symbol tabl symtab tabl tempor variabl tvartab tree structur includ abstract syntax tree ast cycl syntax tree cst tempor syntax tree tst childsibl tree 18 although ast symtab suffici data structur convent compil compil realtim system propos need inform organ tvartab store inform time block block type entryexit point cst manipul block execut period tst repres tempor express particular manipul cst conjunct tempor express specifi time constraint among cyclic block quit complex new concept compil commun multipl cyclic block need execut indefinit consid period time constraint among cyclic block 33 cyclic block schedul schedul cyclic block differ convent compil techniqu conven cyclic syntax treecst tempor abstract symbol tablesymtab tempor syntax treetst figur 5 data structur ir form chart tional compil notion interleav loop cyclic block need integr singl cyclic block execut without explicit dynam schedul dispatch sec tion develop novel scheme integr given cyclic block associ differ period singl cyclic block integr cyclic block execut indefinit semiindefinit program termin self expans b cyclecarri c intracycl expans expans intercycl expansion242424242424242135554 figur cyclic block expans time constraint cyclic block associ period execut first tempor variabl block start everi p rearrang cyclic block singl cyclic block psi process follow use fundament properti schedul period task 14 1 comput least common multipli period 2 8i replic instruct pp time 3 8i expand time constraint notic expans simpl addit tempor express model depend subtyp simpl constraint defin fl k instruct x k th instanc say origin cyclic block associ period repres instruct x constraint expans perform base follow analysi self expans replic instruct add time constraint maintain execut order replic instruct ex pansion period constraint enforc first control action name 8i 8j tempor ad x first control action otherwis 3 graphic represent self expans depict figur 6 instruct first control action cyclecarri expans suppos fl k1 depend say 0 case depend enforc replica ad tempor express appli everi cycliccarri depend shown b figur 6 figur fl k1 use result fl k thu tempor express relat repres intracycl expans tempor express specifi constraint instruct block replic necessari ad everi replica c figur 6 tempor replic intercycl expans tempor express specifi constraint instruct beyond one block within block replic necessari let k start time fl k k rang k express thu intercycl tempor express yield tempor express fl k consid figur 6 assum 3 assum p impli first control action repeat everi p time unit instruct correctli execut long expand depend violat express ad 4 psi schedul instruct level finegrain schedul algorithm one approach find valid schedul use genet search base algorithm given 3 build staticallyschedul realtim system difficult first appear appropri realtim languag compil technolog make signific stride toward develop compil technolog believ key build languag provid gener model programm compil easili understand manipul paper propos languag basic featur languag includ ffl basic syntax convent languag paper c compat lan guag program idiom ffl abil place rel time constraint arbitrari pair finegrain oper cyclic block ffl abil specifi arbitrari type rel time constraint eg con current exclus combin either and ore featur greatli complic com piler job enlarg schedul search space ad complex evalu constraint howev made good progress toward solv problem noth languag lie far beyond abil new compil technolog develop implement current futur work center implement complet compil languag chart compil hard realtim system primari focus complet compil control structur analysi code schedul base highprecis time analysi code gener serial parallel execut model acknowledg work support offic naval research onr grant number n0001491j4013 r compil principl ada static schedul hard realtim code instructionlevel time accuraci refinedlanguag approach compil parallel supercomput implement purdu adapt parallel execut rapid synchron comput intract schedul task andor preced constraint multiprocessor languag texa instrument inc unim industri robot program manual implement rccl note preemptiv schedul period realtim task express maintain time constraint flex softwar architectur hard realtim applic cyclic vs languag support maruti realtim sy tem refer manual hard realtim system tutori tr compil principl techniqu tool realtim euclid languag reliabl realtim system refinedlanguag approach compil parallel supercomput second gener tms20 user guid tutori hard realtim system refer manual softwar architectur hard realtim applic comput intract static schedul hard realtim code instructionlevel time accuraci ctr moham f youni thoma j marlow alexand stoyen grace tsai static safe specul execut realtim system ieee transact softwar engin v25 n5 p701721 septemb 1999