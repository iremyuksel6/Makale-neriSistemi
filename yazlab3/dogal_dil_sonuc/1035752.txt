detect global predic distribut system clock paper propos framework detect global state predic system process approximatelysynchron realtim clock timestamp clock use defin two order event definit occur possibl occur order lead natur definit 3 distinct detect modal ie 3 mean predic held comput name poss supidbisup possibl held definit held inst definit held specif global state paper defin modal give effici algorithm detect algorithm base algorithm garg waldeck alagar venkatesan cooper marzullo fromentin raynal complex analysi show reason assumpt realtimeclockbas detect algorithm less expens detect algorithm base lamport happenedbefor order sampl applic given illustr benefit approach b introduct histori distribut system model sequenc event sinc execut particular sequenc event leav system welldefin global state histori uniqu determin sequenc global state system pass un fortun distribut system without perfect clock synchron gener preliminari descript work appear 30 scott stoller stollercsindianaedu wwwcsindianaedustol depart comput scienc indiana univers bloomington imposs process determin order event differ processor actual occur therefor process determin sequenc global state system pass lead obviou difficulti detect whether global state predic hereaft simpli call predic held cooper marzullo propos solut asynchron distribut system 6 solut involv two modal denot poss hb init modal base logic time 18 embodi happen relat hb partial order 1 event reflect potenti causal depend happenedbefor total order uniqu determin histori restrict possibl given predic phi comput satisfi poss hb interleav event consist happenedbefor system pass global state satisfi phi comput satisfi everi interleav event consist happenedbefor system pass global state satisfi phi cooper marzullo definit modal establish import conceptu framework predic detect asynchron system basi consider research 8 13 4 17 32 14 5 12 practic though poss hb modal base happenedbefor signific drawback mani case first mani system difficult determin happenedbefor relat happenedbefor determin process maintain vector clock requir vector timestamp compon attach everi messag n number process system impos comput overhead oper per messag receiv updat vector clock gener code insert remov vector timestamp without chang exist type program would open worm copi entir messag ineffici difficult program use streamori commun protocol provid messag boundari tcp difficulti significantli compound sinc receiv might receiv fragment messag sever messag singl receiv event piggyback vector timestamp requir chang commun statement applic even predic interest involv state one modul sourc code avail part system might imposs happen determin without vector clock process inform monitor send event receiv event provid monitor enough inform determin correspond send receiv event ie receiv event monitor determin send event sent receiv messag howev method 1 paper partial order irreflex unless specifi otherwis often signific drawback gener determin correspond send receiv event requir piggyback identifi eg sequenc number messag involv difficulti piggyback vector timestamp 2 addit drawback method monitor must inform send event receiv event vector timestamp happenedbefor relat need suffic inform monitor event might chang truth valu predic interest 3 significantli reduc amount inform sent monitor second drawback detect poss hb phi comput cost worstcas time complex omegagamma e n e maximum number event execut process worst case occur littl commun henc causal depend mani interleav must explor exampl exponenti cost seen two sampl applic consid 31 name coher protocol spanningtre algorithm third drawback system hidden channel 2 ie mean commun messag happenedbefor accur captur causal relationship poss hb phi accur captur mean possibl held definit held paper propos framework predic detect system approxim synchron realtim clock timestamp clock use defin two order event db definit occur pb possibl occur roughli speak substitut order happenedbefor definit poss hb obtain definit four new modal two modal base db close analog poss hb denot poss db obtain algorithm detect poss db adapt algorithm garg waldeck 13 14 alagar venkatesan 1 cooper marzullo 6 modal base pb quit differ pb db partial order yield degener case analogu poss hb equival show singl modal denot inst close relat fromentin raynal concept properli hb adapt detect inst algorithm detect properli detect framework applic wide rang system sinc requir clock synchron within fix bound howev qualiti clock synchron affect two event order describ therefor result even underli commun protocol use sequenc number operatingsystem protect mechan may prevent monitor system access 3 optim explicitli incorpor algorithm easili done detect exampl consid inst phi inform comput satisfi inst phi iff timestamp impli instant comput predic phi held ie iff collect local state form global state satisfi phi base timestamp definit overlap time suppos phi actual hold global state g persist time ffi whether inst phi hold depend qualiti synchron roughli maximum differ clock known less ffi inst phi hold otherwis case way determin whether local state g actual overlap time inst phi might hold qualiti clock synchron affect also cost detect exampl consid poss db phi inform comput satisfi poss db phi iff collect local state form global state satisfi phi base timestamp possibl overlap time larger error clock synchron combin local state possibl overlap gener phi must evalu combin local state thu larger error expens detect error bound rel mean interv relev event ie event potenti truthifi falsifi phi number global state must check linear e asynchron case number global state must check oe n condit error clock synchron hold mani system localarea distribut system protocol like ntp effici maintain synchron clock within millisecond 26 even extrem widearea distribut system like internet clock synchron usual maintain within ten millisecond 24 26 detect framework algorithm propos design provid basi monitor debug applic system sampl applic describ section 7 includ applic timer provid hidden channel caus detect base happenedbefor less appropri direct futur work includ implement detect algorithm describ develop effici algorithm detect global properti depend explicitli time investig clockbas detect sequenc global state perhap along line tempor modal base happenedbefor 16 3 11 relat work marzullo neiger 23 discuss global properti detect partiallysynchron system fix bound ffl error clock known notat paper defin modal poss hd give detect algorithm two modal combin happenedbefor realtim order exploit inform comput henc certainli desir whenev feasibl modifi algorithm paper take happenedbefor account straightforward exercis result algorithm would appropri monitor system paper present algorithm use happenedbefor three reason first import discuss section 1 often difficult practic modifi system monitor determin happenedbefor relat consequ detect algorithm depend happenedbefor limit applic 4 second use happenedbefor enabl optim specif involv prioriti queue imposs causal order also use third incorpor happen would obscur present complex analysi realtimebas part algorithm novel part contribut paper rel 23 includ detect algorithm base pure realtim clock effici detect algorithm definit algorithm inst 23 consid modal analog inst also 23 assum fix bound error clock synchron framework allow bound vari time support tighter bound henc accur monitor result attract featur properli hb inst monitor report singl global state g satisfi phi system actual pass featur howev properli hb give use inform system perform global ie systemwid barrier synchron synchron expens rare use contrast assum reason good clock synchron inst inform even absenc barrier synchron sinc inst like properli hb detect effici arbitrari predic appear use modal possibl occur relat pb reminisc lamport affect relat concurr system 20 21 relat may contain cycl overlap pb overlap interv timestamp affect overlap nonatom event framework assum event atom appropri system messagebas commun verissimo 33 discuss uncertainti event order caus granular 5 imperfect synchron digit realtim clock analyz condit uncertainti signific applic describ synchron techniqu suitabl certain applic mask uncertainti howev 33 aim gener approach detect global properti presenc uncertainti 4 algorithm appli directli even program use highlevel commun librari eg distribut share memori dsm librari sourc code avail detect happenedbefor case would difficult 5 framework accommod granular digit clock use instead ts1 ts2 3 background comput singl process call local comput repres finit infinit sequenc local state event thu local comput form e ff event ff local state convent e 1 correspond creation process sequenc finit end event correspond convent termin process comput distribut system collect local comput one per pro cess comput repres function process name local comput use integ process name thu comput c local comput process ci variabl j alway rang process name use evc stc denot set event local state respect comput c conveni assum event local state comput distinct follow function implicitli parameter comput comput consid evid context event e pre denot process e occur local state pr denot process pass ss denot start event termin event respect exampl comput contain local comput 1 ss 2 e 2 2 e 3 global state distribut system collect local state one per process repres function process name local state set global state comput c denot gs c thu g gs c iff process gi local state ci defin reflex partial order global state occur g 0 2 order defin paper includ implicitli parameter comput comput consid evid context event e interv timestamp ce interv lower endpoint model event atom instantan width interv timestamp depend qualiti clock synchron event occur assum interv timestamp nondecreas consist order event precis assum ts1 everi event e c 1 ts2 everi event e 1 immedi succeed event e 2 process ts3 everi event e 1 everi event e 2 e 1 occur e 2 c 1 variou way satisfi assumpt depend underli clock synchron mechan simpl yet realist exampl clock synchron algorithm never decreas valu clock machin precis machin relev predic detect synchron singl time server ts1ts3 hold timestamp chosen valu time server clock interv ce event e occur thu machin take c 1 c 2 valu local clock e occur bound differ clock time server clock e occur system time server organ peer group clientserv hierarchi ce determin appropri combin bound error relev clock either case inform need construct interv timestamp obtain standard clock synchron subsystem ntp 25 26 distribut time servic osf dce 27 4 gener theori consist global state predic detect asynchron system base theori consist global state cgss 2 inform global state consist could occur comput conveni defin consist term ideal recal ideal partial order hs oei set 8x 2 8y hevc hb call consist cut 2 recal partial order set ideal order inclus form lattic 8 furthermor set cgss order form lattic isomorph lattic consist cut 28 2 isomorph import consequ detect algorithm impli minim increas respect correspond advanc one process one event adjac ideal hevc hb differ exactli one event henc lattic cgss explor repeatedli advanc one process one event principl underli detect algorithm cooper marzullo 6 garg waldeck 13 14 alagar venkatesan 1 section show theori specif happenedbefor relat rather appli partial order event provid processwis total ie two event e 1 e 2 process e 1 occur e 2 gener theori underli detect algorithm section 5 6 definit cgss let c comput let relat evc defin relat stc inform interpret 0 end 0 start formal two local state concurr respect relat global state consist respect constitu local state pairwis concurr consi g delta thu set cgss comput c respect note cg hb usual notion cgss definit poss modal poss hb asynchron system defin term lattic hcg hb gener follow comput c satisfi poss phi iff cg c contain global state satisfi phi defin term path path partial order hs finit infinit sequenc 6 oe distinct element oe1 minim respect ii ff immedi successor 7 oeff iii oe finit oejoej maxim respect inform path hcg c correspond order event comput could occur comput c satisfi everi path hcg c contain global state satisfi phi cgss ideal processwisetot partial order natur correspond cg c ideal hevc one think ideal set event occur execut set event leav process local state immedi follow last event process thu ideal correspond 6 use 1base index sequenc 7 reflex irreflex partial order hs oei element x 2 2 immedi successor x iff x global state g sgi maxim element fe 2 j ig correspond isomorph theorem 1 everi processwisetot partial order evc partial order hcg c lattic isomorph lattic ideal hevc proof true reason standard theori base happenedbefor 28 2 8 proof straightforward follow corollari underli detect algorithm section 5 6 corollari 2 processwisetot partial order global state g 0 immedi successor g hcg c ideal correspond g 0 contain exactli one event ideal correspond g proof follow theorem 1 fact partial order one ideal immedi successor anoth ideal two ideal differ exactli one element detect base strong event order poss db instanti gener theori section 4 partial order db definit occur defin db order defin sole term timestamp ce 1 ce 2 ts1 ts2 allow consecut event process ident timestamp therefor assum process record local sequenc number well interv timestamp event theorem 3 everi comput c db processwisetot partial order evc proof see appendix discuss section 4 db induc notion cg db cgss g 2 cg db local state g possibl overlap time exampl figur 1 show comput c 1 lattic hcg db pair arc enclos event show endpoint interv timestamp lattic node label repres global state process 1 local state 1 process 2 local state 2 42 figur 1 left comput c 1 right lattic hcg db consid paper detect algorithm passiv monitor process origin system send timestamp local state new process call monitor specif process execut event therebi termin current local state process send monitor messag contain timestamp css ct 8 consid onlin detect monitor detect properti soon possibl algorithm offlin detect monitor wait comput termin check whether properti hold obtain special case consid first algorithm detect poss db restrict class predic consid gener algorithm detect poss db 51 algorithm poss db db conjunct predic garg waldeck 13 14 develop effici algorithm detect poss conjunct predic phi predic conjunct conjunct predic depend local state one process exampl x local variabl process predic x 1 conjunct predic conjunct algorithm adapt straightforward way detect poss db roughli replac comparison base happenedbefor comparison base db yield detect algorithm worstcas time complex 2 e e maximum number event execut process worstcas time complex algorithm reduc log ne exploit total order number start review garg waldeck algorithm detect poss hb conjunct predic suppos predic interest depend 8 sever straightforward optim possibl exampl messag might describ differ consecut report local state rather repeat entir local state also except initi local state suffic includ local state timestamp ct sinc sent previou messag monitor also given predic phi event possibl truthifi falsifi phi ignor local state process process send monitor timestamp local state satisfi local state satisfi oe report process monitor maintain queue q add timestamp local state receiv process end q let headq denot head nonempti queue q j remov q head queue repeatedli compar sometim remov way head nonempti queue pairwis concurr point queue nonempti head queue form cg satisfi phi algorithm return cg therebi indic poss hb queue empti monitor wait receiv local state repeat procedur describ worstcas time complex 2 e one local state time local state remov q new head q compar head queue detect poss db number comparison reduc follow expand definit cg db c global state g consist iff use fact c 2 headgi c 1 sheadgi follow ts1 ts2 one show 7 equival min evalu 8 effici maintain two prioriti queue p 1 p 2 whose content determin invari i1 process q nonempti p 1 contain record key c 1 sheadq satellit data p 1 contain record i2 process q nonempti p 2 contain record key c 2 headq satellit data hi ptri ptr pointer record satellit data contain record recal oper prioriti queue p includ getminp return record hk di key k satellit data k minim extractminp remov return record also use prioriti queue analog oper base maxim key valu thu 8 equival k negat 9 use loop figur 2 check head nonempti queue concurr let possconjalg denot algorithm figur 2 comput satisfi poss db return cg satisfi phi analyz time complex recal oper prioriti queue contain record take olog n time constant number oper perform local state worstcas time complex algorithm figur 2 oen log n note time complex independ qualiti clock synchron algorithm 14 detect conjunct phi adapt similar way detect phi predic receiv x process add record p 1 p 2 maintain invari i1 i2 remov record ie record lambdaptr add record p 1 p 2 maintain invari i1 i2 endif endwhil return cg hheadq 1 endif endif figur 2 algorithm possconjalgphi detect poss db conjunct predic process send monitor local state satisfi local predic 52 gener algorithm poss db develop onlin detect algorithm poss db phi adapt alagar venkatesan algorithm detect poss hb phi nontermin ie infinit comput 1 algorithm base procedur depthfirst search lattic cgss depthfirst explor lattic cgss infinit comput would never backtrack thu would never visit cgss near begin lattic algorithm lattic divid sequenc sublattic l correspond increas prefix comput depthfirst search use explor sublattic l i1 gammal follow paragraph describ adapt algorithm onlin detect poss db find initi cg asynchron set initi cg simpli contain initi local state process time set global state might consist sinc process might start differ time theorem 4 everi comput c cg c empti hcg c contain uniqu minim element ie c uniqu initi cg proof exist minim element lattic cgss follow immedi nonempti absenc infinit descend chain 7 chapter 2 prove contradict lattic cgss uniqu minim element suppos cgss g 1 g 2 minim g 1 6 g 2 let g denot meet oper lattic cgss note g 1 6 g 2 assumpt g 2 minim g 1 6 definit g g 1 g definit g g 1 g togeth g 1 g contradict assum minim g 1 find initi cg exploit fact everi conjunct predic phi comput satisfi poss db phi possconjalgphi find return uniqu minim cg satisfi phi proof close analog proof correspond properti garg waldeck algorithm 14 corollari cg db c empti possconjalgtru return initi cg otherwis possconjalgtru never call return choos sequenc sublattic avoid delay detect monitor receiv timestamp local state construct largest cg g 2 construct local state receiv far done loop figur 4 cg implicitli defin next sublattic contain exactli cgss g denot cg construct previou local state receiv ie cg correspond sublattic l construct g 2 monitor depthfirst search sublattic l definit contain cgss g explor sublattic two main step explor sublattic cgss cg g 1 larger cg ffl use procedur initstatesg comput set minim respect cgss sublattic ffl cg g use procedur depthfirstsearchg depthfirst search start g fragment sublattic search togeth explor entir sublattic alagar venkatesan observ initst comput effici follow local state let minstat uniqu minim cg contain let succ local state occur immedi process local state succ undefin initstatesg procedur var endif return comput minstat algorithm comput minstat similar algorithm comput initi cg reli follow properti possconjalg possconjalgphi start global state g ie local state process occur gi ignor remaind comput satisfi poss db find uniqu minim cg greater g satisfi phi global state g local state let gi 7 denot global state g except local state process simpl way comput minstat call possconjalgtru start global state g 0 pr 7 g 0 initi cg optim sometim possibl consid call minstat 2 minstat previous call local state pr 2 argument optim appli minstat comput describ otherwis let 1 argument previou call minstat local state pr 2 observ 1 occur 2 1 minstat call initst initst call nondecreas chain cgss properti algorithm figur 4 2 assum shortcircuit evalu initst initstatesg possconjalgtru global state minstat 1 pr 7 instead g 0 pr 7 lead follow algorithm oldi contain result previou call minstat local state process initi oldi set g 0 procedur oldpr cg return possconjalgtru start oldprspr 7 return depthfirst search fragment sublattic sinc cg may multipl predecessor lattic cgss search algorithm need effici mechan ensur cg explor straightforward approach maintain set contain cgss visit far howev may expens space time alagar venkatesan 1 propos follow clever altern introduc total order idx cgss defin lexicograph smaller indexg 2 global state g indexg tupl hk gi k th local state process depthfirst search explor cg g immedi predecessor respect g maxim among immedi predecessor g respect idx lead algorithm figur 3 cg g predg set immedi predecessor g lattic cgss comput predg process check whether move process back one local state yield cg includ result cg set put piec togeth yield onlin detect algorithm figur 4 local state g 0 ie local state g 0 pr occur handl receiv process statement even though local state might receiv initi cg found recal process send local state monitor local state end natur db depend local state end delay detect one approach bound reduc delay process report event monitor recent send messag monitor report still local state report execut skip anoth approach describ 23 requir bound messag latenc instant monitor use local clock bound determin lower bound end time last local state receiv process 521 complex analyz time complex consid separ cost invoc minstat cost oper effect process call minstat caus possconjalg algorithm execut n time process worst procedur depthfirstsearchg phig returntru els gi 6 g 2 consi db g maxim hs idx returntru endif endif rof returnfals figur 3 algorithm depthfirst search comput thu total cost call possconjalg minstat henc total cost call minstat oen 2 log n total cost execut loop figur 4 oen 3 sinc 1 evalu loop condit take time 2 condit evalu one local state 2 loop bodi execut one local state execut take constant time total cost execut bodi loop figur 4 ojcg db sinc depthfirst search take 2 time per cg sinc evalu pred take 2 time call initst take 3 exclud cost call minstat 1 evalu take time 2 may evalu 2 time loop existenti quantifi total cost call initst 4 e sinc initst call per local state sum contribut conclud worstcas time complex algorithm ojcg db cj depend rate event occur rel error clock simplifi complex analysi suppos 1 interv consecut event process least 2 error clock known 3 interv timestamp event e given c 1 valu local clock machin pre e occur everi event initi phase 0 cg return possconjalgtru g 0 initi cg local state g 0 pr occur receiv process largest cg initstatesg report poss db phi exit endif rof figur 4 algorithm detect poss db e local state concurr 3 local state process local state o3 n gamma1 cgss o3 n e cgss worstcas time complex algorithm o3 n en 2 2 local state concurr d4 local state process od4 e cgss worstcas time complex algorithm od4 case worstcas time complex detect poss db linear e normal much larger n contrast worstcas time complex gener algorithm detect poss realist complex analysi requir consid distribut interev time rather simpli fix minimum valu specif consid distribut comput interev time select normal ie gaussian distribut mean standard deviat p neg number select distribut ignor simplic continu assum fix bound error clock number cgss depend n e ratio case analyz number cgss scale linearli e illustr graph figur 5 figur 6 plot number cgss vs n one see larg number cgss increas slowli roughli linearli n small number cgss increas exponenti n cgss figur 5 number cgss vs e muepsilon muepsilon cgss figur left number cgss vs n rang 6 50 right number cgss vs n 2 50 note vertic scale two graph differ 53 gener algorithm detect algorithm phi 6 23 adapt detect phi roughli replac condit form e 1 db algorithm divid lattic level level local state local comput number local state preced comput level global state g sum level constitu local state level lattic cgss contain cgss level follow 6 23 give algorithm monitor construct one level lattic cgss time construct one level lattic time unnecessari sometim delay detect properti construct use simplifi present algorithm use monitor detect phi given figur 7 lowest level lattic contain initi cg loop maintain follow invari last contain cgss reachabl initi cg without pass cg satisfi phi line algorithm monitor consid global state g last process check whether local state succgi concurr local state g process monitor wait local state alreadi arriv monitor add gi 7 succgi current alreadi current cg return possconjalgtru find initi cg last fgg remov cgss last satisfi phi last current cgss immedi successor cgss last remov cgss current satisfi phi last current report figur 7 algorithm detect db sinc phi could fals cgss assum cost evalu phi global state constant worstcas asymptot time complex algorithm equal worstcas asymptot time complex construct cg db cg algorithm advanc n process result global state g consist algorithm check whether g alreadi current let tm denot total cost membership check construct cg db c take thetajcg db time tm depend data structur use implement current naiv arraybas implement check constant cost tm theta n due cost initi array worstcas time complex algorithm theta n n 2 9 howev implement seriou disadvantag time complex remain even actual number cgss much smaller e n typic case thu gener prefer altern implement current dictionari use hash tabl balanc tree let w c width lattic cg db c ie maximum size level lattic balanc tree use membership check cost olog w c worstcas time complex ojcg db jcg db cj w c depend rate event occur rel error clock simplifi complex analysi introduc mean section 521 2 o3 n e cgss w c o3 n worstcas time complex algorithm o3 n en 2 2 od4 e cgss w c od4 worstcas time complex od4 case worstcas time complex detect linear e contrast worstcas time complex gener algorithm detect realist complex analysi consid distribut interev time bound error clock last paragraph section 52 cours number cgss still character figur 5 6 easi argu assumpt expect size level independ e depend fashion number cgss n thu graph show depend w c n would shape graph figur 6 6 detect base weak event order inst possibl occur order event defin pb db use 3 induc relat pb local state interpret pb possibl end 0 start two local state strongli concurr relat pb local state must overlap time call element cg pb strongli consist global state scgss 10 exampl figur 8 show hcg pb recal comput c 1 shown figur 1 note hcg pb total order gener show theorem 5 comput c hcg pb total order therefor lattic 9 onlin detect e known advanc array may need resiz eg doubl occasion chang asymptot time complex fromentin raynal call element cg inevit global state 9 figur 8 lattic hcg pb proof suppos ie suppos exist comput c two global state cg pb c two process j gi pb gj definit cg pb definit cg pb transit transit c 2 contradict follow poss pb equival ie comput c predic phi c satisfi poss pb pb phi defin inst instantan denot modal ie poss pb pb inform comput satisfi inst phi global state g satisfi phi system definit pass g comput theorem 1 appli pb lemma 6 pb partial order proof consid comput figur 9 actual order e 2 2 e 1 2 e 2 2 e 1 3 determin interv timestamp e 1pb 2 e 2pb 2 sinc also e 1pb contain cycl light surpris minim increas hcg pb necessarili correspond advanc one process one event exampl consid comput c 1 figur 1 shown figur 8 two process advanc second third scgss c 1 comput minim increas hcg pb correspond advanc multipl event per process comput c 2 shown figur 9 local state process 2 1 definit overlap 1 2 part scg process 1 advanc two event consecut scgss c 2 comput c 2 two scgss hs 1 sinc minim increas hcg pb necessarili correspond advanc one process one event algorithm section 5 adapt easili detect inst algorithm detect inst base fromentin raynal algorithm detect properli asynchron system 9 10 definit properli gener arbitrari order event e 2e 1e 2e 1e 1e 1e 2s 2s 2s 1s 1s 1 figur 9 comput c 2 properli comput c satisfi properli phi iff global state satisfi phi contain everi path hcg c theorem 7 properli db equival inst proof suffic show global state g cg pb c iff contain everi maxim path cg db c proof base theorem ig 9 state global state g contain everi maxim path hcg hb last return last element sequenc close analog proof show global state g contain everi maxim path hcg db definit db equival signific differ involv last local state process inform disjunct need fromentin raynal analysi global state g f contain last local state process appear everi maxim path even though system might pass g f realtim sinc process might termin differ time peculiar aris realtim timestamp use 11 need disjunct deal special last local state process expand definit cg pb c simplifi yield 11 exampl equival note hcg pb figur 8 contain exactli cgss contain everi path hcg db figur 1 straightforward adapt fromentin raynal algorithm detect properli hb yield algorithm detect inst worstcas time complex 3 e fromentin raynal algorithm optim similar present section 51 reduc log ne expand definit cg pb c global state g strongli consist iff check condit effici introduc prioriti queue p 1 p 2 whose content determin follow invari j1 process q nonempti p 1 contain record key c 1 headq satellit data hi ptri ptr pointer record satellit data contain record j2 process q nonempti p 2 contain record key c 2 sheadq satellit data p 2 contain record use p 1 p 2 defin function scp effici test whether head nonempti queue pairwis strongli concurr take account possibl obtain countmaxp number record contain maxim valu key prioriti queue p datahk thu follow procedur makesc make strongli concurr loop head nonempti queue strongli concurr procedur makesc remov record ie record lambdaptr add record p 1 p 2 maintain invari j1 j2 endif endwhil extractminp like getmin except remov record return optim algorithm detect inst appear figur 10 head2q return second element queue q scg g found g satisfi phi monitor start search next scg advanc process j advanc yield cg ie element cg db first process advanc eg queue q contain one element monitor wait local state report follow definit cg db cg pb advanc process yield cg advanc process j c 1 shead2q j minim yield cg thu reduc time need find process j maintain prioriti queue p 3 satisfi invari j3 process q nonempti p 3 contain record key c 1 shead2q j satellit data p 3 contain record thu line suffic take test whether gj 7 head2q j consist done olog n time temporarili updat p 1 p 2 process j advanc use 9 analyz worstcas time complex sum time spent insid outsid makesc iter loop makesc take olog n time oper prioriti queue take olog n time remov one local state comput contain one local state total time spent insid makesc log ne total time spent code outsid makesc also log ne sinc one scgss corollari theorem 7 local state consid olog n cost wait statement thu worstcas time complex algorithm log ne receiv x process add record p 1 p 2 maintain invari j1 j2 found true found makesc found fals els found scg global state headq g scg g satisfi phi return g els wait exist j gj 7 head2q j cg db remov record j p 1 add record j p 1 p 2 maintain invari j1 j2 endif endif endwhil endif figur 10 algorithm detect inst phi applic 71 coher protocol coher share data central issu mani distribut system includ distribut file system distribut share memori distribut databas typic invari maintain coher protocol one machin copi data item write mode machin valid copi data item part test debug coher protocol monitor might use issu warn poss db cohrnt detect report error cohrnt detect comput cheaper sometim less inform altern monitor inst cohrnt report error detect detect algorithm base happenedbefor could use instead system modifi maintain vector clock reason maintain alreadi howev coher protocol use timer time act hidden channel 2 ie mean commun messag detect base happenedbefor might yield less accur result timer use coher protocol ffl obtain lock broadcast request lock conflict announc receiv within appropri time interv grant oneself lock ffl releas lock associ finit lifetim lock lock call leas 15 lifetim expir process know without commun lock releas exampl resourc alloc algorithm 19 section 51 use timer way techniqu use timer instead messag synchron detect base happenedbefor less appropri exampl releas lock one process acquisit lock anoth process need relat happenedbefor poss hb cohrnt may detect even coher maintain poss db cohrnt would detect clockbas monitor use even coher protocol provid weaker guarante cohrnt exampl sun network file system nf 29 section 1762 file inform cach timer use limit stale cach inform need timer expir client ask server whether cach inform still valid sinc lockfre approach enforc onecopi fileshar semant tradit unix use monitor system detect often violat onecopi semant seen applic exampl detect algorithm inst easili adapt count instead detect scgss satisfi predic process read cach inform cach contain recent version inform nf lifetim cach data typic ten second three order magnitud larger typic clock synchron error lan approach detect violat onecopi semant 72 concurr control distribut transact leas also use concurr control distribut databas system reduc number messag need commit readonli transact describ 22 section 7 idea readonli transact acquir leas use data object transact complet leas expir coordin commit transact without commun part test debug system one might use monitor detect violat invari transact commit hold lock object use sinc commit event expir leas may unrel happenedbefor detect base poss hb may report violat even violat occur detect base realtim clock would report violat r techniqu tackl state explos global predic detect local tempor predic distribut system detect global predic techniqu limit consist detect global predic introduct lattic order reachabl analysi distribut execut inevit global state concept detect unstabl properti distribut comput observ independ way character detect set global state seen observ distribut comput effici detect channel predic distribut system detect weak unstabl predic distribut program detect strong unstabl predic distribut program effici faulttoler mechan distribut file system consist detect atom sequenc predic distribut comput linear space algorithm onlin detect global predic use time instead timeout faulttoler system mutual exclus problem part ia theori interprocess com munic interprocess commun part 1 practic use synchron clock distribut system detect global state predic time synchron network time protocol network time protocol version specif improv algorithm synchron comput network clock detect causal relationship distribut comput search holi grail oper system concept detect global predic distribut system clock effici symbol detect global properti distribut system faster possibl detect combin two approach tr use time instead timeout faulttoler distribut system mutual exclus problem leas effici faulttoler mechan distribut file cach consist practic use synchron clock distribut system consist detect global predic introduct osf dce rev 10 detect atom sequenc predic distribut comput local tempor predic distribut system improv algorithm synchron comput network clock specif verif dynam properti distribut comput detect strong unstabl predic distribut program share global state distribut comput effici detect channel predic distribut system effici distribut detect conjunct local predic consist global state distribut system realtim commun time clock order event distribut system oper system concept 4th ed detect weak unstabl predic distribut program detect global state predic faster possibl detect combin two approach detect global predic distribut system clock reachabl analysi distribut execut techniqu tackl state explos global predic detect effici symbol detect global properti distribut system global predic rough real time character detect set global state seen observ distribut comput ctr ajay kshemkalyani finegrain modal classif global predic ieee transact parallel distribut system v14 n8 p807816 august