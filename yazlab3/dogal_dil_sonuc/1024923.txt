theori norm simul exist simul proof techniqu singl step lowerlevel specif may simul extend execut fragment higherlevel one result cumbersom mechan techniqu use generalpurpos theorem prover moreov undecid whether given relat simul even tautolog check decid underli specif logic articl studi variou type inorm simulationsi norm simul step lowerlevel specif simul one step higherlevel one relat pair state earlier work demonstr norm simul quit use vehicl formal refin proof via theorem prover show norm simul also pleasant theoret properti 1 reason assumpt decid whether given relat norm forward simul provid tautolog check decid underli logic 2 semant level norm forward backward simul togeth form complet proof method establish behavior inclus provid higherlevel specif finit invis nondetermin b introduct simul relat renement function wide use prove lowerlevel specica tion reactiv system correctli implement higherlevel one see al91 lv95 lyn96 re98 overview numer refer applic technic simul renement relat function r state lowerlevel specic higherlevel specic b satis condit like lowerlevel state higherlevel state u relat transit match transit b u state v relat see also figur 1 exist simul impli behavior also exhibit b figur 1 transfer condit 1 main reason simul use reduc global reason behavior execut local reason state transit howev best knowledg complet simul proof method appear literatur fall back form global reason case specic contain intern stutter transit usual transfer condit forward simul lv95 instanc say lowerlevel transit simul sequenc higherlevel transit apart action match may also contain arbitrari number intern transit see also figur 2 thu research program reduc global reason local reason carri complet manual proof simul relat figur 2 transfer condit 2 usual problem practic lowerlevel transit typic match one higherlevel transit moreov human tend quit good reason sequenc move eortlessli transit execut back contrast turn rather cumbersom formal argument involv sequenc use exist theorem prover see dgm97 compar studi fact sever paper formal simul proof describ author consid restrict type simul lowerlevel transit match one higherlevel transit hsv94 ns95 dgrv00 howev mani exampl situat restrict type simul appli approach sagg 93 full transfer condit 2 formal user suppli simul execut fragment prover explicitli make veric process highli interact paper introduc simul proof method remedi problem idea dene function n assign norm ns u wellfound domain pair transit state b u simul transit may either noth intern relat u may match atransit may perform intern transit norm decreas ie establish norm forward simul norm backward simul togeth constitut complet proof method establish trace inclus addit show histori propheci relat close relat histori propheci variabl al91 enrich norm function obtain anoth complet proof method combin simpl notion renement map preorder gener norm forward simul strictli ner preorder induc forward simul lv95 fact character norm forward simul term branch forward simul gw96 present similar character backward case possibl come variant norm forward simul induc preorder forward simul technic somewhat involv see gri00sect 6510 prove invari properti program one face two problem rst problem relat necess prove tautolog assert logic wherea second manifest need nding sucient strong invari order address rst problem power decis procedur incorpor theorem prover pv orsh95 tautolog check decid decid whether given state predic valid initi state preserv transit task nding predic ie solv second problem respons user even though power heurist devis autom search bls96 mbsu98 analog specic b conjectur forward simul relat r norm function n express within decid assert logic specic b contain nite number determinist transit predic decid whether pair r n norm forward simul result hold earlier approach lv95 distinct advantag norm forward simul idea use norm function prove simul relat also occur gs95 use prove branch bisimilar context process algebra crl howev gs95 norm function dene state b involv transit consequ method gs95 alway appli diverg process norm function similar also studi namjoshi nam97 use obtain character stutter bisimul bcg88 equival branch bisimul set state rather action label see dnv95 gs95 nam97 address eectiv issu although present norm simul set label transit system dicult transfer result process algebra set gs95 state base set nam97 inspir approach norm function use bs00 dene new bisimul equival probabilist system paper present maxim simpl exampl illustr variou deni tion result gri00chapt 6 norm simul appli substanti case studi name veric leader elect protocol part ieee 1394 firewir standard veric mechan check use pv 1 present result close follow lv95 stick notat introduc paper fact aim amongst other deriv analog result lv95 dierent type simul howev decid present norm version forwardbackward backwardforward simul lv95 sinc simul thu far use practic technic would bring noth new apart notion norm function major technic innov present paper new simpl denit execut correspond gssl93 sall93 systemat use concept technic develop preliminari section brie recal basic concurr theori denit taken lv95 automaton label transit system consist possibl innit set statesa state nonempti set starta statesa start state set actsa action includ intern stutter action set stepsa statesa actsa statesa step write shorthand 2 stepsa let exta extern action denot fg execut fragment nite innit altern sequenc 0 1 1 2 2 state action begin state nite also end state 0 execut execut fragment begin start state denot exec execsa set nite execut respect state reachabl occur last state nite execut case write reachablea also write reachablea set reachabl state trace execut fragment notat trace subsequ non action occur nite innit sequenc extern action trace execut trace write trace tracesa set nite trace respect write b trace trace b b tracesa tracesb suppos automaton state nite sequenc exta say move write clear nite execut fragment start trace end three restrict kind automata play import role paper 1 determinist state nite sequenc exta one state determinist automaton character uniqu properti everi step form state action one state 2 nite invis nondetermin n starta nite state nite sequenc exta nite mani state 3 forest state exactli one execut lead forest character uniqu properti state reachabl start state incom step state exactli one incom step 1 actual discov notion norm simul formal correct proof leader elect protocol relat consist pair nite execut trace last state last denot function return last element nite nonempti sequenc dene pasta invers aftera pasta relat state trace nite execut lead follow elementari lemma lv95 state restrict kind automata dene relat past satisfi certain nice properti lemma 21 1 determinist function trace statesa 2 n imagenit ie trace domain aftera relat nite mani state 3 forest pasta function statesa trace 3 step renement execut correspond section present step renement simplest notion simul consid paper order prove sound step renement also introduc auxiliari notion execut correspond notion play key role paper technic lemma prove section also use repeatedli subsequ section 31 step renement let b automata step renement b partial function r statesa statesb satis follow two condit 1 2 starta 2 domainr rs 2 startb 2 b rs b rt note trivial induct argument set state r dene contain reachabl state thu invari automaton write r b exist step renement b far know notion step renement rst propos ns95 howev insist presenc stutter step state common assumpt model reactiv system claus 2a denit becom super uou notion step renement reduc homomorph reachabl subautomata gin68 step renement slightli restrict possibl map lt87 call weak renement lv95 case possibl map reachabl step may match sequenc step b trace mean denit condit 2 replac 2 execut fragment b u2 figur 3 step renement observ unlik step renement possibl map reduc global reason local reason exampl 31 figur 3 illustr notion step renement note step match step b also cstep match step b sourc target state step outsid domain step renement allow sinc state unreach observ step renement b exist possibl map b figur 4 give anoth exampl case step renement 0 b 0 b 0 0 even possibl map b 0 0 figur 4 anoth step renement follow proposit state basic saniti properti step renement proposit 32 r preorder ie transit exiv proof ident function statesa trivial step renement henc r exiv transit follow observ r step renement b r 0 step renement b c function composit r 0 r step renement c 32 execut correspond exist step renement b construct execut fragment correspond execut fragment b trace notion correspond formal suppos b automata r statesa statesb execut fragment b respect let index index 0 denot index set 0 0 correspond via r rrelat notat exist index relat r ie relat index index 0 1 two indic relat correspond state relat r 2 monoton 3 index relat index 0 vice versa 4 side squar alway label side triangl label formal requir 1 2 3 1 total 4 write b 2 r everi execut execut 0 b everi nite execut nite execut 0 b figur 5 illustr correspond two execut automata b figur 3 u0 u2 u2 u2 u2 figur 5 execut correspond anoth notion correspond present gssl93 sall93 formal mue98 within theori io automata execut correspond play crucial role proof preserv safeti live properti notion restrict one gssl93 sall93 technic simpler moreov advantag preserv properti paper studi safeti properti suce know correspond execut trace latter fact establish next lemma lemma 33 correspond execut fragment trace 1 suppos index relat 2 proof 1 suppos induct trace 0 clearli trace 0 induct step suppos reason symmetri may assum wlog 0 let j 0 largest index j 0 j relat indic less equal j total least one index distinguish three case 1 j condit 4b induct hypothesi trace henc trace 0 2 1 condit 4a induct hypothesi trace henc trace 0 3 j 0 j 1 condit 2 3 j 1 2 condit 4c impli induct hypothesi trace henc trace 0 complet proof induct step 2 suppos 0 exist index relat relat 0 use 1 fact 1 total follow nite prex trace also nite prex trace 0 vice versa impli next corollari use repeatedli rest paper state order prove trace inclus automata b suce nd execut correspond execut b depend whether one want prove inclus trace nite trace stronger resp weaker type execut correspond requir corollari 34 execut correspond impli trace inclus 1 b 2 r b 2 r 2 b 2 r b 3 b 2 r b proof statement 1 follow denit statement 2 3 follow immedi lemma 33 denit 33 sound partial complet next theorem state step renement b possibl construct execut correspond execut b use corollari 34 impli step renement constitut sound techniqu prove trace inclus addit next theorem also allow us use step renement sound techniqu prove implement relat live automata gssl93 sall93 mue98 theorem 35 sound step renement r step renement b b 2 r suppos r step renement b let execut induct dene execut index relat 0 rrelat via start dene u declar 0 0 element suppos nonnal index distinguish two case 1 rs i1 element 2 otherwis declar element construct use dene properti step renement follow index relat impli b 2 r step renement alon provid complet method prove trace inclus partial complet result howev theorem 36 partial complet step renement suppos forest b determinist b r b proof relat r step renement b actual even slightli strengthen theorem suce assum restrict reachabl state forest b restrict reachabl state deter minist figur 3 automaton restrict reachabl state forest automaton b determinist observ alreadi step renement b even restrict reachabl state automaton b forest automaton determinist observ step renement b practic precondit theorem 36 seldom met higherlevel specic often determinist rare occur lowerlevel specic forest nevertheless step renement use sever substanti case studi see instanc hsv94 ns95 dgrv00 4 norm forward simul even though exist step renement automaton b 0 automaton 0 figur 4 automata trace move function relat becom possibl prove trace b 0 also trace 0 idea formal follow denit norm forward simul b consist relat f statesa statesb function n stepsa statesb wellfound set f denot set fu j u 2 fg 1 2 starta f startb 6 2 b v c write f b exist norm forward simul b intuit behind denit u 2 f either transit stutter step match b match step b c b stutter step decreas norm sinc norm decreas applic claus c claus appli nite number time gener norm function may depend transit state b howev b converg ie innit path one simplifi type norm function though necessarili denit norm function fact approach gs95 alway appli diverg process norm function requir restrict type exampl 41 figur 4 relat indic dash line togeth arbitrari norm function norm forward simul b 0 0 consid automata b figur 3 let n function assign norm 1 state s0 norm 0 state n togeth relat indic dash line constitut norm forward simul b u2 u3 figur must take step c account consid automata c figur 6 let norm function satisfi togeth relat indic dash line constitut norm forward simul c hard see exampl converg norm necessarili depend select step c next proposit assert norm forward simul inde gener step rene ment proposit 42 r b proof togeth arbitrari norm function step renement view relat norm forward simul sound norm forward simul trivial impli follow lemma corollari 34 lemma 43 suppos f n norm forward simul b execut fragment rst state u state b u 2 f b execut fragment 0 start u 0 function cs 1 2 v 3 x exist c choos left move l common move c b right move r b guarante fact f n norm forward simul induct dene sequenc 4tupl n n actsb statesb rst element sequenc z element sequenc nonnal index dene z k1 follow 1 cs 2 cs 3 cs suppos j b u occur sequenc claim see true assum wlog j b u occur observ valu rst second compon element increas monoton mean successor j b u includ obtain predecessor appli rule 1 impli second resp third compon element sequenc j b u use properti dene element j b u b occur g construct use properti c follow 0 execut fragment b start u index relat f impli 0 theorem 44 sound norm forward simul f norm forward simul b b 2 f proof immedi denit lemma 43 exampl 45 consid automata c e figur 7 exist norm forward u2 u3 figur 7 dierenc forward simul norm forward simul simul c e simul would relat state s0 u0 order e simul step s0 b would also relat state s0 u2 imposs sinc state u2 way simul step s0 s1 turn exist forward simul sens lv95 c e case forward simul step may match sequenc step b trace mean denit norm forward simul condit 2 replac 2 execut fragment tracea last 2 f dash line figur 7 indic forward simul c e automata b figur 3 provid us similar exampl exist forward simul b norm forward simul dierenc forward simul norm forward simul similar dierenc milner observ equival mil89 branch bisimul glabbeek weijland gw96 fact character norm forward simul term branch forward simul notion inspir branch bisimul gw96 similar character obtain namjoshi nam97 set stutter bisimul formal branch forward simul b relat f statesa statesb 1 2 starta f startb 6 2 u 2 f b execut fragment start u frelat follow theorem impli exist norm forward simul two automata branch forward simul theorem 46 1 suppos f n norm forward simul b f branch forward simul b 2 suppos f branch forward simul b let ns u 0 u 62 f otherwis equal length shortest execut fragment start u frelat f n norm forward simul b proof part 1 follow lemma 43 proof part 2 routin interest corollari theorem 46 exist norm forward simul two automata fact norm forward simul norm natur number rang proof branch bisimilar equival known tricki bas96 likewis proof branch forward simul induc preorder nontrivi rst need dene auxiliari concept reduc index relat prove lemma suppos 0 rrelat via index relat say reduc follow two condit satis 1 nite relat nal index nal index 0 2 nfree observ nite reduc 0 also nite follow technic lemma state index relat alway reduc lemma 47 suppos 0 rrelat via index relat 0 prex 00 rrelat via reduc index relat j proof innit let nite let 00 nite prex 0 includ rst state whose index relat nal index induct dene sequenc pair n n rst element sequenc z element sequenc nonnal index dene z k1 follow 1 2 3 note sinc index relat z k1 properli dene let occur g routin check j 00 rrelat via j j reduc point total j j 1 prove j total contradict suppos j total let smallest index j smallest index 0 j exist sinc index relat total let l maxim index 0 maxim index sinc impli l j monoton index relat let z henc contradict fact l maxim index 0 similar way also total j 1 nfreeness prove contradict prepar prove branch forward simul henc also norm forward simul induc preorder proposit 48 f preorder proof exiv observ ident function statesa branch forward simul transit suppos f g branch forward simul b b c respect claim g f branch forward simul c trivial check g f satis condit 1 denit branch forward simul condit 2 suppos exist state w b henc execut fragment start w frelat via index relat lemma 47 may assum reduc also execut fragment 0 start u 0 grelat via index relat j lemma 47 may assum j reduc use fact j reduc routin check 0 g frelat via index relat j thu g f satis condit 2 denit branch forward simul variant partial complet result appear sever paper see instanc jon87 lv95 sinc higherlevel specic often determinist result explain practic norm forward simul often use prove behavior inclus theorem 49 partial complet normedbranch forward simul b determinist b f b proof relat f branch forward simul b interest note one result lv95 concern forward simul carri normedbranch simul paper result proposit 312 state forest f b r b automata c figur 6 constitut counterexampl actual proposit 312 also carri set time automata studi lv96 5 norm backward simul observ exist norm forward simul automaton b automaton figur 3 even though automata trace also exist norm forward simul automaton c trace equival automaton e figur 7 case forward simul sens lv95 exist howev exampl figur 8 show also forward simul yet provid us complet method prove trace inclus wellknown literatur complet obtain ad form backward simul exampl 51 exist normedbranch forward simul automaton c automaton f figur 8 relat indic dash line fail sinc state u0 bstep s0 simul wherea u2 astep s0 simul u2 u3 b figur 8 need backward simul mani respect backward simul dual forward simul wherea forward simul requir state imag start state start state backward simul essenti requir state imag start state start state also forward simul requir forward step sourc automaton simul relat state target automaton wherea correspond condit backward simul requir backward step simul howev two notion complet dual denit backward simul contain nonempti condit also order obtain sound gener trace inclus backward simul also requir nite imag condit mismatch due asymmetri automata futur past given state possibl histori nite execut wherea possibl futur innit formal dene norm backward simul b pair total relat b statesa statesb function wellfound set satisfi 1 2 b u c 9v norm backward simul b ib b norm backward simul b imagenit exampl 52 figur 8 relat indic dash line norm backward simul c e arbitrari norm function dicult construct norm backward simul automaton b automaton figur 3 automaton c automaton e figur 7 u0 u1 u2 u3 u4 g figur norm backward simul figur 9 illustr dierenc b ib relat statesgstatesh togeth arbitrari norm function constitut norm backward simul g h claim imagenit norm backward simul exist suppos b relat impli sinc state si relat least one state sj follow state s0 relat innit mani state contradict follow proposit state trivial connect preorder induc norm backward simul step renement proposit 53 1 state reachabl r b ib b 2 ib b b b proof trivial next lemma requir prove sound norm backward simul lemma 54 suppos b n norm backward simul b nite execut fragment last state u state b u 2 bs b nite execut fragment 0 end u 0 2 b moreov execut 0 chosen execut well proof similar proof lemma 43 lemma 54 corollari 34 exist norm backward simul impli inclus nite trace norm backward simul howev gener sound method prove inclus innit trace counterexampl consid automata g h figur 9 exist norm backward simul g h innit trace g trace h wellknown literatur sound method prove inclus innit trace obtain requir imag nite simul relat theorem 55 sound norm backward simul 1 b norm backward simul b b 2 b 2 moreov b imagenit b 2 b proof statement 1 follow immedi lemma 54 total b order prove 2 suppos b imagenit let execut establish exist execut 0 b 0 2 b nite follow lemma 54 total b assum innit use minor variat konig lemma knu97 occur lv95 let g innit digraph 1 g nite mani root ie node without incom edg 2 node g nite outdegre 3 node g reachabl root innit path g start root node graph g consid pair nite execut b index relat relat nite prex edg node node prex 0 0 extend precis one element straightforward check g satis condit konig lemma henc g innit path let j union index relat occur node path let 0 limit nite execut node path observ imagenit b index occur domain j henc 0 follow proposit 56 sens convers proposit 53 proof similar correspond result lv95 proposit 56 1 b determinist b b r b 2 state reachabl b n b b ib b proof 1 suppos b determinist b norm backward simul b suppos reachabl state prove bs contain exactli one element sinc norm backward simul function reachabl state trivial induc step renement give us r b b norm backward simul total relat know bs contain least one element suppos u reachabl execut end lemma 54 b execut 1 2 end u 1 u 2 respect 1 use fact b determinist 2 suppos state reachabl b n b norm backward simul b suppos state sinc reachabl execut end let trace lemma 54 exist u 2 bs execut u b end u u henc bs b sinc b n b nite lemma 212 henc b imagenit forward case character norm backward simul term branch backward simul use character establish b ib preorder branch backward simul b total relat b statesa statesb 1 2 starta u 2 bs b execut end u brelat 2 u 2 f b execut fragment end u brelat theorem 57 1 suppos b n norm backward simul b b branch backward simul b 2 suppos b branch backward simul b let ns u 0 start state u 62 bs otherwis equal length shortest execut end u brelat furthermor let nt u 0 u 62 f otherwis equal length shortest execut fragment end u brelat b n norm forward simul b proof statement 1 follow lemma 54 proof statement 2 routin forward case see exist norm backward simul two automata fact norm backward simul norm natur number rang proposit 58 b ib preorder proof similar proof proposit 48 follow partial complet result variat result jon90 lv95 theorem 59 partial complet norm backward simul forest b b b proof relat b b pasta branch backward simul b note proposit 56 strengthen conclus theorem 59 ib b case b nite invis nondetermin exampl 510 consid automata 0 b 0 figur 4 exist norm backward simul b 0 0 relat indic dash line fail sinc backward transit state u0 simul relat state s0 consequ also norm backward simul provid complet proof method establish trace inclus next section see complet obtain combin norm forward backward simul 6 norm histori relat section dene norm histori relat provid abstract view histori variabl abadi lamport al91 turn abstract auxiliari variabl owicki gri og76 pair r n norm histori relat b r step renement b r 1 n norm forward simul b write h b exist norm histori relat b implic preorder sound result norm forward simul step renement carri norm histori relat fact r n norm histori relat b r function branch bisimul b sens van glabbeek weijland gw96 henc histori relat preserv behavior automata strong sens intuit histori relat b b obtain ad extra state variabl record inform histori execut exampl 61 consid automata 0 b 0 figur 4 togeth arbitrari norm function dash line constitut norm histori relat b 0 0 observ step renement b 0 0 exist norm histori relat 0 b 0 import exampl histori relat provid unfold construct unfold automaton notat unfolda automaton obtain record complet histori execut formal unfolda automaton b dene set execut consist singl start state next proposit relat automaton unfold proposit 62 unfolda forest h unfolda proof clearli unfolda forest function last map nite execut last state step renement unfolda relat last 1 togeth arbitrari norm function norm forward simul unfolda follow complet theorem variat result due sistla sis91 assert norm histori relat togeth norm backward simul constitut complet proof method establish trace inclus consequ also norm forward simul togeth norm backward simul constitut complet proof method theorem 63 complet norm histori relat norm backward simul b exist automaton c h c b b proof take unfolda proposit 62 c forest h c sinc b also c b sound histori relat next appli partial complet result backward simul theorem 59 conclud c b b observ assum addit b n may replac b ib conclus use proposit 56 norm forward simul equival norm histori variabl combin step renement whenev norm forward simul b nd intermedi automaton c norm histori relat c step renement c b convers implic trivial hold sinc norm histori relat step renement special case norm forward simul order prove exist automaton c need dene notion superposit automata prove technic lemma let r statesa statesb relat r starta startb 6 superposit b via r automaton c dene u v 2 statesc 2 actsc u essenti superposit usual parallel composit b set state restrict r lemma 64 suppos f n norm forward simul b let let 1 2 project function map state c rst second compon respect let n 0 norm function given n 0 histori relat c 2 step renement c b proof straightforward denit theorem 65 f b proof implic follow lemma 64 implic suppos h c r b f c denit histori relat c f b step renement norm forward simul f b follow fact f preorder ak96intermezzo 323 klop ariola state remark result domain nite branch process graph ie automata consid modulo isomorph preorder induc function bisimul ie histori relat fact partial order h b b author also present counterexampl show nite branch properti need prove result present slight gener result ak96 set paper turn sucient assum automata nite invis nondetermin n theorem 66 suppos b n reachabl subautomata b isomorph proof suppos f n norm histori relat b g norm histori relat b b n starta startb nite sinc f step renement map start state b start state use f 1 forward simul infer f surject start state henc j startb j j starta j similar argument use g norm histori relat b obtain j mean f also inject start state let arbitrari trace b use similar argument infer sinc lemma 212 b nite follow mean f g inject set afterb respect sinc reachabl state set b aftera follow f inject state requir isomorph properti follow fact f g step renement intuit one may interpret result follow h b b contain histori inform b contain histori inform contain histori inform b equal 7 norm propheci relat section dene norm propheci relat show correspond norm backward simul similarli way norm histori relat correspond norm forward simul pair r n norm propheci relat b r step renement b r 1 n norm backward simul b write p b norm propheci relat b ip b norm propheci relat r n r 1 imagenit thu ip b impli ib b p b p b impli b b b r moreov state reachabl b nite invis nondetermin p b ip b easi check preorder sound result backward simul renement carri propheci relat follow lemma analogu lemma 64 backward set use lemma prove norm backward simul equival norm propheci variabl combin step renement lemma 71 suppos b n norm backward simul b let let 1 2 project function map state c rst second compon respect let n 0 norm function given n 0 propheci relat c 2 step renement c b b imagenit 1theorem 72 1 2 ib b proof analog theorem 65 use lemma 71 prove variant wellknown complet result abadi lamport al91 theorem 73 complet norm historypropheci relat step renement suppos b 1 2 b n 9c h c ip r b proof theorem 63 exist automaton c h c b b next theorem 72 yield requir automaton c p r b prove 1 proof 2 similar use proposit 56 follow theorem state p partial order class automata n consid modulo isomorph reachabl subautomata proof analog theorem 66 correspond result norm histori relat theorem 74 suppos b n reachabl subautomata b isomorph 8 decid thu far exposit pure semant word al91 consid specic languag express prove exist renement map said noth whether express languag section move syntact world discuss decid issu end x languag dene automata languag view simpli version ioa languag glv97 assum underli assert languag l rstorder languag interpret symbol express function predic concret domain integ array list integ x set type variabl write f x ex collect formula express respect variabl x may occur free automaton describ syntact rst specifi nite set x variabl refer state variabl state variabl x assum presenc copi x 0 call prime version x write x 0 set fx 0 j x 2 xg formula write 0 formula obtain replac occurr state variabl prime version set state automaton dene set valuat state variabl x set initi state speci predic f x call initi condit action speci via nite number action name action name nite list v variabl call paramet assum fvg set action automaton dene union action name tupl valuat paramet v respect domain transit relat speci provid action name paramet v transit predic f xfvgx 0 ie predic may contain action paramet well prime unprim state variabl exampl 81 specifi fifo channel selfexplanatori ioa like syntax glv97 automaton channel state buffer seqnat initi condit action sendv nat receivev nat tau transit action sendv predic action receivev predic buffer action tau predic fals piec syntax dene automaton stepsa least set contain follow element 2 n 2 n sendd receiv assum speci two automata b use state variabl x respect let step renement b speci formula form list express ex match term length type formula rst conjunct dene domain step renement wherea second conjunct dene map state state b specifi state variabl b valu term valu state variabl norm forward simul describ predic f x togeth action type paramet v express ex fvg speci norm function practic norm function often depend state b mean speci mean singl express ey exampl 82 consid follow specic essenti chain two fifo channel automaton twochannel state buffer1 seqnat buffer2 seqnat initi condit action sendv nat receivev nat tau transit action sendv predic action receivev predic buffer2 action tau predic buffer1 let b automaton denot specic easi prove formula dene step renement b automaton exampl 81 also routin check formula togeth norm state b dene buffer1 dene norm forward simul b show reason sucient certainli necessari assump tion fact decid whether given predicateexpress inde correspond step renement norm forward simul assum automaton describ use state variabl x initi condit 0 action name transit predic likewis assum automaton b describ use state variabl initi condit 0 action name transit predic assum action name also action name b paramet b write p list paramet requir p suppos want check whether formula denot step renement equival prove valid follow formula formula rst conjunct assert function dene start state second conjunct start state map onto start state b third conjunct function dene sourc transit also dene target state transit two nal conjunct encod transfer condit thu check whether partial function step renement b decid partial function well b express within fragment l tautolog check decid next suppos want check whether formula togeth norm express n action name denot norm forward simul b order turn decid question make addit assumpt specic b assum b nite mani start state 2 list explicitli ie requir initi condit 0 form 0 nite index set 0 list close term addit assum state given valu action paramet nite mani transit possibl b list explicitli formal requir action type transit predic form i2ia nite index set formula f fp g 0 list express ey fp g basic give precondit ith instanc transit speci eect take assumpt 3 4 satis automaton specic one encount practic particular assumpt hold channel speci exampl 81 81 specic involv nondeterminist choic priori bound fall outsid format exampl describ 93 fifo channel crash action may result loss arbitrari subset messag contain buer assumpt 3 4 elimin existenti quantier occur denit norm forward simul check condit denit becom equival prove valid follow formula i2ia i2i i2i i2i formula express within fragment l tautolog check decid decid whether togeth express n constitut norm forward simula tion easi see similar result also obtain norm histori variabl thu far howev abl come plausibl syntact restrict applic practic case ensur decid norm backward simul andor norm propheci relat instanc clear one elimin existenti quantier formula assumpt relax assum valu certain state variabl b fulli determin state state variabl initi valu left unspeci assert norm backward simul state exist relat state b decid result step renement norm forward simul carri renement forward simul describ instanc lv95 order see let system two state initi nal one singl transit label halt initi nal state let b system simul nth ture machin comput step ture machin correspond move move via haltact design nal state comput ture machin termin function map initi state initi state b nal state nal state b weak renement nth ture machin halt straightforward specifi b function state state b decid logic henc undecid whether given function weak renement even set underli logic decid 9 reachabl sake simplic denit simul renement far present without mention reachabl invari howev practic veric almost alway case rst invari properti hold reachabl state establish lowerlevel andor higherlevel specic invari use prove step correspond section show integr reachabl concern simul denit specic present adapt version step renement norm forward simul norm backward simul includ reachabl con cern discuss relationship origin denit exampl use adapt denit formal pv refer gri00 adapt step renement b consist partial function r satisfi follow two condit 1 2 starta 2 domainr rs 2 startb 2 b rs b rt claus reachablea condit 2 allow us reus invari previous establish lowerlevel specic wherea claus reachableb rs condit 2 make possibl reus known invari higherlevel specic b adapt denit easili seen special case origin denit section 31 r adapt step renement restrict r 0 r dene regular step renement convers regular step renement trivial satis condit adapt version adapt norm forward simul b consist relat f statesa statesb function n stepsa statesb wellfound set 1 2 starta f startb 6 2 b v c claus reachablea condit 2 allow us reus invari previous establish wherea claus reachableb u condit 2 permit reus invari b adapt denit easili seen special case origin denit section 4 f n adapt norm forward simul pair g n reachableb regular norm forward simul convers regular norm forward simul trivial adapt norm forward simul adapt norm backward simul b consist relat b statesa statesb predic q statesb function wellfound set 1 2 c 9v 3 reachablea 9u claus reachablea condit 2 allow us reus invari previous establish claus qu condit 2 permit reus invari b note trivial induct argument backward simul never relat reachabl state nonreach state b thu safe restrict rang backward simul invari proven b end predic q includ denit adapt norm backward simul even though strictli speak 1 q need invari 2 q alway elimin restrict rang b adapt denit special case origin denit section 5 b n adapt norm backward simul b n also regular norm backward simul automaton 0 restrict reachabl state automaton b 0 restrict b state q convers regular norm backward simul trivial adapt norm backward simul leav reader work adapt version norm histori propheci relat acknowledg thank mariel stoelinga spot mistak earlier version paper jan willem klop discuss led us theorem 66 r equat term graph rewrit exist branch bisimilar equival inde power techniqu automat gener invari norm function probabilist bisimul delay three logic branch bisimul algebra theori automata ioa languag speci focu point converg process oper branch time abstract bisimul semant composit veri decompos fundament algorithm hierarch correct proof distribut algo rithm untim system ii timingbas system distribut algorithm visual abstract tempor veri englewood cli simpl character stutter bisimul io automata isabellehol axiomat proof techniqu parallel program formal veri data prove correct respect nondeterminist safeti speci tr hierarch correct proof distribut algorithm prove entail conceptu state specif character finit kripk structur proposit tempor logic decompos refin specif distribut system exist refin map prove correct respect nondeterminist safeti specif languag tool formal specif composit specif verif distribut system prove nondeterminist specifi safeti properti use progress measur proofcheck data link protocol three logic branch bisimul formal verif faulttoler architectur forward backward simul branch bisimilar equival inde forward backward simul ii branch time abstract bisimul semant equat term graph rewrit art comput program volum 1 3rd ed model proof system asynchron network verif leader elect protocol distribut algorithm commun concurr visual abstract tempor verif increment verif abstract possibl infinit sequenc theorem prover iq automata isabellehol simul specif distribut system norm function probabilist bisimul delay simpl character stutter bisimul norm simul computerassist simul proof power techniqu automat gener invari verifi safeti properti use nondeterminist infinitest automata focu point converg process oper live time untim system correct commun protocol case studi algebra definit simul program